(window.webpackJsonp=window.webpackJsonp||[]).push([[48],[,,,function(e,t,r){var n=e.exports=new(r(151)),i={api_v2_host:!0,api_auth_host:!0,auth_ui_host:!0,env:!0,recaptcha_public_key:!0,checkout_host:!0,forceCredentials:!0,allowConfigOverride:!0,web_auth_use_test_captcha:!0};r(0).each({app_id:1e3*String(Date.now()).substr(-8)+Math.floor(1e3*Math.random()),app_version:null,public_api_host:"https://api.soundcloud.com/",api_v2_host:"https://api-v2.soundcloud.com/",api_auth_host:"https://api-auth.soundcloud.com/",auth_ui_host:"https://secure.soundcloud.com/",web_auth_use_test_captcha:!1,client_application_id:46941,client_id:"iDJ0Aa4u1XF1NNjmMMsbSMv0ugQz4xEQ",env:"production",eventlogger_tracking_url:"https://l9bjkkhaycw6f8f4.soundcloud.com",checkout_host:"https://checkout.soundcloud.com",experiments:null,geoip:null,privacy_settings:null,airbrake_project_key:"04b3f291e3db982608ca3611c0e3f6fe",airbrake_project_id:"129825",fb_app_id:"19507961798",google_client_id:"984739005367.apps.googleusercontent.com",recaptcha_public_key:"6LeAxT8UAAAAAOLTfaWhndPCjGOnB54U1GEACb7N",playHistoryLength:50,maxComments:200,me:null,mixi_api_key:"1403ed11563185e9cff6cfeedf4f2ecf77fa459e",notifications:null,notificationsUri:"wss://pushers.soundcloud.com/",oauth_token:null,preferFlashAudio:!0,promotedContentServer:"https://promoted.soundcloud.com/promo",promotedContentAccessToken:"web",rubiconPartnerCode:16386,restoreToSound:null,rollouts:null,router:null,songkick_api_key:"ZWsLr2h7FF5sHG54",facebook_api_key:"a7309b9a9a85963579f7e8bcffd36d2a",versionOutOfDate:!1,versionUpdateInterval:r(26).MS_IN_HOUR,visualsQueueHost:"https://visuals-queue.soundcloud.com/visuals",wisHost:"https://wis.sndcdn.com",systemUserId:193},(function(e,t){n.set(t,e,{silent:!0})})),"object"==typeof window.__sc_env&&r(0).each(window.__sc_env,(function(e,t){i[t]&&n.set(t,e,{silent:!0})})),n.finalize()},,,,,function(e,t,r){var n,i,o=new(r(44))("broadcast"),a=r(3).get("app_id");o.on("broadcast",(function(e){var t=e.current;t&&t.appId!==a&&i.call(s,t)}));var s=e.exports=r(0).assign({},r(22).Events,{broadcast:function(e,t){var r,a;return"string"==typeof e?(r=[].slice.call(arguments,1),t=e,e={}):r=[].slice.call(arguments,2),a=n(t,r),o.set("broadcast",a),e.excludeThis||i.call(this,a),this}});n=function(e,t){return{type:e,timestamp:Date.now(),appId:a,args:t}},i=function(e){this.trigger.apply(this,["broadcast:"+e.type].concat(e.args||[]))}},function(e,t,r){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var r=function(e,t){var r=e[1]||"",n=e[3];if(!n)return r;if(t&&"function"==typeof btoa){var i=(a=n,s=btoa(unescape(encodeURIComponent(JSON.stringify(a)))),u="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(s),"/*# ".concat(u," */")),o=n.sources.map((function(e){return"/*# sourceURL=".concat(n.sourceRoot).concat(e," */")}));return[r].concat(o).concat([i]).join("\n")}var a,s,u;return[r].join("\n")}(t,e);return t[2]?"@media ".concat(t[2],"{").concat(r,"}"):r})).join("")},t.i=function(e,r){"string"==typeof e&&(e=[[null,e,""]]);for(var n={},i=0;i<this.length;i++){var o=this[i][0];null!=o&&(n[o]=!0)}for(var a=0;a<e.length;a++){var s=e[a];null!=s[0]&&n[s[0]]||(r&&!s[2]?s[2]=r:r&&(s[2]="(".concat(s[2],") and (").concat(r,")")),t.push(s))}},t}},function(e,t,r){"use strict";var n,i={},o=function(){return void 0===n&&(n=Boolean(window&&document&&document.all&&!window.atob)),n},a=function(){var e={};return function(t){if(void 0===e[t]){var r=document.querySelector(t);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(e){r=null}e[t]=r}return e[t]}}();function s(e,t){for(var r=[],n={},i=0;i<e.length;i++){var o=e[i],a=t.base?o[0]+t.base:o[0],s={css:o[1],media:o[2],sourceMap:o[3]};n[a]?n[a].parts.push(s):r.push(n[a]={id:a,parts:[s]})}return r}function u(e,t){for(var r=0;r<e.length;r++){var n=e[r],o=i[n.id],a=0;if(o){for(o.refs++;a<o.parts.length;a++)o.parts[a](n.parts[a]);for(;a<n.parts.length;a++)o.parts.push(y(n.parts[a],t))}else{for(var s=[];a<n.parts.length;a++)s.push(y(n.parts[a],t));i[n.id]={id:n.id,refs:1,parts:s}}}}function l(e){var t=document.createElement("style");if(void 0===e.attributes.nonce){var n=r.nc;n&&(e.attributes.nonce=n)}if(Object.keys(e.attributes).forEach((function(r){t.setAttribute(r,e.attributes[r])})),"function"==typeof e.insert)e.insert(t);else{var i=a(e.insert||"head");if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");i.appendChild(t)}return t}var c,d=(c=[],function(e,t){return c[e]=t,c.filter(Boolean).join("\n")});function f(e,t,r,n){var i=r?"":n.css;if(e.styleSheet)e.styleSheet.cssText=d(t,i);else{var o=document.createTextNode(i),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(o,a[t]):e.appendChild(o)}}function p(e,t,r){var n=r.css,i=r.media,o=r.sourceMap;if(i&&e.setAttribute("media",i),o&&btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}var h=null,g=0;function y(e,t){var r,n,i;if(t.singleton){var o=g++;r=h||(h=l(t)),n=f.bind(null,r,o,!1),i=f.bind(null,r,o,!0)}else r=l(t),n=p.bind(null,r,t),i=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(r)};return n(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;n(e=t)}else i()}}e.exports=function(e,t){(t=t||{}).attributes="object"==typeof t.attributes?t.attributes:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=o());var r=s(e,t);return u(r,t),function(e){for(var n=[],o=0;o<r.length;o++){var a=r[o],l=i[a.id];l&&(l.refs--,n.push(l))}e&&u(s(e,t),t);for(var c=0;c<n.length;c++){var d=n[c];if(0===d.refs){for(var f=0;f<d.parts.length;f++)d.parts[f]();delete i[d.id]}}}}},,,,,,,function(e,t,r){var n=r(77).errors.PlayerError,i=r(77).errors.NotSupportedError,o=r(0).constant(1),a=60*r(26).MS_IN_SECOND,s=function(e,t){var r=t.target,n=t.targetType;return e.id===r&&"sound"===n},u=[{emitter:r(23),event:"like",getInstance:s,handler:function(e){this.onLike(e)}},{emitter:r(23),event:"repost",getInstance:s,handler:function(e){this.onRepost(e)}},{emitter:r(23),event:"comment",getInstance:s,handler:function(e){this.onComment(e)}}],l=r(534).withOptions({batchEndpoint:"trackBatch",getBatchParams:function(e){var t=e.playlist;return t&&"public"!==t.get("sharing")&&!r(3).get("me").owns(t)?{playlistId:t.id,playlistSecretToken:t.get("secret_token")}:null}}),c=e.exports=r(18).extend(l,r(362),r(1006),r(523),r(1007),r(135).withOptions({attr:"title"}),r(113).withOptions({read:"artwork_url",write:"image_data",useFormData:!1}),r(273),r(536),r(157).withOptions({events:u}),{resource_type:"sound",urnPrefix:"soundcloud:tracks",getEndpointForMethod:function(e){switch(e){case"read":return{name:"track",pathParams:{urn:this.get("urn")},queryParams:{secret_token:this.get("secret_token")}};default:return null}},player:null,_visuals:null,_lastActionMetadata:{},submodelMap:{user:r(32)},timeOffset:0,playlist:null,originalSound:null,ownerAttributes:["scheduled_public_date","scheduled_timezone","geo_blockings","isrc_state","managed_by_feeds","reveal_comments","reveal_stats","monetization_enabled","disabled_reason","mastering_eligibility"],_temporarilyUnavailable:!1,_unavailableResetTimer:null,_checkpointInterval:void 0,_playable:!0,_preloadingCounter:0,setup:function(e,t){this._checkpointInterval=t.checkpointInterval,this._ad_attributes=t.ad_attributes,this._soundContext=t.soundContext,this.getSounds=r(0).memoize(this.getSounds),this.listenTo(this,"change:visuals",d).listenTo(this,"change:policy",f),this.attrExists("visuals")&&d.call(this),f.call(this)},getSubmodelOptions:function(e){return"user"===e?{parse:!0}:null},ownerUrl:function(){return this.getEndpointUrl("trackAsOwner",{urn:this.getUrn()})},parse:function(e){var t=e.schedule,n=c.instances.get(c.hashFn(e)),i=function(e){return r(0).has(e,"scheduled_timezone")&&r(0).has(e,"scheduled_public_date")};return i(e)||n&&i(n.attributes)&&!t?e:(e.scheduled_timezone=t&&t.timezone,e.scheduled_public_date=t&&Date.parse(t.sunrise),e)},baseUrl:function(){return this.getEndpointUrl("track",{urn:this.getUrn()})},destroyUrl:function(){return this.getEndpointUrl("trackDelete",{id:this.id})},getImageSaveUrl:function(){return this.getEndpointUrl("trackArtworkUpdate",{urn:this.getUrn()})},extractSecretToken:function(e){return r(19).parse(e.uri).query.secret_token},play:function(e){void 0===e&&(e={}),this._lastActionMetadata=e,this.createPlayer()&&(e&&"number"==typeof e.seek&&this.player.seek(e.seek),this.player.play())},pause:function(e){void 0===e&&(e={}),this._lastActionMetadata=e,this.player&&(e&&"concurrent_streaming"===e.pause_reason?this.player.pauseAfterFade(3e3):(this._lastActionMetadata=r(0).extend({userInitiated:!0},this._lastActionMetadata),this.player.pause()))},seek:function(e){this.createPlayer()&&this.player.seek(e)},seekRelative:function(e){if(this.createPlayer()){var t=r(64).clamp(this.player.getPosition()+e,0,this.getMediaDuration());this.player.seek(t)}},getSounds:function(){return[this]},getCurrentSound:function(){return this},getNumSounds:o,getSoundIndex:function(e){return e===this?0:-1},containsSound:function(e){return e===this},isBuffering:function(){return!!this.player&&this.player.isLoading()},isPlaying:function(){return!!this.player&&this.player.isPlaying()},loadProgress:function(){if(!this.player)return 0;var e=this.player.getCurrentBufferedTimeRange();return e?Math.min(1,e.end/this.getMediaDuration()):0},currentTime:function(){return!this.player||this.player.isEnded()?0:this.player.getPosition()},getListenTime:function(){return this.player?this.player.getListenTime():0},isNowPlaying:function(){return r(12).getCurrentSound()===this},progress:function(){return r(64).clamp(this.currentTime()/this.getFixedDuration(),0,1)},duration:function(){return this.get("full_duration")||this.get("duration")},getFixedDuration:function(){return Math.max(this.duration(),this.getMediaDuration())},getMediaDuration:function(){var e=null;return this.player&&(e=this.player.getDuration()),null!==e?e:this.get("duration")||0},getQuality:function(){return this.player?this.player.getQuality():null},isPlayable:function(){return this._playable},makeTemporarilyUnavailable:function(){var e=this;this._temporarilyUnavailable=!0,window.clearTimeout(this._unavailableResetTimer),this._unavailableResetTimer=window.setTimeout((function(){e._temporarilyUnavailable=!1,f.call(e)}),3e4),f.call(this)},isProcessing:function(){var e=this.get("state");return"finished"!==e&&null!=e},isEditing:function(){return!1},isCommentable:function(){return!1!==this.get("commentable")},isBlocked:function(){return"BLOCK"===this.get("policy")},isSnippetized:function(){return"SNIP"===this.get("policy")},isMonetized:function(){return"MONETIZE"===this.get("policy")},isAllowed:function(){return"ALLOW"===this.get("policy")},isDownloadable:function(){return Boolean(this.get("downloadable")&&this.get("has_downloads_left"))},hasMonetizedTerritories:function(){var e=(this.get("monetization")||{}).territories;return Boolean(e&&e.length>0)},isAd:function(){return!!this.get("is_ad")},isEligibleForMastering:function(){var e;return!0===(null==(e=this.get("mastering_eligibility"))?void 0:e.eligible)},isMastered:function(){var e;return!this.isEligibleForMastering()&&"TRACK_IS_ALREADY_MASTERED"===(null==(e=this.get("mastering_eligibility"))?void 0:e.reason)},getOriginalSound:function(){return this.originalSound||this},hasMinPlayTime:function(){return this.getListenTime()>=.25*this.getMediaDuration()},createPlayer:function(){var e=this;if(!this.player){if(this.isDisabled())return!1;window.clearTimeout(this._unavailableResetTimer),this._temporarilyUnavailable=!1;try{var t=r(0).assign({soundContext:this._soundContext,checkpointInterval:this._checkpointInterval,audioReporter:this.trackAudioEvent.bind(this)},this.isAd()?{type:r(537).PlayerType.AD,url:this.get("url")}:{type:r(537).PlayerType.GENERAL,dataPromise:this.getOrFetch(["secret_token","duration","policy","media"]).then((function(t){var n=t.secret_token,i=t.duration,o=new(r(1008).Signal),a=r(0).debounce(o.trigger,0);return e.on("change:policy change:media",a),{trackUrn:e.getUrn(),trackId:e.id,secretToken:n,duration:i,getPolicy:function(){return e.get("policy")},onPolicyOrMediaChange:o,getMediaPayload:function(){return e.get("media")}}}))});this.player=r(538).createPlayer(this.id,t)}catch(e){if(e instanceof n)return this.makeTemporarilyUnavailable(),!1;throw e}var o=this.player,s=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];e.isNowPlaying()&&r(8).trigger.apply(r(8),[t].concat(i))},u=!1;this.playerListeners=[["dead",function(){e.disposePlayer()}],["playStart",function(){u||(u=!0,window.setTimeout((function(){u=!1}),a),e.onPlayRegistered())}],["playerError",function(t){e.makeTemporarilyUnavailable(),s(t instanceof i?"error:audio_no_streams":"error:audio_error")}],"play","pause","playStart","buffering:start","buffering:end","seeked","time","finish","qualityChanged","playerError"].map((function(t){if(r(0).isArray(t)){var n=t[0],i=t[1];return o.addEventListener(n,i)}return o.addEventListener(t,(a=t,function(t){void 0===t&&(t={});var n=r(0).extend({type:a,sound:e,model:e},t);e.trigger(a,n),r(8).trigger("audio:"+a,n)}));var a})),this._preloadingCounter>0&&o.enablePreloading()}return!0},requestPreloading:function(){this._preloadingCounter++||this.createPlayer()&&this.player.enablePreloading()},unrequestPreloading:function(){--this._preloadingCounter||this.player&&this.player.disablePreloading()},disposePlayer:function(){this.player&&(r(0).forEach(this.playerListeners||[],(function(e){e.remove()})),this.playerListeners=null,this.player.kill(),this.player.release(),this.player=null,window.clearTimeout(this._unavailableResetTimer))},toJSON:function(){var e=r(18).prototype.toJSON.apply(this,arguments);return e._playlist={},this.playlist&&r(0).each(["id","permalink","permalink_url","secret_token","user_id"],(function(t){e._playlist[t]=this.playlist.get(t)}),this),e},saveUrl:function(){return this.isNew()?this.getEndpointUrl("trackCreate"):this.getEndpointUrl("trackUpdate",{urn:this.getUrn()})},saveFormat:"json",getAttributesToBeSaved:function(){var e=["api_streamable","commentable","description","downloadable","embeddable","feedable","genre","isrc","isrc_generate","label_name","license","monetization","original_filename","permalink","purchase_title","purchase_url","release_date","replacing_uid","replacing_original_filename","reveal_comments","reveal_stats","sharing","shared_to","tag_list","title","uid","geo_blockings","publisher_metadata","restrictions","rightsholders"].reduce(function(e,t){return null!=this[t]&&(e[t]=this[t]),e}.bind(this.attributes),{});return r(0).assign(e,r(0).pick(this.attributes,["scheduled_public_date","scheduled_timezone","scheduled_public_timezone"])),e},trackAudioEvent:function(e){var t=this._lastActionMetadata,n=t.userInitiated,i=t.pause_reason;e.userInitiated=n,e.pauseReason="pause"===e.type?i:void 0,e.isRepeating="one"===r(12).getQueueState().repeatMode,e.currentMetadata=r(12).getCurrentMetadata(),e.sound=this,this._ad_attributes&&(e.ad_attributes=this._ad_attributes),e.currentMetadata?r(11).trackAudioEvent(e):r(175).notify(new Error("No metadata for sound audio event: "+e.type+", "+JSON.stringify(r(12).getCurrentMetadataEmptyReasons())))}},{states:{READY:"ready",PROCESSING:"processing",FAILED:"failed",FINISHED:"finished"},hashFn:function(e){var t=e.resource_id;if(t){if("object"==typeof t){if("playlist_id"in t)return[t.playlist_id,t.sound_id].join("_");if("system_playlist_id"in t)return[t.system_playlist_id,t.sound_id].join("_");if("ad_target_id"in t)return["ad",t.ad_target_id].join("_")}return t}return e.id||null},resolve:function(e,t,n){return r(18)._resolve(this,[e,t,n],(function(r){var n=r.get("user");return n&&r.get("permalink")===t&&n.permalink===e}))},normalize:function(e){var t=e.waveform_url;return t&&t.indexOf("/w1.")>-1&&(e.waveform_url=t.replace(/\/w1\./,"/wis.")),e},onCleanup:function(e){return e._visuals&&(e._visuals.release(),e._visuals=null),e.disposePlayer(),r(18).onCleanup.apply(this,arguments)}});function d(){this._visuals||(this._visuals=new(r(544))(null,{resource_id:this.id})),this._visuals.reset(this.get("visuals"),{parse:!0}),this._visuals.lastFetchTime=Date.now()}function f(){var e=!this.isBlocked()&&!this._temporarilyUnavailable;e!==this._playable&&(this._playable=e,this.trigger("change:playable",e))}},,,,function(e,t,r){(function(t){var n,i,o,a=e.exports=r(22).Router.extend({currentLayout:null,_currentLayoutInfo:null,_navigationBlocks:null,_navCount:0,initialize:function(){this._navigationBlocks=[],r(0).bindAll(this,"onBeforeUnload","detachCurrentLayout"),r(22).history.checkUrl=d.bind(r(22).history,this)},setRoutes:function(e,t){var r=this;i=t,o=(n=e).slice(0).reverse(),e.forEach((function(e){var t=e.route,n=e.name,i=e.handler;r.route(t,n,i)}))},setLoader:function(e){this.loader=e},reload:function(){this.match(window.location.href.replace(/^https?:\/\/[^\/]+\//,""))},addNavigationBlock:function(e,n,i){var o=r(0).uniqueId();return 1===this._navigationBlocks.unshift({id:o,exitSiteMessage:e,callback:n,condition:i})&&t(window).on("beforeunload",this.onBeforeUnload),o},removeNavigationBlock:function(e){var r,n=this._navigationBlocks;for(r=n.length;r--;)if(n[r].id===e){n.splice(r,1);break}n.length||t(window).off("beforeunload",this.onBeforeUnload)},isNavigationBlocked:function(){return this._navigationBlocks.some(l)},onBeforeUnload:function(e){var t=r(0).find(this._navigationBlocks,l),n=t&&t.exitSiteMessage;if(n)return e.returnValue=n,n},navigateToRoute:function(e,t,r){var n,i=[e];t&&t.length&&(i=i.concat(t)),n=a.getRoute.apply(a,i),this.navigate(n,r)},navigate:function(e,t){u(this)&&(t&&t.hard?window.location.href=e:r(22).Router.prototype.navigate.call(this,e,t))},match:function(e){return r(22).history.loadUrl(e)},getUrlInfo:function(e){var t,n,i,a=r(19).parse(e);if(a.path)return t=a.path.substring(1),(i=r(0).find(o,(function(e){return e.route.test(t)})))&&(n={name:i.name,params:this._extractParameters(i.route,t)}),n},getLocation:function(){return c()},apply:function(e,t){var n,i,o=this,a="layouts/"+e;t=t||{},++this._navCount,this.setupDeferred&&this.setupDeferred.reject(),this.setupDeferred=i=r(6).defer(),n=window.setTimeout(this.detachCurrentLayout,300),this.loader.loadLayout(a).always(window.clearTimeout.bind(window,n)).done((function(r){if("rejected"!==i.state()){var n=o.currentLayout instanceof r?o.currentLayout:new r;n.setArgs(t),o.setupDeferred=n.setup(t).done(s.bind(o,n,e,t))}}))},notImplemented:function(e){var t=c();e&&(t=e(t)),window.open(t),window.history.go(-1)},isLoggedIn:function(){return r(16).isLoggedIn()},getRolloutValue:function(e){return r(3).get("rollouts").get(e)},getExperimentValue:function(e,t){return r(3).get("experiments").get(e,t)},getCurrentUserPermalink:function(){return r(3).get("me").get("permalink")},getQueryParams:function(e){return r(19).getQueryParams(e)},getQueryString:function(e){return r(19).getQueryString(e)},getLayoutInfo:function(){return this._currentLayoutInfo},getRouteInfo:function(e){return r(0).find(n,(function(t){return t.name===e}))},getRouteInfoFromUrl:function(e){var t=this.getUrlInfo(e);return t?this.getRouteInfo(t.name):null},getNavCount:function(){return this._navCount},getNavigationType:function(){return this._navCount>1?"virtual":window.performance&&window.performance.navigation&&1===window.performance.navigation.type?"reload":"initial"},unauthenticated:function(){r(11).trackAuthEvent(r(71).initiate,{target:"implicit:navigate"});var e=r(19).parse(window.location.href).relative;this.navigateToRoute("signin",e,{replace:!0,trigger:!0})},detachCurrentLayout:function(){this.currentLayout&&this.currentLayout.$el.detach()}},{getRoute:function(e){var t=i[e];if(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];return t.apply(this,n)}},includeSecretTokenForSound:function(e){var t=r(3).get("me");return!(!e.secret_token||t.owns("sound",e))},includeSecretTokenForPlaylist:function(e){var t=r(3).get("me");return!(!e.secret_token||t.owns("playlist",e))},removeFragmentParams:function(){if(r(56).pushState){for(var e=window.location.href,t=e,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];(t=i.length?i.reduce((function(e,t){return r(19).removeFragmentParam(t,e)}),e):r(19).modify(e,{fragment:null}))!==e&&window.history.replaceState(null,null,t)}}});function s(e,n){var i,o;this.currentLayout&&(e!==this.currentLayout&&this.currentLayout.dispose(),r(8).trigger("layout:beforeChange",this._currentLayoutInfo)),this.currentLayout=e,o=this._currentLayoutInfo=e.getChangeEventData(n),i=t("#content"),e.render(),i.children()[0]!==e.el&&i.empty()[0].appendChild(e.el),r(8).trigger("layout:change",o)}function u(e){return e._navigationBlocks.filter(l).map((function(e){return e.callback})).filter(r(0).identity).reduce((function(e,t){return!1!==t(e)&&e}),!0)}function l(e){return!e.condition||e.condition()}function c(){return r(56).pushState?window.location.href:"https://"+window.location.hostname+"/"+window.location.hash.replace(/^[#\/]/,"")}function d(e,t){("popstate"!==t.type||u(e))&&r(22).History.prototype.checkUrl.call(this,t)}}).call(this,r(13))},,,,function(e,t,r){"use strict";e.exports=function(e,t){return"string"!=typeof(e=e.__esModule?e.default:e)?e:(/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),/["'() \t\n]/.test(e)||t?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e)}},,,,,,,function(e,t,r){var n=[{emitter:r(23),event:"follow",getInstance:function(e,t){var r=t.target;return e.id===r},handler:function(e){var t=e.state?1:-1;this.has("followers_count")&&this.set("followers_count",Math.max(0,this.get("followers_count")+t))}}];e.exports=r(18).extend(r(523),r(524).withOptions({types:r(925).user}),r(135).withOptions({attr:"username"}),r(113).withOptions({read:"avatar_url"}),r(273),r(157).withOptions({events:n}),{resource_type:"user",urnPrefix:"soundcloud:users",parse:function(e){var t=r(0).clone(e);return void 0===t.country_code&&void 0!==t.country&&(t.country_code=r(38).countryToCode(t.country)),t},baseUrl:function(){if(this.id)return this.getEndpointUrl("user",{id:this.id})},owns:function(e,t){if(void 0===t&&(e=(t=e).resource_type),!this.id)return!1;switch(e){case"comment":case"playlist":case"sound":var r="get"in t?t.get("user_id"):t.user_id;return this.id===r;default:return!1}},getCountry:function(){var e=this.get("country_code");return e?r(38).codeToCountry(e):this.get("country")},getCountryCode:function(){var e=this.get("country");return e?r(38).countryToCode(e):this.get("country_code")},getCreatorPlan:function(){var e=this.get("creator_subscription");return e?e.product.id:r(24).CREATOR_SUBSCRIPTION_FREE},getConsumerPlan:function(){var e=this.get("consumer_subscription");return e?e.product.id:r(24).CONSUMER_SUBSCRIPTION_FREE},getPerk:function(e){return r(522).get(this.getCreatorPlan(),this.getConsumerPlan(),e)},isPremium:function(){return this.getCreatorPlan()!==r(24).CREATOR_SUBSCRIPTION_FREE},getPermalink:function(){return(this.get("permalink_url")||"").replace(/^https?:.+?\w\//,"/")},isMe:function(){return this.id===r(3).get("me").get("id")},isSystemUser:function(){return this.id===r(3).get("systemUserId")},getNumTracks:function(e){return this.get("track_count")||0},getNumPlaylists:function(e){return this.get("playlist_count")||0},getRSSFeedUrl:function(){return"https://feeds.soundcloud.com/users/"+this.getUrn()+"/sounds.rss"}},{normalize:function(e){return e.avatar_url&&(e.avatar_url=e.avatar_url.replace("http:","https:").replace(/\?.*/,"")),e},resolve:function(e){return"you"===e?r(6).resolve(r(3).get("me")):r(18)._resolve(this,e,(function(t){return t.hasPermalink(e)}))}})},,,,,,,,,,,function(e,t,r){var n=r(22).Collection.extend({model:r(17),fetch:function(){return this.playlist.fetch.apply(this.playlist,arguments)},initialize:function(e,t){this.playlist=t.playlist},hasDataForView:function(){return!!this.playlist.attributes.tracks},isFullyPopulated:r(0).constant(!0),_usageCount:r(0).constant(1),hold:r(0).noop,release:r(0).noop}),i=function(e,t){var r=t.target,n=t.targetType;return e.id===r&&"playlist"===n},o=[{emitter:r(8),event:"broadcast:tracklistChange",getInstance:function(e,t){return e.id===t.id},handler:function(e){var t=e.trackIds;c.call(this,t)}},{emitter:r(23),event:"like",getInstance:i,handler:function(e){this.onLike(e)}},{emitter:r(23),event:"repost",getInstance:i,handler:function(e){this.onRepost(e)}}];e.exports=r(18).extend(r(253),r(362),r(254),r(270),r(135).withOptions({attr:"title"}),r(113).withOptions({read:"artwork_url",write:"image_data",useFormData:!1}),r(273),r(536),r(157).withOptions({events:o}),{resource_type:"playlist",urnPrefix:"soundcloud:playlists",saveFormat:"json",submodelMap:{tracks:r(17),user:r(32)},soundsCollection:null,_currentSound:null,getSubmodelOptions:function(e){return"user"===e?{parse:!0}:null},setup:function(){this.soundsCollection=new n(null,{playlist:this}),this.listenTo(r(12),"change:currentSound",this._onCurrentSoundChanged),this.listenTo(this.soundsCollection,"error",(function(e,t,n){t instanceof r(223)&&this.removeSound(e)}))},baseUrl:function(){return this.getEndpointUrl("playlist",{id:this.id},{representation:"full"})},destroyUrl:function(){return this.getEndpointUrl("playlistDelete",{id:this.id})},saveUrl:function(){return this.isNew()?this.getEndpointUrl("playlistCreate"):this.getEndpointUrl("playlistUpdate",{id:this.id})},getImageSaveUrl:function(){return this.getEndpointUrl("playlistArtworkUpdate",{urn:this.getUrn()})},createSubmodel:function(e,t){"tracks"===t?this.prepareSounds():r(18).prototype.createSubmodel.apply(this,arguments)},prepareSounds:function(){var e=this,t=[];this.get("tracks").forEach((function(n){if(!e.containsSoundId(n.id)){var i=new(r(17))(n);e.addSubmodel(i);var o=r(0).defaults({resource_id:{playlist_id:e.id,sound_id:n.id}},n),a=new(r(17))(o,{soundContext:{playlist_id:e.id,sound_id:n.id}});a.playlist=e,a.originalSound=i,t.push(a),e.toggleListeners(a,!0)}})),0===this.soundsCollection.length?this.soundsCollection.reset(t):this.soundsCollection.add(t,{silent:!0})},getSoundsCollection:function(){return this.soundsCollection},getSoundsCollectionClone:function(){return new n(this.soundsCollection.models.slice(),{playlist:this})},toggleListeners:function(e,t){var r=t?"on":"off",n=t?"listenTo":"stopListening";e[r]("play",this.onSoundPlay,this)[r]("pause",this.onSoundPause,this)[r]("buffering:start buffering:end",this.onSoundBuffering,this)[r]("finish",this.onSoundFinish,this)[r]("time",this.onSoundTime,this)[r]("seeked",this.onSoundSeeked,this)[r]("change:duration",u,this),e[r]("change",a)[n](e.originalSound,"change",s)},onSoundBuffering:function(e){this.trigger(e.type,e)},onSoundPlay:function(e){e.playlist=this,this.trigger("play",e)},onSoundPause:function(e){e.playlist=this,this.trigger("pause",e)},onSoundFinish:function(e){e.playlist=this,this.trigger("finish",e)},onSoundTime:function(e){e.playlist=this,this.trigger("time",e)},onSoundSeeked:function(e){e.playlist=this,this.trigger("seeked",e)},getCurrentSound:function(){return this._currentSound&&this.containsSound(this._currentSound)?this._currentSound:this.soundsCollection.at(0)},findSound:function(e){return this.findSoundById(e.id)},findSoundById:function(e){return this.soundsCollection.get(e)},getSounds:function(){return this.soundsCollection.models},getSoundIndex:function(e){return this.soundsCollection.indexOf(e)},containsSound:function(e){return this.getSoundIndex(e)>-1},containsSoundId:function(e){return!!this.findSoundById(e)},getNumSounds:function(){return this.soundsCollection.length||this.get("track_count")||0},play:function(e){var t=this.getCurrentSound();t&&t.play(e)},pause:function(e){var t=this.getCurrentSound();t&&t.pause(e)},hasDataForPlay:function(){return this.attributes.hasOwnProperty("tracks")},isNowPlaying:function(){return this.getSoundIndex(r(12).getCurrentSound())>-1},isBuffering:function(){return this.soundsCollection.some(d("isBuffering"))},isPlaying:function(){return this.soundsCollection.some(d("isPlaying"))},isProcessing:function(){return this.soundsCollection.length>0&&this.soundsCollection.every(d("isProcessing"))},isPlayable:function(){return!this.get("tracks")||this.soundsCollection.some(d("isPlayable"))},isAlbum:function(){return!!this.get("is_album")},parse:function(e,t){return t=t||{},(e=r(18).prototype.parse.apply(this,arguments)).user&&e.user.urn&&!e.user.id&&(e.user.id=r(53).getAsAttributes(e.user.urn).id),t.isSavingOrder&&(e.tracks||e.track_count)&&(delete e.tracks,delete e.track_count),e.secret_token&&e.tracks&&e.tracks.forEach((function(t){"public"===t.sharing||t.secret_token||(t.secret_token=e.secret_token)})),e},extractSecretToken:function(e){return r(19).parse(e.uri).query.secret_token},duration:function(){return this.get("duration")},removeSound:function(e){if(e=this.findSound(e)){var t=this.getSoundIndex(e),r=this.get("tracks").slice();return e===this._currentSound&&(this._currentSound=this.soundsCollection.at(Math.max(t-1,0))),e.isPlaying()&&e.pause(),this.toggleListeners(e,!1),r.splice(t,1),this.soundsCollection.remove(e),l.call(this),this.set("tracks",r),e.playlist=null,e.release(),!0}return!1},addSound:function(e){var t,n,i;return!this.findSound(e)&&(t=r(0).defaults({resource_id:{playlist_id:this.id,sound_id:e.id}},e.attributes),(n=new(r(17))(t,{soundContext:{playlist_id:this.id,sound_id:e.id}})).playlist=this,n.originalSound=e,this.addSubmodel(e),this.toggleListeners(n,!0),(i=this.get("tracks"))||(this.set("tracks",[],{silent:!0}),i=this.get("tracks")),i.push(n.attributes),this.soundsCollection.add(n),l.call(this,{silent:!0}),this.forceChange("tracks"),!0)},getCurrentOrder:function(){return this.soundsCollection.pluck("id")},reorder:function(e){this.soundsCollection.sort({silent:!0,comparator:function(t){return e.indexOf(t.id)}}),this.set({tracks:this.soundsCollection.toJSON(),track_count:this.soundsCollection.length})},hasCapacity:function(e){return r(0).union(this.soundsCollection.pluck("id"),e).length<=500},saveOrder:function(e){var t=this,n=this.soundsCollection.pluck("id"),i={playlist:{tracks:n}};return r(22).Model.prototype.save.call(this,{},r(0).assign({url:this.saveUrl(),data:JSON.stringify(i),contentType:"application/json",isSavingOrder:!0},e)).done((function(){r(8).broadcast({excludeThis:!0},"tracklistChange",{id:t.id,trackIds:n})}))},getAttributesToBeSaved:function(){var e=r(18).prototype.getAttributesToBeSaved.call(this);return e.tracks&&(e.tracks=r(0).pluck(e.tracks,"id")),e},resetOrder:function(){var e=this;return this.fetch().done((function(){e.soundsCollection.each((function(e){e.playlist=null,e.release()})),e.soundsCollection.reset([],{silent:!0}),e.prepareSounds()}))},hasDifferentCreators:function(){var e,t=this.get("user_id"),r=!1;return(e=!this.soundsCollection.every((function(e){var n=e.get("user_id");return null==n?(r=!0,!0):n===t})))||(r?null:e)},hasVisuals:function(){return!1},_onCurrentSoundChanged:function(){var e=r(12).getCurrentSound();this.containsSound(e)?this._currentSound=e:this._currentSound&&this._currentSound.player&&this._currentSound.player.isEnded()&&(this._currentSound=this.soundsCollection.at(this.getSoundIndex(this._currentSound)+1)||null)}},{onCleanup:function(e){e.soundsCollection.each((function(e){e.playlist=null,e.release()})),e.soundsCollection.off(),delete e.soundsCollection,r(18).onCleanup(e)},resolve:function(e,t,n){return r(18)._resolve(this,[e,"sets",t,n],(function(r){var n=r.get("user");return n&&r.get("permalink")===t&&n.permalink===e}))}});function a(e,t){e.originalSound.set(e.attributes,t)}function s(e,t){this.set(e.attributes,t)}function u(){l.call(this)}function l(e){var t=this.soundsCollection.pluck("duration").reduce((function(e,t){return e+(t||0)}),0);this.set("duration",t,e)}function c(e){var t=this,n=e.filter((function(e){return!t.findSoundById(e)}));this.soundsCollection.filter((function(t){var r=t.id;return-1===e.indexOf(r)})).forEach((function(e){return t.removeSound(e)})),n.forEach((function(e){var n=new(r(17))({id:e});t.addSound(n),n.release()})),this.reorder(e)}var d=r(0).memoize((function(e){return function(t){return t[e]()}}))},,function(e,t,r){var n=function e(t,n){return new(e.getClass(t))(t=r(0).omit(t,"resource_type"),n)};n.getClass=function(e){var t=e.resource_type||e.kind;return r("playlist"===t?43:"system-playlist"===t?116:17)},e.exports=n},,,,,,,,,,,,,,,,,,,,,,function(e,t,r){var n;window,n=function(e){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=28)}([function(t,r){t.exports=e},function(e,t,r){"use strict";var n=r(5);e.exports=function(e){if(!n(e))throw new TypeError("Cannot use null or undefined");return e}},function(e,t,r){"use strict";e.exports=function(e){if("function"!=typeof e)throw new TypeError(e+" is not a function");return e}},function(e,t,r){"use strict";e.exports=r(72)()?Symbol:r(73)},function(e,t,r){"use strict";var n=r(13),i=r(23),o=r(68),a=r(24);(e.exports=function(e,t){var r,o,s,u,l;return arguments.length<2||"string"!=typeof e?(u=t,t=e,e=null):u=arguments[2],null==e?(r=s=!0,o=!1):(r=a.call(e,"c"),o=a.call(e,"e"),s=a.call(e,"w")),l={value:t,configurable:r,enumerable:o,writable:s},u?n(i(u),l):l}).gs=function(e,t,r){var s,u,l,c;return"string"!=typeof e?(l=r,r=t,t=e,e=null):l=arguments[3],null==t?t=void 0:o(t)?null==r?r=void 0:o(r)||(l=r,r=void 0):(l=t,t=r=void 0),null==e?(s=!0,u=!1):(s=a.call(e,"c"),u=a.call(e,"e")),c={get:t,set:r,configurable:s,enumerable:u},l?n(i(l),c):c}},function(e,t,r){"use strict";var n=r(19)();e.exports=function(e){return e!==n&&null!==e}},function(e,t,r){"use strict";e.exports=r(21)()?Object.setPrototypeOf:r(22)},function(e,t,r){"use strict";var n=Object.prototype.toString,i=n.call(function(){return arguments}());e.exports=function(e){return n.call(e)===i}},function(e,t,r){"use strict";var n=Object.prototype.toString,i=n.call("");e.exports=function(e){return"string"==typeof e||e&&"object"==typeof e&&(e instanceof String||n.call(e)===i)||!1}},function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t){return e.call(this,t||"There was no format available that a player was able to play.")||this}return i(t,e),t.prototype.getCode=function(){return"SCAUDIO.NOT_SUPPORTED_ERROR"},t}(r(0).errors.PlayerFatalError);t.NotSupportedError=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(30),i=r(31),o=r(32),a=r(33),s=r(34),u=r(35),l=r(36),c=r(37),d=r(38),f=r(39);t.renditions={httpMp3:n.httpMp3,httpAACHQ:f.httpAACHQ,hlsMp3:i.hlsMp3,encryptedHlsMp3:o.encryptedHlsMp3,hlsOpus:c.hlsOpus,encryptedHlsOpus:d.encryptedHlsOpus,hlsAACHQ:a.hlsAACHQ,encryptedHlsAACHQ:s.encryptedHlsAACHQ,apiMobile:u.apiMobile,maestroChromecast:l.maestroChromecast},t.allRenditions=Object.keys(t.renditions).map((function(e){return t.renditions[e]}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){this._delayFactor=0,this._lastRequestTime=0}return e.prototype.getDelay=function(e){var t=void 0===e?{}:e,r=t.maxDelay,n=void 0===r?3e4:r,i=t.numInstantRuns,o=void 0===i?5:i,a=Date.now()-this._lastRequestTime;this._lastRequestTime=Date.now(),this._delayFactor=Math.max(0,this._delayFactor-a/n),this._delayFactor++;var s=this._delayFactor-o;return s>0?Math.pow(2,s):0},e.prototype.registerSuccess=function(){this._delayFactor=Math.max(0,this._delayFactor-2)},e}();t.DecayingExponentialDelayCalculator=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getAppState=function(){switch(window.document.hidden){case!0:return"background";case!1:return"foreground";default:return}}},function(e,t,r){"use strict";e.exports=r(63)()?Object.assign:r(64)},function(e,t,r){"use strict";var n,i=r(18),o=r(13),a=r(2),s=r(1),u=r(4),l=r(80),c=r(3),d=Object.defineProperty,f=Object.defineProperties;e.exports=n=function(e,t){if(!(this instanceof n))throw new TypeError("Constructor requires 'new'");f(this,{__list__:u("w",s(e)),__context__:u("w",t),__nextIndex__:u("w",0)}),t&&(a(t.on),t.on("_add",this._onAdd),t.on("_delete",this._onDelete),t.on("_clear",this._onClear))},delete n.prototype.constructor,f(n.prototype,o({_next:u((function(){var e;if(this.__list__)return this.__redo__&&void 0!==(e=this.__redo__.shift())?e:this.__nextIndex__<this.__list__.length?this.__nextIndex__++:void this._unBind()})),next:u((function(){return this._createResult(this._next())})),_createResult:u((function(e){return void 0===e?{done:!0,value:void 0}:{done:!1,value:this._resolve(e)}})),_resolve:u((function(e){return this.__list__[e]})),_unBind:u((function(){this.__list__=null,delete this.__redo__,this.__context__&&(this.__context__.off("_add",this._onAdd),this.__context__.off("_delete",this._onDelete),this.__context__.off("_clear",this._onClear),this.__context__=null)})),toString:u((function(){return"[object "+(this[c.toStringTag]||"Object")+"]"}))},l({_onAdd:u((function(e){e>=this.__nextIndex__||(++this.__nextIndex__,this.__redo__?(this.__redo__.forEach((function(t,r){t>=e&&(this.__redo__[r]=++t)}),this),this.__redo__.push(e)):d(this,"__redo__",u("c",[e])))})),_onDelete:u((function(e){var t;e>=this.__nextIndex__||(--this.__nextIndex__,this.__redo__&&(-1!==(t=this.__redo__.indexOf(e))&&this.__redo__.splice(t,1),this.__redo__.forEach((function(t,r){t>e&&(this.__redo__[r]=--t)}),this)))})),_onClear:u((function(){this.__redo__&&i.call(this.__redo__),this.__nextIndex__=0}))}))),d(n.prototype,c.iterator,u((function(){return this})))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.buildFadeIn=function(e){return new n({startPos:0,endPos:e,startLevel:0,endLevel:1,fromEnd:!1})},t.buildFadeOut=function(e){return new n({startPos:e,endPos:0,startLevel:1,endLevel:0,fromEnd:!0})};var n=function(){function e(e){var t=e.startPos,r=e.endPos,n=e.startLevel,i=e.endLevel,o=e.fromEnd,a=void 0!==o&&o;if(t<0)throw new Error("startPos invalid.");if(r<0||!a&&r<t||a&&t<r)throw new Error("endPos invalid.");if(n<0||n>1)throw new Error("startLevel invalid.");if(i<0||i>1)throw new Error("endLevel invalid.");this._startPos=t,this._endPos=r,this._startLevel=n,this._endLevel=i,this._fromEnd=a}return e.prototype.calculate=function(e,t){var r=this._fromEnd?t-500-this._startPos:this._startPos,n=this._fromEnd?t-500-this._endPos:this._endPos;if(e<r)return{level:this._startLevel,nextCalculatePosition:r-e};if(e<=n){var i=(e-r)/(n-r),o=Math.cos(i*Math.PI)/-2+.5;return{level:this._startLevel+(this._endLevel-this._startLevel)*o,nextCalculatePosition:e}}return{level:this._endLevel,nextCalculatePosition:1/0}},e}();t.Fade=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){};t.BaseStreamUrlRetriever=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.notSupportedError=new Error("Not supported.");var n=function(){this.supportsVolumeAutomation=!0,this.syncConfig={}};t.BaseController=n},function(e,t,r){"use strict";var n=r(1);e.exports=function(){return n(this).length=0,this}},function(e,t,r){"use strict";e.exports=function(){}},function(e,t,r){"use strict";var n=r(57),i=Math.max;e.exports=function(e){return i(0,n(e))}},function(e,t,r){"use strict";var n=Object.create,i=Object.getPrototypeOf,o={};e.exports=function(){var e=Object.setPrototypeOf,t=arguments[0]||n;return"function"==typeof e&&i(e(t(null),o))===o}},function(e,t,r){"use strict";var n,i=r(61),o=r(1),a=Object.prototype.isPrototypeOf,s=Object.defineProperty,u={configurable:!0,enumerable:!1,writable:!0,value:void 0};n=function(e,t){if(o(e),null===t||i(t))return e;throw new TypeError("Prototype must be null or an object")},e.exports=function(e){var t,r;return e?(2===e.level?e.set?(r=e.set,t=function(e,t){return r.call(n(e,t),t),e}):t=function(e,t){return n(e,t).__proto__=t,e}:t=function e(t,r){var i;return n(t,r),(i=a.call(e.nullPolyfill,t))&&delete e.nullPolyfill.__proto__,null===r&&(r=e.nullPolyfill),t.__proto__=r,i&&s(e.nullPolyfill,"__proto__",u),t},Object.defineProperty(t,"level",{configurable:!1,enumerable:!1,writable:!1,value:e.level})):null}(function(){var e,t=Object.create(null),r={},n=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__");if(n){try{(e=n.set).call(t,r)}catch(e){}if(Object.getPrototypeOf(t)===r)return{set:e,level:2}}return t.__proto__=r,Object.getPrototypeOf(t)===r?{level:2}:((t={}).__proto__=r,Object.getPrototypeOf(t)===r&&{level:1})}()),r(62)},function(e,t,r){"use strict";var n=r(5),i=Array.prototype.forEach,o=Object.create,a=function(e,t){var r;for(r in e)t[r]=e[r]};e.exports=function(e){var t=o(null);return i.call(arguments,(function(e){n(e)&&a(Object(e),t)})),t}},function(e,t,r){"use strict";e.exports=r(69)()?String.prototype.contains:r(70)},function(e,t,r){"use strict";var n=r(76);e.exports=function(e){if(!n(e))throw new TypeError(e+" is not iterable");return e}},function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(){return e.call(this,"There were no stream URLs.")||this}return i(t,e),t.prototype.getCode=function(){return"SCAUDIO.NO_STREAMS"},t}(r(9).NotSupportedError);t.NoStreamsError=o},function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(){return e.call(this,"Failed to retrieve stream url.")||this}return i(t,e),t.prototype.getCode=function(){return"SCAUDIO.FAILED_RETRIEVING_URL"},t}(r(9).NotSupportedError);t.FailedRetrievingUrlError=o},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),t.version="23.7.2",t.buildNumber=928;var i=r(29);t.volumeAutomation=i.volumeAutomation;var o=r(16);t.BaseStreamUrlRetriever=o.BaseStreamUrlRetriever,n(r(17));var a=r(10);t.renditions=a.renditions,t.allRenditions=a.allRenditions;var s=r(40);t.UrlRetrieverError=s.UrlRetrieverError;var u=r(11);t.DecayingExponentialDelayCalculator=u.DecayingExponentialDelayCalculator;var l=r(41);t.Limiter=l.Limiter;var c=r(42);t.Player=c.Player,t.setGlobalVolume=c.setGlobalVolume,t.setGlobalMuted=c.setGlobalMuted,t.getGlobalVolume=c.getGlobalVolume,t.getGlobalMuted=c.getGlobalMuted,t.setCacheSize=c.setCacheSize;var d=r(99);t.Quality=d.Quality,t.resolveQuality=d.resolveQuality,n(r(100))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(15);!function(e){e.Fade=n.Fade,e.buildFadeIn=n.buildFadeIn,e.buildFadeOut=n.buildFadeOut}(t.volumeAutomation||(t.volumeAutomation={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.httpMp3={scProtocol:"http",scFormat:"mp3",maestroFormat:{mimeType:"audio/mpeg"}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hlsMp3={scProtocol:"hls",scFormat:"mp3",maestroFormat:{mimeType:"application/x-mpegURL"},maestroSegmentFormat:{mimeType:"audio/mpeg"}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.encryptedHlsMp3={scProtocol:"encrypted-hls",scFormat:"mp3",maestroFormat:{mimeType:"application/x-mpegURL"},maestroSegmentFormat:{mimeType:"audio/mpeg"}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hlsAACHQ={scProtocol:"hls",scFormat:"aac",maestroFormat:{mimeType:"application/x-mpegURL"},maestroSegmentFormat:{mimeType:"audio/mp4",audioCodec:{id:"mp4a.40.2"}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.encryptedHlsAACHQ={scProtocol:"encrypted-hls",scFormat:"aac",maestroFormat:{mimeType:"application/x-mpegURL"},maestroSegmentFormat:{mimeType:"audio/mp4",audioCodec:{id:"mp4a.40.2"}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.apiMobile={scProtocol:"sc.api-mobile",maestroFormat:{}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.maestroChromecast={scProtocol:"maestro.chromecast",maestroFormat:{}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hlsOpus={scProtocol:"hls",scFormat:"opus",maestroFormat:{mimeType:"application/x-mpegURL"},maestroSegmentFormat:{mimeType:"audio/ogg",audioCodec:{id:"opus"}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.encryptedHlsOpus={scProtocol:"encrypted-hls",scFormat:"opus",maestroFormat:{mimeType:"application/x-mpegURL"},maestroSegmentFormat:{mimeType:"audio/ogg",audioCodec:{id:"opus"}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.httpAACHQ={scProtocol:"http",scFormat:"aac",maestroFormat:{mimeType:"audio/mp4",audioCodec:{id:"mp4a.40.2"}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t,r){void 0===e&&(e="UNKNOWN"),void 0===t&&(t=!1),void 0===r&&(r=null),this._code=e,this._transient=t,this._cause=r}return e.prototype.isTransient=function(){return this._transient},e.prototype.getCode=function(){return this._code},e.prototype.getCause=function(){return this._cause},e}();t.UrlRetrieverError=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(11),i=r(0),o=function(){function e(){this._jobs=[],this._calculator=new n.DecayingExponentialDelayCalculator,this._jobWaiting=!1}return e.prototype.execute=function(e){var t=this,r={job:e};return this._jobs.push(r),this._executeNextJob(),{abort:function(){var e=t._jobs.indexOf(r);e>=0&&t._jobs.splice(e,1)}}},e.prototype._executeNextJob=function(){var e=this;if(!this._jobWaiting){var t=this._jobs.shift();if(t){var r=function(){e._jobWaiting=!1,e._executeNextJob()},n=this._calculator.getDelay();this._jobWaiting=!0,i.helpers.deferException((function(){t.job().then((function(){e._calculator.registerSuccess()}))})),0===n?r():window.setTimeout(r,n)}}},e}();t.Limiter=o},function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var o=r(0),a=r(15),s=r(43),u=r(44),l=r(47),c=r(11),d=r(48),f=r(49),p=r(94),h=r(95),g=r(9),y=r(26),m=r(96),_=r(97),v=r(98),b=r(27),w=r(10),E=o.eventDispatcher.EventDispatcher,S=o.helpers.Promise,A=o.helpers.deferred.buildDeferred,P=new p.CacheManager(15e7,o.logger.noOpLogger),I=-1,M=[],T=1,k=!1;function C(e,t,r){return Math.min(t,Math.max(e,r))}t.setGlobalVolume=function(e){if("number"!=typeof e)throw new Error("level must be a number.");if(e<0||e>1)throw new Error("Invalid volume level.");T=e,M.forEach((function(t){return t.setVolume(e)}))},t.getGlobalVolume=function(){return T},t.setGlobalMuted=function(e){if("boolean"!=typeof e)throw new Error("muteEnabled must be a boolean.");k=e,M.forEach((function(t){return t.setMuted(e)}))},t.getGlobalMuted=function(){return k},t.setCacheSize=function(e){if("number"!=typeof e||e<0)throw new Error("Invalid size.");P.setCacheSize(e)};var x=function(e){function t(t){var r=e.call(this,t)||this;r._onPreloadingEnabled=new E,r._onPreloadingDisabled=new E,r._retryDelayCalculator=new c.DecayingExponentialDelayCalculator,r._errorEventGenerator=null,r._fadeOutVolumeAutomator=null,r._volumeAutomators=[],r._volumeScale=1,r._userVolume=1,r._volumeAutomationSupported=!1,r._timer=null,r._pauseFadeTimer=null,r._pauseFadeDeferred=null,r._pauseFade=null,r._executionState={state:"IDLE"},r._preloadingListeners=[],r._retrieveAndBuildTimer=null,r._hadAStreamUrl=!1;var n=r._config=m.validatePlayerDependencies(t);r._preloadingEnabled=n.preloadingEnabled,r._getURLOpts=n.getURLOpts,r._controllers=n.controllers;var i=r._connectionRequiredHelper=new v.ConnectionRequiredHelper(r);r.onPreloadingEnabled=r._onPreloadingEnabled.getHandle(),r.onPreloadingDisabled=r._onPreloadingDisabled.getHandle(),r.onConnectionRequired=i.onConnectionRequired,r.onConnectionRecovered=i.onConnectionRecovered,r.onChange.subscribe((function(e){r.isDead()||((!1===e.playing||e.positionJumped||e.stalled||e.ended)&&r._completePauseFade(),r._pauseFade&&(!1===e.actuallyPlaying||e.ended||!0===e.playing)&&(r._removeVolumeAutomator(r._pauseFade),r._pauseFade=null),(e.positionJumped||void 0!==e.actuallyPlaying||void 0!==e.stalled)&&r._updateVolume(),void 0!==e.playing&&r._updateMaxBufferLength())}));var a="SCAudio-"+ ++I,p=n.streamUrlRetriever.getTrackId();null!==p&&(a+="-"+p);var h=new s.LogCollector,g=o.logger.cloneLogger(h,r._logger);r._logger=o.logger.prefixLogger(g,a);var y=_.generateLogId();r._logger.info("Building player...",{ua:navigator.userAgent,getURLOpts:r._getURLOpts,logId:y}),M.push(r),r.setVolume(T,k),r._updateFadeOut();var b=null,w=null;n.audioPerformanceReporter&&(b=new u.AudioPerformanceEventGenerator(r,(function(){return r._getPlayer()}),n.audioPerformanceReporter,r._logger,(function(){return r._getActivePlayerDetails()}))),n.audioReporter&&new d.AudioEventGenerator(r,n.audioReporter,n.audioCheckpointInterval,r._logger,(function(){return r._getActivePlayerDetails()})),n.errorReporter&&(w=r._errorEventGenerator=new l.ErrorEventGenerator(r,h,y,p,n.errorReporter,r._logger)),r._excludeUnsupportedRenditions();var S=r._controllerManager=new f.ControllerManager({logger:r._logger,seekStrategy:r._config.seekStrategy,controllers:n.controllers,playerId:a,streamUrlsExpire:n.streamUrlsExpire,fetchEnabled:n.fetchEnabled,fadeOnPauseAndPlay:n.fadeOnPauseAndPlay,fadeOnSeek:n.fadeOnSeek,cacheManager:P,providePlayer:function(e,t,n){r._volumeAutomationSupported=n,r._providePlayer(e,t),r._updateMaxBufferLength()},removePlayer:function(){r._getPlayer()&&r._removePlayer()},streamUrlRetriever:r._config.streamUrlRetriever,getURLOpts:r._getURLOpts,errorEventGenerator:w||void 0,audioPerformanceEventGenerator:b||void 0});if(r.onQualityChanged=S.onQualityChanged,void 0!==n.duration&&(r._logger.debug("Setting initial duration.",n.duration),r._setInitialDuration(n.duration)),r._preloadingEnabled)r._logger.debug("Preloading is enabled, so performing retrieve immediately."),r._retrieveAndBuild();else{r._logger.debug("Preloading is disabled, so deferring retrieve until either a play intent or preloading is enabled.");var A=function(){r._removePreloadingListeners(),r._logger.debug("Preloading now enabled or received a play request. Peforming retrieve."),r._retrieveAndBuild()};r._preloadingListeners.push(r.onPreloadingEnabled.subscribe(A),r.onPlayIntent.subscribe(A))}return r}return i(t,e),t.prototype.reload=function(e){void 0===e&&(e={}),this._ensureNotDead(),this._reloadStreamUrls(e)},t.prototype.enablePreloading=function(){this.isDead()||this._preloadingEnabled||(this._preloadingEnabled=!0,this._updateMaxBufferLength(),this._onPreloadingEnabled.dispatch(void 0))},t.prototype.disablePreloading=function(){this.isDead()||this._preloadingEnabled&&(this._preloadingEnabled=!1,this._updateMaxBufferLength(),this._onPreloadingDisabled.dispatch(void 0))},t.prototype.isPreloadingEnabled=function(){return this._preloadingEnabled},t.prototype.pauseAfterFade=function(e){var t=this;if(this._ensureNotDead(),this._pauseFadeDeferred)return this._pauseFadeDeferred.promise;if(!this.isPlaying()||!this.isActuallyPlaying())return S.resolve(this.pause());var r=A();this._pauseFadeDeferred=r;var n=this.getPosition();if(this._pauseFade)throw new Error("Fade should not already be assigned.");return this._pauseFade=new a.Fade({startPos:n,endPos:n+e,startLevel:1,endLevel:0}),this._addVolumeAutomator(this._pauseFade),this._pauseFadeTimer=window.setTimeout((function(){t._pauseFadeDeferred=null,r.resolve(t.pause({fadeDuration:0}))}),e+50),r.promise},t.prototype.isConnectionRequired=function(){return this._connectionRequiredHelper.isConnectionRequired()},t.prototype.getQuality=function(){return this._controllerManager.getQuality()},t.prototype.getVolume=function(){return this._volumeAutomationSupported?this._userVolume:e.prototype.getVolume.call(this)},t.prototype._handleFatalError=function(e){this._logger.warn("Fatal error from current player.",e)},t.prototype._handleVolumeChange=function(t,r){this._userVolume=t,e.prototype._notifyVolumeChange.call(this,t,r),this._calculateAndSetVolume()},t.prototype._notifyVolumeChange=function(){},t.prototype._kill=function(){e.prototype._kill.call(this),this._timer&&window.clearTimeout(this._timer),this._abortPauseFade(),this._removePreloadingListeners(),M.splice(M.indexOf(this),1),"RETRIEVING_URL"===this._executionState.state?this._executionState.retrieveJob.abort():"CONTROLLING_PLAYER"===this._executionState.state&&this._controllerManager.releaseCurrentController({retry:!1}),this._executionState={state:"DEAD"},this._retrieveAndBuildTimer&&window.clearTimeout(this._retrieveAndBuildTimer)},t.prototype._excludeUnsupportedRenditions=function(){var e=this,t={streamUrlExpires:this._config.streamUrlsExpire};w.allRenditions.filter((function(r){return!e._controllers.some((function(e){return e.isRenditionSupported(r,t)}))})).forEach((function(t){e._config.streamUrlRetriever.excludeRendition(t)}))},t.prototype._addVolumeAutomator=function(e){this._volumeAutomators.indexOf(e)<0&&(this._volumeAutomators.push(e),this._updateVolume())},t.prototype._removeVolumeAutomator=function(e){var t=this._volumeAutomators.indexOf(e);t>=0&&(this._volumeAutomators.splice(t,1),this._updateVolume())},t.prototype._removePreloadingListeners=function(){this._preloadingListeners.forEach((function(e){return e.remove()}))},t.prototype._getActivePlayerDetails=function(){return"CONTROLLING_PLAYER"!==this._executionState.state?null:this._controllerManager.getPlayerDetails()},t.prototype._updateFadeOut=function(){this._fadeOutVolumeAutomator&&this._removeVolumeAutomator(this._fadeOutVolumeAutomator),this._getURLOpts.snippet&&(this._fadeOutVolumeAutomator=a.buildFadeOut(3e3),this._addVolumeAutomator(this._fadeOutVolumeAutomator))},t.prototype._handleUnexpectedError=function(e){try{e()}catch(e){this._logger.error("Unexpected error.",e),this._triggerError(new o.errors.PlayerFatalError("An unexpected error occurred.",e))}},t.prototype._retrieveAndBuild=function(){var e=this;this._handleUnexpectedError((function(){if(-1===["IDLE","WAITING_TO_RETRIEVE"].indexOf(e._executionState.state))throw new Error("Invalid state for retrieveAndBuild().");e._logger.debug("Retrieving URL...");var t=h.retrieveUrl({streamUrlRetriever:e._config.streamUrlRetriever,urlProviderRetryDelayCalculator:e._config.urlProviderRetryDelayCalculator,getURLOpts:e._getURLOpts,logger:e._logger});e._executionState={state:"RETRIEVING_URL",retrieveJob:t},t.onCompletion((function(t){if(e._logger.debug("Retrieved URL.",!!t),t&&t.success){e._hadAStreamUrl=!0;var r=!1,n=function(n){var i=n.excludeRendition,o=n.immediateRetry;e._handleUnexpectedError((function(){if(r)throw new Error("startOver called multiple times.");if(r=!0,i&&e._config.streamUrlRetriever.excludeRendition(t.rendition),e._executionState={state:"WAITING_TO_RETRIEVE"},e.isDead())e._logger.debug("Stopping execution because player is dead.");else if(o)e._logger.debug("Moving on immediately."),e._retrieveAndBuild();else{var n=e._retryDelayCalculator.getDelay();e._logger.debug("Will move on in "+n+"ms."),n?e._retrieveAndBuildTimer=window.setTimeout((function(){return e._retrieveAndBuild()}),n):e._retrieveAndBuild()}}))};e._handleUnexpectedError((function(){e._executionState={state:"CONTROLLING_PLAYER"},e._logger.debug("Building controller..."),e._controllerManager.buildNextController(t,n),e._logger.debug("Built controller.")}))}else if(t&&t.rendition){if(e._logger.warn("Error retrieving URL. Moving on.",t.error),e._errorEventGenerator){var i="SCAUDIO.URL_RETRIEVER_ERROR."+e._config.streamUrlRetriever.name+"."+t.error.getCode();e._errorEventGenerator.reportManualEvent(i,{preset:t.preset,quality:t.quality,bitrate:t.bitrate,format:t.rendition.scFormat,protocol:t.rendition.scProtocol})}e._config.streamUrlRetriever.excludeRendition(t.rendition),e._executionState={state:"WAITING_TO_RETRIEVE"},e._retrieveAndBuild()}else t&&t.rendition&&e._logger.warn("Error retrieving URL for any rendition.",t.error),e._logger.info("Ran out of streams.",e._hadAStreamUrl),e._triggerError(e._hadAStreamUrl?new g.NotSupportedError:new y.NoStreamsError)})),t.onError((function(t){t!==o.helpers.abortableJob.abortedError&&(t===h.NoMoreAttemptsError?e._logger.error("Ran out of retries to retrieve URL."):e._logger.error("Unexpected error when retrieving a URL.",t),e._triggerError(new b.FailedRetrievingUrlError))}))}))},t.prototype._reloadStreamUrls=function(e){this._getURLOpts=e,this._updateFadeOut(),this._logger.info("Reloading stream URL's...",this._getURLOpts),"RETRIEVING_URL"===this._executionState.state?(this._logger.debug("Aborting current URL retrieve."),this._executionState.retrieveJob.abort(),this._executionState={state:"WAITING_TO_RETRIEVE"},this._retrieveAndBuild()):"CONTROLLING_PLAYER"===this._executionState.state?(this._logger.debug("Releasing controller."),this._controllerManager.releaseCurrentController({retry:!0})):this._logger.debug("Nothing to do."),this._logger.info("Reloaded stream URL's.")},t.prototype._completePauseFade=function(){if(this._pauseFadeDeferred){this._pauseFadeTimer&&window.clearTimeout(this._pauseFadeTimer);var e=this._pauseFadeDeferred;this._pauseFadeDeferred=null,e.resolve(this.pause())}},t.prototype._abortPauseFade=function(){this._pauseFadeTimer&&(window.clearTimeout(this._pauseFadeTimer),this._pauseFadeTimer=null),this._pauseFadeDeferred&&(this._pauseFadeDeferred.reject(new Error("Player was killed.")),this._pauseFadeDeferred=null)},t.prototype._updateVolume=function(){var e=this;if(this._volumeAutomationSupported){this._ensureNotDead(),this._timer&&(window.clearTimeout(this._timer),this._timer=null);var t=this.getDuration();if(null!==t){var r=this._volumeAutomators,n=this.getPosition(),i=1/0,o=1;r.forEach((function(e){var r=e.calculate(n,t),a=r.nextCalculatePosition,s=r.level;o*=C(0,1,s),a<i&&(i=a)})),this._volumeScale!==o&&(this._volumeScale=o,this._calculateAndSetVolume()),i<1/0&&this.isActuallyPlaying()&&!this.isStalled()&&(this._timer=window.setTimeout((function(){e._timer=null,e._updateVolume()}),C(100,5e3,i-this.getPosition())))}}},t.prototype._calculateAndSetVolume=function(){this._volumeAutomationSupported?e.prototype._handleVolumeChange.call(this,this._userVolume*this._volumeScale,this.getMuted()):e.prototype._handleVolumeChange.call(this,this._userVolume,this.getMuted())},t.prototype._updateMaxBufferLength=function(){var e=this._getPlayer(),t=e&&e.getBufferController();t&&(this.isPlaying()?t.setMaxBufferLength(this._config.playingMaxBufferLength):t.setMaxBufferLength(this._preloadingEnabled?this._config.pausedMaxBufferLength:0))},t}(o.ProxyPlayerBase);t.Player=x},function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e){void 0===e&&(e=200),this._bufferSize=e,this._log=[]}return e.prototype.getLog=function(){return this._log.map((function(e){return n({},e,{data:(t=e.data,t.map((function(e){try{return JSON.stringify(e)}catch(e){return"<unavailable>"}})))});var t}))},e.prototype.debug=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];this._push({level:"debug",msg:e,data:t,time:Date.now()})},e.prototype.info=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];this._push({level:"info",msg:e,data:t,time:Date.now()})},e.prototype.warn=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];this._push({level:"warn",msg:e,data:t,time:Date.now()})},e.prototype.error=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];this._push({level:"error",msg:e,data:t,time:Date.now()})},e.prototype._push=function(e){this._log.push(e)>this._bufferSize&&this._log.shift()},e}();t.LogCollector=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),i=r(45),o=r(46),a=r(12),s=function(){function e(e,t,r,i,o){this._logger=n.logger.prefixLogger(i,"AudioPerformanceEventGenerator"),this._proxy=e,this._getPlayer=t,this._eventReporter=r,this._getPlayerDetails=o,this._measureGeneralEvents()}return e.prototype.reportManualEvent=function(e){this._logger.debug("Reporting manual audio performance event.",e),this._eventReporter(e)},e.prototype._measureGeneralEvents=function(){var e=this,t=this._proxy,r=null,n=null,a=null,s=null,u=null,l=null,c=null,d=!0;t.onChange.subscribe((function(f){var p=f.playing,h=f.actuallyPlaying,g=f.seek,y=f.seeking,m=f.stalled,_=f.ended;if(!0!==f.dead&&!1!==p||!s||(s.stop(),s.getTime()>=1e3&&e._reportEvent("rageSkip",s.getTime(),null),s=null),t.isDead())c&&window.clearTimeout(c);else{var v=t.getSeekState();t.isActuallyPlaying()||s||!(!0===p||t.isPlaying()&&!0===m)||(s=new i.Timer).start(),!0===p&&(r||((r=new i.Timer).start(),n=new o.PreloadingCalculator({proxy:t,getPlayer:e._getPlayer}),c=window.setTimeout((function(){e._reportEvent("longInitialBuffering",0,null)}),3e4),0===t.getPosition()&&(d=!1))),!1===p&&(c&&window.clearTimeout(c),r&&!r.isComplete()&&(r=null)),!0===h&&(s=null,r&&!r.isComplete()&&(r.stop(),c&&window.clearTimeout(c),e._reportEvent("play",r.getTime(),n.getPreloaded()))),g&&"IN_PROGRESS"===g.state&&t.isReady()&&((a=new i.Timer).start(),u=new o.PreloadingCalculator({proxy:t,getPlayer:e._getPlayer}),!0===y&&e._reportEvent("seekStart",0,null)),(g&&"COMPLETED"===g.state&&!t.isStalled()||!1===m&&v&&"COMPLETED"===v.state)&&a&&(a.stop(),e._reportEvent("seek",a.getTime(),u.getPreloaded()),a=null),!0!==m||!t.isPlaying()||v&&"IN_PROGRESS"===v.state||r&&r.isComplete()&&((l=new i.Timer).start(),e._reportEvent("rebufferingStart",t.getPosition(),null)),!1===m&&(r&&r.isComplete()&&(s=null),l&&(l.stop(),e._reportEvent("rebufferingEnd",l.getTime(),null),l=null)),!0!==_||d||(e._reportEvent("uninterruptedPlay",0,null),d=!0),(!v||"IN_PROGRESS"!==v.state)&&!0===m&&t.isActuallyPlaying()&&(d=!0)}}))},e.prototype._reportEvent=function(e,t,r){var n=this._getPlayerDetails();if(n){var i={type:e,latency:t,protocol:n.protocol,playerType:n.name,host:n.host,bitrate:n.bitrate,format:n.format,preset:n.preset,quality:n.quality,preloaded:r||void 0,appState:a.getAppState()};this._logger.debug("Generated audio performance event.",i),this._eventReporter(i)}else this._logger.warn("Cannot report event because there is no player.",e,t)},e}();t.AudioPerformanceEventGenerator=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0).helpers.time.now,i=function(){function e(){this._start=null,this._end=null}return e.prototype.start=function(){if(this.isComplete())throw new Error("Timer completed.");this._start=n()},e.prototype.isComplete=function(){return null!==this._end},e.prototype.stop=function(){if(null===this._start)throw new Error("Not started.");this._end=n()},e.prototype.getTime=function(){if(null===this._end)throw new Error("Not completed.");return this._end-this._start},e}();t.Timer=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),i=n.helpers.find,o=function(){function e(e){var t=e.proxy,r=e.getPlayer;this._getPlayer=r;var o,a,s=t.getPosition(),u=this._initialActualPlayer=r();if(u){var l=(o=s,(a=u.getBufferedTimeRanges())?i(a,(function(e){return e.containsTime(o)}))||new n.TimeRange(o,0):null);this._initialBuffered=l?l.end-s:null}else this._initialBuffered=null}return e.prototype.getPreloaded=function(){var e=this._initialBuffered;return null!==e&&this._initialActualPlayer&&this._getPlayer()===this._initialActualPlayer?0===e?"no":e>=2e3?"yes":"partial":null},e}();t.PreloadingCalculator=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),i=r(12),o=function(){function e(e,t,r,i,o,a){this._logger=n.logger.prefixLogger(a,"ErrorGenerator"),this._player=e,this._logCollector=t,this._logId=r,this._trackId=i,this._eventReporter=o,this._listenForProxyFatalError()}return e.prototype.reportManualEvent=function(e,t){"NOT_SUPPORTED_ERROR"!==e&&"HLS_MSE_PLAYER.NO_TRANSMUXER_ERROR"!==e&&(this._logger.debug("Reporting manual error event.",e),this._reportEvent(e,t))},e.prototype._listenForProxyFatalError=function(){var e=this;this._player.onError.subscribe((function(t){t instanceof n.errors.PlayerFatalError&&e._reportEvent(t.getCode())}))},e.prototype._reportEvent=function(e,t){var r={errorCode:e,log:this._logCollector.getLog(),logId:this._logId,trackId:this._trackId,protocol:t&&t.protocol,playerType:t&&t.name?t.name:"MaestroUnknown",host:t&&t.host,bitrate:t&&t.bitrate,format:t&&t.format,preset:t&&t.preset,quality:t&&t.quality,url:t&&t.url,appState:i.getAppState()};this._logger.debug("Generated audio error event.",r),this._eventReporter(r)},e}();t.ErrorEventGenerator=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),i=r(12),o=1e3,a=function(){function e(e,t,r,i,a){this._checkpointTimer=null,this._logger=n.logger.prefixLogger(i,"AudioEventGenerator"),this._player=e,this._eventReporter=t,this._checkpointInterval=Math.max(o,r),this._getPlayerDetails=a,this._startReporting()}return e.prototype._startReporting=function(){var e=this,t=this._player;t.onChange.subscribe((function(r){var n=r.actuallyPlaying,i=r.ended;!0===n&&!t.isEnded()||!1===i&&t.isActuallyPlaying()?(e._checkpointTimer||(e._checkpointTimer=window.setInterval((function(){e._reportEvent("checkpoint")}),e._checkpointInterval)),e._reportEvent("play")):(!1===n&&!t.isEnded()||!0===i&&t.isActuallyPlaying())&&(e._checkpointTimer&&(window.clearInterval(e._checkpointTimer),e._checkpointTimer=null),e._reportEvent("pause"))}))},e.prototype._reportEvent=function(e){var t=this._getPlayerDetails();if(t){var r=this._player.getDuration();if(null===r)throw new Error("Duration should exist now.");var n={type:e,position:this._player.getPosition(),duration:r,preset:t.preset,quality:t.quality,playerType:t.name,appState:i.getAppState()};this._logger.debug("Generated audio event.",n),this._eventReporter(n)}else this._logger.warn("Cannot report event because there is no player.",e)},e}();t.AudioEventGenerator=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(50),i=r(0),o=r(17),a=/^[^?#]*/;function s(e){var t=e.split("//",2);return 1===t.length?t[0].split("/",1)[0]:t[1]?t[1].split("/",1)[0]:""}function u(e){var t=a.exec(e);return t&&t[0]||""}function l(e,t,r){return{name:t.name,preset:e.preset,bitrate:e.bitrate,protocol:e.rendition.scProtocol,host:s(r),url:u(r),format:e.rendition.scFormat,quality:e.quality}}var c=function(){function e(e){var t=e.logger,r=e.seekStrategy,o=e.controllers,a=e.playerId,s=e.streamUrlsExpire,u=e.fetchEnabled,l=e.fadeOnPauseAndPlay,c=e.fadeOnSeek,d=e.cacheManager,f=e.providePlayer,p=e.removePlayer,h=e.streamUrlRetriever,g=e.getURLOpts,y=e.errorEventGenerator,m=e.audioPerformanceEventGenerator;this._quality=null,this._onQualityChanged=new i.eventDispatcher.EventDispatcher,this._controllerIndexByRendition=new n,this._controlledPlayerWithRendition=null,this.onQualityChanged=this._onQualityChanged.getHandle(),this._logger=i.logger.prefixLogger(t,"ControllerManager"),this._seekStrategy=r,this._controllers=o,this._playerId=a,this._streamUrlsExpire=s,this._fetchEnabled=u,this._fadeOnPauseAndPlay=l,this._fadeOnSeek=c,this._cacheManager=d,this._providePlayer=f,this._removePlayer=p,this._streamUrlRetriever=h,this._getURLOpts=g,this._errorEventGenerator=y||null,this._audioPerformanceEventGenerator=m||null}return e.prototype.buildNextController=function(e,t){var r=this;if(this._controlledPlayerWithRendition)throw new Error("A player is already being controlled.");this._logger.debug("Building next controller.");var n=this._controllerIndexByRendition.get(e.rendition)||0;if(n>=this._controllers.length)this._logger.debug("No more controllers for this rendition."),t({excludeRendition:!0,immediateRetry:!0});else{var i=!1;this._manageController(e,this._controllers[n],(function(o){if(i)throw new Error("performNextAction() already called");i=!0,"MOVE_ON"!==o&&"MOVE_ON_SAME_RENDITION"!==o||(r._logger.debug("Controller will not be used again."),r._controllerIndexByRendition.set(e.rendition,n+1)),"MOVE_ON_SAME_RENDITION"===o?r.buildNextController(e,t):t({excludeRendition:!1,immediateRetry:"MOVE_ON"===o})}))}},e.prototype.releaseCurrentController=function(e){var t=e.retry;if(!this._controlledPlayerWithRendition)throw new Error("There is no player being controlled.");this._controlledPlayerWithRendition.releaseControl({retry:t})},e.prototype.getQuality=function(){return this._quality},e.prototype.getPlayerDetails=function(){if(!this._controlledPlayerWithRendition)throw new Error("There is no player being controlled.");var e=this._controlledPlayerWithRendition;return l(e.initialUrlAndRendition,e.controller,e.controlledPlayer.getUrl())},e.prototype._manageController=function(e,t,r){var n=this,a=function(){n._removePlayer(),n._controlledPlayerWithRendition=null,s&&s.kill()};if(this._logger.debug("Preparing controller.",t.name),!t.isRenditionSupported(e.rendition,{streamUrlExpires:this._streamUrlsExpire}))return this._logger.debug("Skipping controller because rendition not supported."),void r("MOVE_ON_SAME_RENDITION");var s,u=!1,c=function(e){var t=e.retry;u||(u=!0,n._logger.debug("Releasing control."),a(),r(t?"RETRY":"MOVE_ON"))};try{this._logger.debug("Building player.");var d=t.buildPlayer({logger:i.logger.prefixLogger(this._logger,t.name+"-Controller"),seekStrategy:this._seekStrategy,playerId:this._playerId,urlAndRendition:e,streamUrlExpires:this._streamUrlsExpire,fetchEnabled:this._fetchEnabled,releaseControl:c,fadeOnPauseAndPlay:this._fadeOnPauseAndPlay,fadeOnSeek:this._fadeOnSeek,getNewUrl:function(){return n._getNewUrlWithSameRendition(e.rendition)},reportError:function(r){n._errorEventGenerator&&n._errorEventGenerator.reportManualEvent(r,l(e,t,d?d.getUrl():e.url))},reportPerformance:function(e){!u&&n._audioPerformanceEventGenerator&&n._audioPerformanceEventGenerator.reportManualEvent(e)}});if(s=d.getPlayer(),u)this._logger.warn("Player released during constrution."),s.kill();else if(s.isDead()){var f=s.getFatalError();f instanceof i.errors.NotSupportedError?this._logger.debug("Player not supported (during construction)."):this._logger.error("Error during construction.",f),r("MOVE_ON_SAME_RENDITION")}else{this._logger.debug("Player built."),s.onChange.subscribe((function(e){var t=e.dead,r=e.fatalError;t&&(r&&n._logger.error("Fatal player error occurred.",r),c({retry:!1}))})),this._cacheManager.addPlayer(s),this._controlledPlayerWithRendition={controller:t,controlledPlayer:d,initialUrlAndRendition:e,releaseControl:c},this._providePlayer(d.getPlayer(),t.syncConfig,t.supportsVolumeAutomation),this._logger.debug("Player provided to proxy.");var p=e.quality||null;this._quality!==p&&(this._logger.debug("Quality changed.",p),this._quality=p,this._onQualityChanged.dispatch(p))}}catch(e){e===o.notSupportedError?this._logger.debug("Player not supported. Not constructed."):this._logger.error("Error during construction.",e),a(),r("MOVE_ON_SAME_RENDITION")}},e.prototype._getNewUrlWithSameRendition=function(e){var t=this;return new i.helpers.abortableJob.AbortableJob((function(){var r=t._streamUrlRetriever.getUrl(t._getURLOpts);return{result:r.whenComplete().then((function(t){var r=null;return t&&t.success&&t.rendition===e&&(r=t.url),r})),abort:function(){return r.abort()}}})).run()},e}();t.ControllerManager=c},function(e,t,r){"use strict";e.exports=r(51)()?Map:r(52)},function(e,t,r){"use strict";e.exports=function(){var e,t;if("function"!=typeof Map)return!1;try{e=new Map([["raz","one"],["dwa","two"],["trzy","three"]])}catch(e){return!1}return"[object Map]"===String(e)&&3===e.size&&"function"==typeof e.clear&&"function"==typeof e.delete&&"function"==typeof e.entries&&"function"==typeof e.forEach&&"function"==typeof e.get&&"function"==typeof e.has&&"function"==typeof e.keys&&"function"==typeof e.set&&"function"==typeof e.values&&!1===(t=e.entries().next()).done&&!!t.value&&"raz"===t.value[0]&&"one"===t.value[1]}},function(e,t,r){"use strict";var n,i=r(18),o=r(53),a=r(6),s=r(2),u=r(1),l=r(4),c=r(71),d=r(3),f=r(25),p=r(77),h=r(90),g=r(93),y=Function.prototype.call,m=Object.defineProperties,_=Object.getPrototypeOf;e.exports=n=function(){var e,t,r,i=arguments[0];if(!(this instanceof n))throw new TypeError("Constructor requires 'new'");return r=g&&a&&Map!==n?a(new Map,_(this)):this,null!=i&&f(i),m(r,{__mapKeysData__:l("c",e=[]),__mapValuesData__:l("c",t=[])}),i?(p(i,(function(r){var n=u(r)[0];r=r[1],-1===o.call(e,n)&&(e.push(n),t.push(r))}),r),r):r},g&&(a&&a(n,Map),n.prototype=Object.create(Map.prototype,{constructor:l(n)})),c(m(n.prototype,{clear:l((function(){this.__mapKeysData__.length&&(i.call(this.__mapKeysData__),i.call(this.__mapValuesData__),this.emit("_clear"))})),delete:l((function(e){var t=o.call(this.__mapKeysData__,e);return-1!==t&&(this.__mapKeysData__.splice(t,1),this.__mapValuesData__.splice(t,1),this.emit("_delete",t,e),!0)})),entries:l((function(){return new h(this,"key+value")})),forEach:l((function(e){var t,r,n=arguments[1];for(s(e),r=(t=this.entries())._next();void 0!==r;)y.call(e,n,this.__mapValuesData__[r],this.__mapKeysData__[r],this),r=t._next()})),get:l((function(e){var t=o.call(this.__mapKeysData__,e);if(-1!==t)return this.__mapValuesData__[t]})),has:l((function(e){return-1!==o.call(this.__mapKeysData__,e)})),keys:l((function(){return new h(this,"key")})),set:l((function(e,t){var r,n=o.call(this.__mapKeysData__,e);return-1===n&&(n=this.__mapKeysData__.push(e)-1,r=!0),this.__mapValuesData__[n]=t,r&&this.emit("_add",n,e),this})),size:l.gs((function(){return this.__mapKeysData__.length})),values:l((function(){return new h(this,"value")})),toString:l((function(){return"[object Map]"}))})),Object.defineProperty(n.prototype,d.iterator,l((function(){return this.entries()}))),Object.defineProperty(n.prototype,d.toStringTag,l("c","Map"))},function(e,t,r){"use strict";var n=r(54),i=r(20),o=r(1),a=Array.prototype.indexOf,s=Object.prototype.hasOwnProperty,u=Math.abs,l=Math.floor;e.exports=function(e){var t,r,c,d;if(!n(e))return a.apply(this,arguments);for(r=i(o(this).length),c=arguments[1],t=c=isNaN(c)?0:c>=0?l(c):i(this.length)-l(u(c));t<r;++t)if(s.call(this,t)&&(d=this[t],n(d)))return t;return-1}},function(e,t,r){"use strict";e.exports=r(55)()?Number.isNaN:r(56)},function(e,t,r){"use strict";e.exports=function(){var e=Number.isNaN;return"function"==typeof e&&!e({})&&e(NaN)&&!e(34)}},function(e,t,r){"use strict";e.exports=function(e){return e!=e}},function(e,t,r){"use strict";var n=r(58),i=Math.abs,o=Math.floor;e.exports=function(e){return isNaN(e)?0:0!==(e=Number(e))&&isFinite(e)?n(e)*o(i(e)):e}},function(e,t,r){"use strict";e.exports=r(59)()?Math.sign:r(60)},function(e,t,r){"use strict";e.exports=function(){var e=Math.sign;return"function"==typeof e&&1===e(10)&&-1===e(-20)}},function(e,t,r){"use strict";e.exports=function(e){return e=Number(e),isNaN(e)||0===e?e:e>0?1:-1}},function(e,t,r){"use strict";var n=r(5),i={function:!0,object:!0};e.exports=function(e){return n(e)&&i[typeof e]||!1}},function(e,t,r){"use strict";var n,i,o,a,s=Object.create;r(21)()||(n=r(22)),e.exports=n?1!==n.level?s:(i={},o={},a={configurable:!1,enumerable:!1,writable:!0,value:void 0},Object.getOwnPropertyNames(Object.prototype).forEach((function(e){o[e]="__proto__"!==e?a:{configurable:!0,enumerable:!1,writable:!0,value:void 0}})),Object.defineProperties(i,o),Object.defineProperty(n,"nullPolyfill",{configurable:!1,enumerable:!1,writable:!1,value:i}),function(e,t){return s(null===e?i:e,t)}):s},function(e,t,r){"use strict";e.exports=function(){var e,t=Object.assign;return"function"==typeof t&&(t(e={foo:"raz"},{bar:"dwa"},{trzy:"trzy"}),e.foo+e.bar+e.trzy==="razdwatrzy")}},function(e,t,r){"use strict";var n=r(65),i=r(1),o=Math.max;e.exports=function(e,t){var r,a,s,u=o(arguments.length,2);for(e=Object(i(e)),s=function(n){try{e[n]=t[n]}catch(e){r||(r=e)}},a=1;a<u;++a)t=arguments[a],n(t).forEach(s);if(void 0!==r)throw r;return e}},function(e,t,r){"use strict";e.exports=r(66)()?Object.keys:r(67)},function(e,t,r){"use strict";e.exports=function(){try{return Object.keys("primitive"),!0}catch(e){return!1}}},function(e,t,r){"use strict";var n=r(5),i=Object.keys;e.exports=function(e){return i(n(e)?Object(e):e)}},function(e,t,r){"use strict";e.exports=function(e){return"function"==typeof e}},function(e,t,r){"use strict";var n="razdwatrzy";e.exports=function(){return"function"==typeof n.contains&&!0===n.contains("dwa")&&!1===n.contains("foo")}},function(e,t,r){"use strict";var n=String.prototype.indexOf;e.exports=function(e){return n.call(this,e,arguments[1])>-1}},function(e,t,r){"use strict";var n,i,o,a,s,u,l,c=r(4),d=r(2),f=Function.prototype.apply,p=Function.prototype.call,h=Object.create,g=Object.defineProperty,y=Object.defineProperties,m=Object.prototype.hasOwnProperty,_={configurable:!0,enumerable:!1,writable:!0};i=function(e,t){var r,i;return d(t),i=this,n.call(this,e,r=function(){o.call(i,e,r),f.call(t,this,arguments)}),r.__eeOnceListener__=t,this},s={on:n=function(e,t){var r;return d(t),m.call(this,"__ee__")?r=this.__ee__:(r=_.value=h(null),g(this,"__ee__",_),_.value=null),r[e]?"object"==typeof r[e]?r[e].push(t):r[e]=[r[e],t]:r[e]=t,this},once:i,off:o=function(e,t){var r,n,i,o;if(d(t),!m.call(this,"__ee__"))return this;if(!(r=this.__ee__)[e])return this;if("object"==typeof(n=r[e]))for(o=0;i=n[o];++o)i!==t&&i.__eeOnceListener__!==t||(2===n.length?r[e]=n[o?0:1]:n.splice(o,1));else n!==t&&n.__eeOnceListener__!==t||delete r[e];return this},emit:a=function(e){var t,r,n,i,o;if(m.call(this,"__ee__")&&(i=this.__ee__[e]))if("object"==typeof i){for(r=arguments.length,o=new Array(r-1),t=1;t<r;++t)o[t-1]=arguments[t];for(i=i.slice(),t=0;n=i[t];++t)f.call(n,this,o)}else switch(arguments.length){case 1:p.call(i,this);break;case 2:p.call(i,this,arguments[1]);break;case 3:p.call(i,this,arguments[1],arguments[2]);break;default:for(r=arguments.length,o=new Array(r-1),t=1;t<r;++t)o[t-1]=arguments[t];f.call(i,this,o)}}},u={on:c(n),once:c(i),off:c(o),emit:c(a)},l=y({},u),e.exports=t=function(e){return null==e?h(l):y(Object(e),u)},t.methods=s},function(e,t,r){"use strict";var n={object:!0,symbol:!0};e.exports=function(){var e;if("function"!=typeof Symbol)return!1;e=Symbol("test symbol");try{String(e)}catch(e){return!1}return!!n[typeof Symbol.iterator]&&!!n[typeof Symbol.toPrimitive]&&!!n[typeof Symbol.toStringTag]}},function(e,t,r){"use strict";var n,i,o,a,s=r(4),u=r(74),l=Object.create,c=Object.defineProperties,d=Object.defineProperty,f=Object.prototype,p=l(null);if("function"==typeof Symbol){n=Symbol;try{String(n()),a=!0}catch(e){}}var h,g=(h=l(null),function(e){for(var t,r,n=0;h[e+(n||"")];)++n;return h[e+=n||""]=!0,d(f,t="@@"+e,s.gs(null,(function(e){r||(r=!0,d(this,t,s(e)),r=!1)}))),t});o=function(e){if(this instanceof o)throw new TypeError("Symbol is not a constructor");return i(e)},e.exports=i=function e(t){var r;if(this instanceof e)throw new TypeError("Symbol is not a constructor");return a?n(t):(r=l(o.prototype),t=void 0===t?"":String(t),c(r,{__description__:s("",t),__name__:s("",g(t))}))},c(i,{for:s((function(e){return p[e]?p[e]:p[e]=i(String(e))})),keyFor:s((function(e){var t;for(t in u(e),p)if(p[t]===e)return t})),hasInstance:s("",n&&n.hasInstance||i("hasInstance")),isConcatSpreadable:s("",n&&n.isConcatSpreadable||i("isConcatSpreadable")),iterator:s("",n&&n.iterator||i("iterator")),match:s("",n&&n.match||i("match")),replace:s("",n&&n.replace||i("replace")),search:s("",n&&n.search||i("search")),species:s("",n&&n.species||i("species")),split:s("",n&&n.split||i("split")),toPrimitive:s("",n&&n.toPrimitive||i("toPrimitive")),toStringTag:s("",n&&n.toStringTag||i("toStringTag")),unscopables:s("",n&&n.unscopables||i("unscopables"))}),c(o.prototype,{constructor:s(i),toString:s("",(function(){return this.__name__}))}),c(i.prototype,{toString:s((function(){return"Symbol ("+u(this).__description__+")"})),valueOf:s((function(){return u(this)}))}),d(i.prototype,i.toPrimitive,s("",(function(){var e=u(this);return"symbol"==typeof e?e:e.toString()}))),d(i.prototype,i.toStringTag,s("c","Symbol")),d(o.prototype,i.toStringTag,s("c",i.prototype[i.toStringTag])),d(o.prototype,i.toPrimitive,s("c",i.prototype[i.toPrimitive]))},function(e,t,r){"use strict";var n=r(75);e.exports=function(e){if(!n(e))throw new TypeError(e+" is not a symbol");return e}},function(e,t,r){"use strict";e.exports=function(e){return!!e&&("symbol"==typeof e||!!e.constructor&&"Symbol"===e.constructor.name&&"Symbol"===e[e.constructor.toStringTag])}},function(e,t,r){"use strict";var n=r(7),i=r(5),o=r(8),a=r(3).iterator,s=Array.isArray;e.exports=function(e){return!(!i(e)||!s(e)&&!o(e)&&!n(e)&&"function"!=typeof e[a])}},function(e,t,r){"use strict";var n=r(7),i=r(2),o=r(8),a=r(78),s=Array.isArray,u=Function.prototype.call,l=Array.prototype.some;e.exports=function(e,t){var r,c,d,f,p,h,g,y,m=arguments[2];if(s(e)||n(e)?r="array":o(e)?r="string":e=a(e),i(t),d=function(){f=!0},"array"!==r)if("string"!==r)for(c=e.next();!c.done;){if(u.call(t,m,c.value,d),f)return;c=e.next()}else for(h=e.length,p=0;p<h&&(g=e[p],p+1<h&&(y=g.charCodeAt(0))>=55296&&y<=56319&&(g+=e[++p]),u.call(t,m,g,d),!f);++p);else l.call(e,(function(e){return u.call(t,m,e,d),f}))}},function(e,t,r){"use strict";var n=r(7),i=r(8),o=r(79),a=r(89),s=r(25),u=r(3).iterator;e.exports=function(e){return"function"==typeof s(e)[u]?e[u]():n(e)?new o(e):i(e)?new a(e):new o(e)}},function(e,t,r){"use strict";var n,i=r(6),o=r(24),a=r(4),s=r(3),u=r(14),l=Object.defineProperty;n=e.exports=function(e,t){if(!(this instanceof n))throw new TypeError("Constructor requires 'new'");u.call(this,e),t=t?o.call(t,"key+value")?"key+value":o.call(t,"key")?"key":"value":"value",l(this,"__kind__",a("",t))},i&&i(n,u),delete n.prototype.constructor,n.prototype=Object.create(u.prototype,{_resolve:a((function(e){return"value"===this.__kind__?this.__list__[e]:"key+value"===this.__kind__?[e,this.__list__[e]]:e}))}),l(n.prototype,s.toStringTag,a("c","Array Iterator"))},function(e,t,r){"use strict";var n,i=r(81),o=r(23),a=r(2),s=r(86),u=r(2),l=r(1),c=Function.prototype.bind,d=Object.defineProperty,f=Object.prototype.hasOwnProperty;n=function(e,t,r){var n,o=l(t)&&u(t.value);return delete(n=i(t)).writable,delete n.value,n.get=function(){return!r.overwriteDefinition&&f.call(this,e)?o:(t.value=c.call(o,r.resolveContext?r.resolveContext(this):this),d(this,e,t),this[e])},n},e.exports=function(e){var t=o(arguments[1]);return null!=t.resolveContext&&a(t.resolveContext),s(e,(function(e,r){return n(r,e,t)}))}},function(e,t,r){"use strict";var n=r(82),i=r(13),o=r(1);e.exports=function(e){var t=Object(o(e)),r=arguments[1],a=Object(arguments[2]);if(t!==e&&!r)return t;var s={};return r?n(r,(function(t){(a.ensure||t in e)&&(s[t]=e[t])})):i(s,e),s}},function(e,t,r){"use strict";e.exports=r(83)()?Array.from:r(84)},function(e,t,r){"use strict";e.exports=function(){var e,t,r=Array.from;return"function"==typeof r&&(t=r(e=["raz","dwa"]),Boolean(t&&t!==e&&"dwa"===t[1]))}},function(e,t,r){"use strict";var n=r(3).iterator,i=r(7),o=r(85),a=r(20),s=r(2),u=r(1),l=r(5),c=r(8),d=Array.isArray,f=Function.prototype.call,p={configurable:!0,enumerable:!0,writable:!0,value:null},h=Object.defineProperty;e.exports=function(e){var t,r,g,y,m,_,v,b,w,E,S=arguments[1],A=arguments[2];if(e=Object(u(e)),l(S)&&s(S),this&&this!==Array&&o(this))t=this;else{if(!S){if(i(e))return 1!==(m=e.length)?Array.apply(null,e):((y=new Array(1))[0]=e[0],y);if(d(e)){for(y=new Array(m=e.length),r=0;r<m;++r)y[r]=e[r];return y}}y=[]}if(!d(e))if(void 0!==(w=e[n])){for(v=s(w).call(e),t&&(y=new t),b=v.next(),r=0;!b.done;)E=S?f.call(S,A,b.value,r):b.value,t?(p.value=E,h(y,r,p)):y[r]=E,b=v.next(),++r;m=r}else if(c(e)){for(m=e.length,t&&(y=new t),r=0,g=0;r<m;++r)E=e[r],r+1<m&&(_=E.charCodeAt(0))>=55296&&_<=56319&&(E+=e[++r]),E=S?f.call(S,A,E,g):E,t?(p.value=E,h(y,g,p)):y[g]=E,++g;m=g}if(void 0===m)for(m=a(e.length),t&&(y=new t(m)),r=0;r<m;++r)E=S?f.call(S,A,e[r],r):e[r],t?(p.value=E,h(y,r,p)):y[r]=E;return t&&(p.value=null,y.length=m),y}},function(e,t,r){"use strict";var n=Object.prototype.toString,i=n.call(r(19));e.exports=function(e){return"function"==typeof e&&n.call(e)===i}},function(e,t,r){"use strict";var n=r(2),i=r(87),o=Function.prototype.call;e.exports=function(e,t){var r={},a=arguments[2];return n(t),i(e,(function(e,n,i,s){r[n]=o.call(t,a,e,n,i,s)})),r}},function(e,t,r){"use strict";e.exports=r(88)("forEach")},function(e,t,r){"use strict";var n=r(2),i=r(1),o=Function.prototype.bind,a=Function.prototype.call,s=Object.keys,u=Object.prototype.propertyIsEnumerable;e.exports=function(e,t){return function(r,l){var c,d=arguments[2],f=arguments[3];return r=Object(i(r)),n(l),c=s(r),f&&c.sort("function"==typeof f?o.call(f,r):void 0),"function"!=typeof e&&(e=c[e]),a.call(e,c,(function(e,n){return u.call(r,e)?a.call(l,d,r[e],e,r,n):t}))}}},function(e,t,r){"use strict";var n,i=r(6),o=r(4),a=r(3),s=r(14),u=Object.defineProperty;n=e.exports=function(e){if(!(this instanceof n))throw new TypeError("Constructor requires 'new'");e=String(e),s.call(this,e),u(this,"__length__",o("",e.length))},i&&i(n,s),delete n.prototype.constructor,n.prototype=Object.create(s.prototype,{_next:o((function(){if(this.__list__)return this.__nextIndex__<this.__length__?this.__nextIndex__++:void this._unBind()})),_resolve:o((function(e){var t,r=this.__list__[e];return this.__nextIndex__===this.__length__?r:(t=r.charCodeAt(0))>=55296&&t<=56319?r+this.__list__[this.__nextIndex__++]:r}))}),u(n.prototype,a.toStringTag,o("c","String Iterator"))},function(e,t,r){"use strict";var n,i=r(6),o=r(4),a=r(14),s=r(3).toStringTag,u=r(91),l=Object.defineProperties,c=a.prototype._unBind;n=e.exports=function(e,t){if(!(this instanceof n))return new n(e,t);a.call(this,e.__mapKeysData__,e),t&&u[t]||(t="key+value"),l(this,{__kind__:o("",t),__values__:o("w",e.__mapValuesData__)})},i&&i(n,a),n.prototype=Object.create(a.prototype,{constructor:o(n),_resolve:o((function(e){return"value"===this.__kind__?this.__values__[e]:"key"===this.__kind__?this.__list__[e]:[this.__list__[e],this.__values__[e]]})),_unBind:o((function(){this.__values__=null,c.call(this)})),toString:o((function(){return"[object Map Iterator]"}))}),Object.defineProperty(n.prototype,s,o("c","Map Iterator"))},function(e,t,r){"use strict";e.exports=r(92)("key","value","key+value")},function(e,t,r){"use strict";var n=Array.prototype.forEach,i=Object.create;e.exports=function(e){var t=i(null);return n.call(arguments,(function(e){t[e]=!0})),t}},function(e,t,r){"use strict";e.exports="undefined"!=typeof Map&&"[object Map]"===Object.prototype.toString.call(new Map)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0);function i(e,t){var r=e.getMemoryCacheController();r&&r.setMaxCacheSize(t)}var o=function(){function e(e,t){this._maxCacheSize=e,this._players=[],this._updateTimer=null,this._logger=n.logger.prefixLogger(t,"CacheManager"),this._logger.debug("Initialized with cache size "+e+" bytes.")}return e.prototype.setCacheSize=function(e){this._maxCacheSize!==e&&(this._logger.debug("Updating cache size to "+e+" bytes."),this._maxCacheSize=e,this._update())},e.prototype.addPlayer=function(e){var t=this;if(this._logger.debug("Adding player to cache manager."),e.isDead())this._logger.debug("Player was dead.");else{var r=this._players;e.onChange.subscribe((function(n){var i=n.playing;!0===n.dead?(t._logger.debug("Removing player that became dead."),r.splice(r.indexOf(e),1),t._update()):!0===i?(t._logger.debug("Updating because player started playing."),r.splice(r.indexOf(e),1),r.unshift(e),t._update()):!1===i&&(t._logger.debug("Updating because player became paused."),t._update())})),e.isPlaying()?r.unshift(e):r.push(e),this._update()}},e.prototype._update=function(){var e=this;if(this._updateTimer&&(window.clearTimeout(this._updateTimer),this._updateTimer=null),0!==this._players.length){var t=this._players.reduce((function(e,t){return t.isPlaying()?e.playingPlayers.push(t):e.pausedPlayers.push(t),e}),{playingPlayers:[],pausedPlayers:[]}),r=t.playingPlayers,n=t.pausedPlayers,o=r.reduce((function(e,t){return e+(t.getMemoryCacheUsage()||0)}),0),a=n.reduce((function(e,t){return e+(t.getMemoryCacheUsage()||0)}),0);if(o>this._maxCacheSize){this._logger.debug("All playing players are using more than the max cache size. Cleaning...",o,this._maxCacheSize);var s=this._maxCacheSize/r.length;r.forEach((function(e){return i(e,s)})),n.forEach((function(e){return i(e,0)}))}else this._logger.debug("Recalculating cache sizes...",o+a,this._maxCacheSize),r.concat(n).reduce((function(t,r){return i(r,Math.max(0,e._maxCacheSize-t)),t+(r.getMemoryCacheUsage()||0)}),0);this._updateTimer=window.setTimeout((function(){return e._update()}),2e4)}else this._logger.debug("There are no longer any players to manage.")},e}();t.CacheManager=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),i=r(10);t.NoMoreAttemptsError=new Error("No more attempts to retrieve URL."),t.retrieveUrl=function(e){var r=e.streamUrlRetriever,o=e.getURLOpts,a=e.logger,s=e.urlProviderRetryDelayCalculator;return new n.helpers.abortableJob.AbortableJob((function(){var e=n.helpers.deferred.buildDeferred(),u=n.helpers.retry.retry(s,(function(t){var s=t.scheduleRetry,u=r.getUrl(o);return a.debug("Retrieving a URL..."),u.onCompletion((function(t){t?t.rendition&&i.allRenditions.indexOf(t.rendition)<0?(a.warn("Unknown rendition. Skipping...",t.rendition),r.excludeRendition(t.rendition),s()):!t.success&&t.error.isTransient()?(a.warn("Transient error retrieving url.",t.error),s()):e.resolve(t):(a.debug("No URL provided."),e.resolve(null))})),u.onError((function(t){t!==n.helpers.abortableJob.abortedError&&a.error("Error retrieving URL.",t),e.reject(t)})),{onCancel:function(){return u.abort()}}}),{onNoMoreRetries:function(){return e.reject(t.NoMoreAttemptsError)}}).cancel;return{result:e.promise,abort:function(){return u()}}})).run()}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(16),i=r(0);function o(e,t){return void 0!==e?e:t}t.validatePlayerDependencies=function(e){if(!(e.streamUrlRetriever instanceof n.BaseStreamUrlRetriever))throw new Error("StreamUrlRetriever invalid.");if(void 0!==e.duration&&("number"!=typeof e.duration||e.duration<0))throw new Error("duration invalid.");if(void 0!==e.getURLOpts&&"object"!=typeof e.getURLOpts)throw new Error("getURLOpts invalid.");if(void 0!==e.preloadingEnabled&&"boolean"!=typeof e.preloadingEnabled)throw new Error("preloadingEnabled invalid.");if(void 0!==e.fadeOnPauseAndPlay&&"boolean"!=typeof e.fadeOnPauseAndPlay)throw new Error("fadeOnPauseAndPlay invalid.");if(void 0!==e.fadeOnSeek&&"boolean"!=typeof e.fadeOnSeek)throw new Error("fadeOnSeek invalid.");if(void 0!==e.mediaSessionEnabled&&"boolean"!=typeof e.mediaSessionEnabled)throw new Error("mediaSessionEnabled invalid.");if(void 0!==e.pausedMaxBufferLength&&("number"!=typeof e.pausedMaxBufferLength||e.pausedMaxBufferLength<0))throw new Error("pausedMaxBufferLength invalid.");if(void 0!==e.playingMaxBufferLength&&("number"!=typeof e.playingMaxBufferLength||e.playingMaxBufferLength<0))throw new Error("playingMaxBufferLength invalid.");if(void 0!==e.logger&&"function"!=typeof e.logger&&"object"!=typeof e.logger)throw new Error("logger invalid.");if(void 0!==e.audioReporter&&"function"!=typeof e.audioReporter)throw new Error("audioReporter invalid.");if(void 0!==e.audioCheckpointInterval&&("number"!=typeof e.audioCheckpointInterval||e.audioCheckpointInterval<0))throw new Error("audioCheckpointInterval invalid.");if(void 0!==e.audioPerformanceReporter&&"function"!=typeof e.audioPerformanceReporter)throw new Error("audioPerformanceReporter invalid.");if(void 0!==e.errorReporter&&"function"!=typeof e.errorReporter)throw new Error("errorReporter invalid.");if(void 0!==e.urlProviderRetryDelayCalculator&&"function"!=typeof e.urlProviderRetryDelayCalculator)throw new Error("urlProviderRetryDelayCalculator invalid.");return{controllers:e.controllers,streamUrlRetriever:e.streamUrlRetriever,getURLOpts:o(e.getURLOpts,{}),preloadingEnabled:o(e.preloadingEnabled,!1),pausedMaxBufferLength:o(e.pausedMaxBufferLength,2e3),playingMaxBufferLength:o(e.playingMaxBufferLength,9e4),fadeOnPauseAndPlay:o(e.fadeOnPauseAndPlay,!1),fadeOnSeek:o(e.fadeOnSeek,!1),audioCheckpointInterval:o(e.audioCheckpointInterval,3e4),urlProviderRetryDelayCalculator:o(e.urlProviderRetryDelayCalculator,i.helpers.retry.buildExponentialDelayCalculator()),streamUrlsExpire:o(e.streamUrlsExpire,!0),fetchEnabled:o(e.fetchEnabled,!0),duration:e.duration,audioReporter:e.audioReporter,audioPerformanceReporter:e.audioPerformanceReporter,errorReporter:e.errorReporter,seekStrategy:e.seekStrategy}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateLogId=function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t="",r=0;r<20;r++)t+=e.charAt(Math.floor(Math.random()*e.length));return t}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),i=function(){function e(e){var t=this;this._player=e,this._onConnectionRequired=new n.eventDispatcher.EventDispatcher,this._onConnectionRecovered=new n.eventDispatcher.EventDispatcher,this._connectionRequired=!1,this._connectionLossTimer=null,this.onConnectionRequired=this._onConnectionRequired.getHandle(),this.onConnectionRecovered=this._onConnectionRecovered.getHandle();var r=function(){return t._calculateIfConnectionRequired()};window.addEventListener("online",r),window.addEventListener("offline",r),this._calculateIfConnectionRequired(),e.onChange.subscribe((function(n){var i=n.loading;n.dead&&null!==t._connectionLossTimer&&(window.clearTimeout(t._connectionLossTimer),window.removeEventListener("online",r),window.removeEventListener("offline",r)),e.isDead()||void 0===i||t._calculateIfConnectionRequired()}))}return e.prototype.isConnectionRequired=function(){return this._connectionRequired},e.prototype._calculateIfConnectionRequired=function(){var e=this;this._player.isLoading()&&"navigator"in window&&!window.navigator.onLine?null===this._connectionLossTimer&&(this._connectionLossTimer=window.setTimeout((function(){e._connectionLossTimer=null,e._connectionRequired=!0,e._onConnectionRequired.dispatch(void 0)}),1500)):this._connectionRequired?(this._connectionRequired=!1,this._onConnectionRecovered.dispatch(void 0)):null!==this._connectionLossTimer&&(window.clearTimeout(this._connectionLossTimer),this._connectionLossTimer=null)},e}();t.ConnectionRequiredHelper=i},function(e,t,r){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.SQ="sq",e.HQ="hq"}(n=t.Quality||(t.Quality={})),t.resolveQuality=function(e){switch(e){case n.SQ:return n.SQ;case n.HQ:return n.HQ}return null}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(9),i=r(26),o=r(27);!function(e){e.NotSupportedError=n.NotSupportedError,e.NoStreamsError=i.NoStreamsError,e.FailedRetrievingUrlError=o.FailedRetrievingUrlError}(t.errors||(t.errors={}))}])},e.exports=n(r(77))},,function(e,t,r){!function(){var t,r,n,i,o,a,s,u,l,c,d,f,p,h,g,y,m={},_=3e4,v=/^[^v]/,b=!0,w=!0,E=!1;function S(){clearTimeout(p),r=n=i=o=a=s=u=l=c=h=p=y=E=window.__sc_events=void 0,g=[],b=!0,w=!0,f=function(){throw new Error("EventGateway must be initialized")}}function A(){return Math.floor(1e6*Math.random())}function P(e,t){var r,n=function(e){var t,r={};for(t in e)e.hasOwnProperty(t)&&(r[t]=e[t]);return r}(e);for(r in t)t.hasOwnProperty(r)&&(n[r]=t[r]);return n}function I(e){return(e="object"==typeof e?e:{}).context=e.context||{},e.context.scope=e.context.scope||[],e}function M(e){return e.replace(v,"v$&")}function T(e,t,r){var n=e[r];return t[r]="object"==typeof n?Object.keys(z(n)).reduce(T.bind(null,n),{}):""+n,t}function k(e,t){var r=z(t);return"0.0.0"===e?Object.keys(r).reduce(T.bind(null,r),{}):r}function C(e,t,r){var n={events:e};c&&(n.auth_token=c),y("post",u+"/me",n,r,(function(r){r&&t&&setTimeout((function(){C(e,!1,!1)}),_)}))}function x(){var e=!!(window&&window.navigator&&window.navigator.sendBeacon);function t(e){e.onload=e.onerror=null}function r(e,r){t(e),r()}function n(e,r){t(e),/^4/.test(e.status)||r(e.status)}return function(t,i,o,a,s){var u=JSON.stringify(o);if(a&&e)window.navigator.sendBeacon(i,u);else{var l=new window.XMLHttpRequest;l.onload=r.bind(null,l,s),l.onerror=n.bind(null,l,s),l.open(t,i,!0),l.send(u)}}}function D(e){E&&window.__sc_events.push(e),h||!w?(g=g.concat(e),!p&&w&&(p=setTimeout(O,h))):C(e,!0,!1)}function O(e){clearTimeout(p),p=null,g.length&&(C(g.slice(),!0,!!e),g.length=0)}function R(e,t,n){f();var u=Date.now();H(n).then((function(n){var c,f;(n=n||{}).anonymous_id=r,n.client_id=a,n.ts=u,n.url=n.url||window.location.href,s&&(n.app_version=s);var p=[];if(o)for(c in o)p.push(o[c]);p.length&&(n.part_of_variants=p.join(",")),i&&(n.origin=i),l&&!n.user&&(n.user=l),d&&(n.platform=d),(f=document.referrer).length>0&&(n.referrer=f),D({event:e,version:M(t),payload:k(t,n)})}))}function L(e,t){for(var r=0,n=t.length;r<n;r++)if(void 0===e[t[r]])return!0;return!1}function N(e){return e?j("users",e):r}function j(e,t){return["soundcloud",e,t].join(":")}function F(e,t){t&&(e.query_urn=t.queryUrn,e.query_position=t.position)}function U(){}function B(e){var t,r,n={};if(e)for(t=1;t<arguments.length;++t)(r=arguments[t])in e&&(n[r]=e[r]);return n}function z(e){var t,r={};for(t in e)e.hasOwnProperty(t)&&null!=e[t]&&(r[t]=e[t]);return r}function H(e){return e&&"function"==typeof e.then?e:{then:function(t){return H(t(e))}}}function G(e){return function(){if(b)return e.apply(null,arguments);throw new Error("EventGateway: access to read/write cookies is blocked.")}}S(),t={_anonymousId:null,initialize:function(e){if(!n){if(!e.id)throw new Error("EventGateway: You need to pass an id");i=e.origin,e.user&&(l=j("users",e.user)),void 0!==e.platform&&(d=e.platform),void 0!==e.useCookies&&(b=e.useCookies),void 0!==e.isEnabled&&(w=e.isEnabled),e.logEvents&&(E=!0,window.__sc_events=[]),m=e.eventVersions||{},r=this._anonymousId=t.getAnonymousId(),h=e.batchTimeout||!1,y=e.requestTransport||x(),a=e.id,s=e.appVersion||null,u=e.trackingUrl||"https://telemetry.soundcloud.com",c=e.authToken||null,n=!0,f=U}},deinitialize:function(){S()},toggle:function(e){(w=e)&&O()},loadQueue:D,saveQueue:function(){return g},useCookies:function(e){(b=e)&&r&&t.anonymousIdStore.set(r)},setUser:function(e){l=null==e?e:j("users",e)},setExperiments:function(e){o=e},getAnonymousId:function(){return!r&&b&&(r=t.anonymousIdStore.get()),r&&"undefined"!==r||(r=[A(),A(),A(),A()].join("-"),b&&t.anonymousIdStore.set(r)),r},setAuthToken:function(e){c=e},logEvent:R,pageview:function(e,t,r,n){R("pageview",m.pageview||"0.0.0",H(n).then((function(n){return n=I(n),P({user:N(e),level:t,chapter:r.join("::"),page_name:n.page_name,page_urn:n.page_urn,query_urn:n.query_urn,locale:n.locale,navigation_type:n.navigation_type,currently_playing:n.currently_playing},n.params)})))},impression:function(e,t){R("impression",m.impression||"1.16.0",H(t).then((function(e){var t=B(e=I(e),"impression_name","impression_category","impression_object","page_name","page_urn","ad_urn","monetized_object","monetization_type","promoted_by","external_media");return t.page_context=e.context.scope.join(":"),t})))},click:function(e,t,r,n){R("click",m.click||"0.0.0",H(n).then((function(n){var i={ad_urn:(n=I(n)).ad_urn,campaign:n.context.campaign,chapter:r.join("::"),context:n.context.scope.join(":"),external_media:n.external_media,level:t,monetization_type:n.monetization_type,monetized_object:n.monetized_object,promoted_by:n.promoted_by,urn:n.urn,user:N(e),click_name:n.click_name,click_object:n.click_object,click_target:n.click_target,click_attributes:n.click_attributes,page_name:n.page_name,page_urn:n.page_urn};return F(i,n.context.attribution),P(i,n.params)})))},audio:function(e){R("audio",m.audio||"1.27.17",H(e).then(function(e){var t=j("tracks",e.id),r=B(e,"user","page_name","page_urn","source","in_playlist","playlist_position","reposted_by","track_length","protocol","player_type","preset","quality","audio_quality_mode","app_state","action","trigger","pause_reason","ad_urn","monetization_type","promoted_by","policy","monetization_model");return F(r,e.attribution),r.track=t,r.track_owner=j("users",e.trackOwnerId),r.playhead_position=e.playheadPosition,r.monetized_object=e.monetized_urn,r}.bind(this)))},audioPerformance:function(e){R("audio_performance",m.audioPerformance||"0.0.0",H(e).then((function(e){if(L(e,["type","latency","protocol","host"])||void 0===e.playertype&&void 0===e.player_type)throw new Error("EventGateway  AudioPerformance : One or multiple mandatory arguments are missing");return{type:e.type,latency:e.latency,protocol:e.protocol,player_type:e.player_type||e.playertype,host:e.host,bitrate:e.bitrate,format:e.format,preloaded:e.preloaded,app_state:e.app_state,track_urn:e.track_urn,player_version:e.player_version,player_build_number:e.player_build_number,preset:e.preset,quality:e.quality,audio_quality_mode:e.audio_quality_mode,entity_type:e.entity_type,player_variant:e.player_variant}})))},audioError:function(e){R("audio_error",m.audioError||"0.0.0",H(e).then((function(e){if(L(e,["error_code","protocol","player_type","host","url"]))throw new Error("EventGateway  AudioError : One or multiple mandatory arguments are missing");return{error_code:e.error_code,protocol:e.protocol,player_type:e.player_type,host:e.host,url:e.url,app_state:e.app_state,track_urn:e.track_urn,player_version:e.player_version,player_build_number:e.player_build_number,log_id:e.log_id,preset:e.preset,quality:e.quality,audio_quality_mode:e.audio_quality_mode,entity_type:e.entity_type,player_variant:e.player_variant}})))},appLoad:function(e,t){R("appload",m.appLoad||"0.0.0",H(t).then((function(t){return{latency:t.latency,user:N(e),level:t.level}})))},statsView:function(e,t){R("stats_view",m.statsView||"0.0.0",H(t).then((function(t){return P({user:N(e)},t)})))},anonymousIdStore:{get:G((function(){var e=document.cookie.split("sc_anonymous_id=");return e.length>1&&e[1].split(";")[0]})),set:G((function(e){var t,r="."+window.location.hostname.replace(/.*\.(.+\..+)/,"$1"),n=new Date;n.setTime(n.getTime()+31536e7),t="; expires="+n.toGMTString(),document.cookie="sc_anonymous_id="+e+t+"; path=/; domain="+r}))},flush:O},e.exports?e.exports=t:(window.SC=window.SC||{},window.SC.EventGateway=t)}()},,,function(e,t,r){(function(t){var r=function(e){return e&&e.Math==Math&&e};e.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof t&&t)||Function("return this")()}).call(this,r(149))},,,,,function(e,t,r){var n;window,n=function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=39)}([function(e,t,r){"use strict";var n=r(6);e.exports=function(e){if(!n(e))throw new TypeError("Cannot use null or undefined");return e}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.deferException=function(e){try{e()}catch(e){window.setTimeout((function(){throw e}),0)}}},function(e,t,r){"use strict";e.exports=r(75)()?Symbol:r(76)},function(e,t,r){"use strict";e.exports=function(e){if("function"!=typeof e)throw new TypeError(e+" is not a function");return e}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(14),i=function(){function e(){this._listeners=[],this.dispatch=this.dispatch.bind(this)}return e.prototype.subscribe=function(e){var t=this,r={fn:e,payloads:[]};return this._listeners.push(r),{remove:function(){var e=t._listeners.indexOf(r);return e>=0&&(t._listeners.splice(e,1),!0)},retrieve:function(){return t._dispatchListenerPayloads(r)}}},e.prototype.dispatch=function(e,t){var r=this,i="number"==typeof t?{time:t}:t||{},o=void 0!==i.time?i.time:n.now(),a=this._listeners;a.forEach((function(t){return t.payloads.push({time:o,payload:e})}));var s=!1;do{s=!a.some((function(e){var t=e.fn,n=e.payloads.shift();return!!n&&(r._callHandler(t,n),!0)}))}while(!s)},e.prototype.getHandle=function(){return{subscribe:this.subscribe.bind(this)}},e.prototype._dispatchListenerPayloads=function(e){for(var t=e.fn,r=e.payloads;;){var n=r.shift();if(!n)break;this._callHandler(t,n)}},e.prototype._callHandler=function(e,t){try{e(t.payload,t.time)}catch(e){window.setTimeout((function(){throw e}),0)}},e}();t.EventDispatcher=i},function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.getCode=function(){return"PLAYER_FATAL_ERROR"},t}(r(11).PlayerError);t.PlayerFatalError=o},function(e,t,r){"use strict";var n=r(34)();e.exports=function(e){return e!==n&&null!==e}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(41);t.Promise=n.Promise},function(e,t,r){"use strict";var n=r(19),i=r(35),o=r(71),a=r(36);(e.exports=function(e,t){var r,o,s,u,l;return arguments.length<2||"string"!=typeof e?(u=t,t=e,e=null):u=arguments[2],null==e?(r=s=!0,o=!1):(r=a.call(e,"c"),o=a.call(e,"e"),s=a.call(e,"w")),l={value:t,configurable:r,enumerable:o,writable:s},u?n(i(u),l):l}).gs=function(e,t,r){var s,u,l,c;return"string"!=typeof e?(l=r,r=t,t=e,e=null):l=arguments[3],null==t?t=void 0:o(t)?null==r?r=void 0:o(r)||(l=r,r=void 0):(l=t,t=r=void 0),null==e?(s=!0,u=!1):(s=a.call(e,"c"),u=a.call(e,"e")),c={get:t,set:r,configurable:s,enumerable:u},l?n(i(l),c):c}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(7);t.buildDeferred=function(){var e,t,r=!1;return{promise:new n.Promise((function(r,n){e=r,t=n})),resolve:function(t){r||(r=!0,e(t))},reject:function(e){r||(r=!0,t(e))},isSettled:function(){return r}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(21).isIE();t.noOpLogger={debug:function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r]},error:function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r]},info:function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r]},warn:function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r]}},t.consoleLogger={debug:function(e){for(var t,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];n?console.log(e,r):(t=console.debug||console.log).call.apply(t,[console,e].concat(r))},error:function(e){for(var t,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];n?console.log(e,r):(t=console.error||console.log).call.apply(t,[console,e].concat(r))},info:function(e){for(var t,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];n?console.log(e,r):(t=console.info||console.log).call.apply(t,[console,e].concat(r))},warn:function(e){for(var t,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];n?console.log(e,r):(t=console.warn||console.log).call.apply(t,[console,e].concat(r))}},t.prefixLogger=function(e,t){return{debug:function(r){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];return e.debug.apply(e,["["+t+"] "+r].concat(n))},error:function(r){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];return e.error.apply(e,["["+t+"] "+r].concat(n))},info:function(r){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];return e.info.apply(e,["["+t+"] "+r].concat(n))},warn:function(r){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];return e.warn.apply(e,["["+t+"] "+r].concat(n))}}},t.cloneLogger=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return{debug:function(t){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];return e.forEach((function(e){return e.debug.apply(e,[t].concat(r))}))},error:function(t){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];return e.forEach((function(e){return e.error.apply(e,[t].concat(r))}))},info:function(t){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];return e.forEach((function(e){return e.info.apply(e,[t].concat(r))}))},warn:function(t){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];return e.forEach((function(e){return e.warn.apply(e,[t].concat(r))}))}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){this._msg=e,this._cause=t}return e.prototype.getCode=function(){return"PLAYER_ERROR"},e.prototype.getMsg=function(){return this._msg},e.prototype.getCause=function(){return this._cause},e}();t.PlayerError=n},function(e,t,r){"use strict";var n=Object.prototype.toString,i=n.call(function(){return arguments}());e.exports=function(e){return n.call(e)===i}},function(e,t,r){"use strict";var n=Object.prototype.toString,i=n.call("");e.exports=function(e){return"string"==typeof e||e&&"object"==typeof e&&(e instanceof String||n.call(e)===i)||!1}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Date.now();t.now=function(){return"performance"in window&&window.performance.now?window.performance.now():Date.now()-n}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.always=function(e,t){return e.then(t,t)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.find=function(e,t){var r=void 0;return e.some((function(e){return!!t(e)&&(r=e,!0)})),r}},function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t,r,n){return void 0===n&&(n="The player that the proxy was controlling had a fatal error."),e.call(this,t,r,n)||this}return i(t,e),t.prototype.getCode=function(){return"PROXY_PLAYER_PROVIDED_PLAYER_FATAL_ERROR"},t}(r(30).ProxyProvidedPlayerError);t.ProxyProvidedPlayerFatalError=o},function(e,t,r){"use strict";e.exports=r(31)()?Object.setPrototypeOf:r(32)},function(e,t,r){"use strict";e.exports=r(66)()?Object.assign:r(67)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(7),i=r(9),o=r(15),a=r(1),s=r(4);t.abortedError=new Error("Job aborted."),t.map=function(e,t){var r=t.convertResult,n=t.convertProgressUpdate,o=t.abortableJobOpts,a=t.passThroughAbort,l=void 0===a||a;return new u((function(){var t=e(),o=new s.EventDispatcher,a=!0,u=i.buildDeferred();return n&&t.onProgressUpdate((function(e){o.dispatch(n(e,a)),a=!1}),{skipPast:!0}),t.onCompletion((function(e){try{u.resolve(r(e))}catch(e){u.reject(e)}})),t.onError(u.reject),{result:u.promise,progressUpdates:n?{onProgressUpdate:o,getProgressSoFar:function(){var e=t.getProgressSoFar();if(e){var r=n(e,a);return a=!1,r}return null}}:void 0,abort:function(){return l&&t.abort()}}}),o)};var u=function(){function e(e,t){void 0===t&&(t={}),this._job=e,this._opts=t,this._counter=0,this._jobControl=null,this._promise=null,this._jobCompleted=!1}return e.prototype.run=function(){var e,r=this;if(this._jobControl)e=this._jobControl;else{try{e=this._jobControl=this._job()}catch(t){e=this._jobControl={result:n.Promise.reject(t)}}this._promise=e.result,o.always(this._promise,(function(){r._jobCompleted=!0,r._opts.storeResult||(r._jobCompleted=!1,r._promise=null,r._jobControl=null)}))}var s=this._promise;this._counter++;var u=i.buildDeferred(),l=!1,c=!1,d=void 0,f=!1,p=[],h=[],g=[];return o.always(s,(function(){f||(l=!0,r._counter--),p.forEach((function(e){return e.remove()}))})),s.then((function(e){f||(d=e,h.forEach((function(t){return a.deferException((function(){return t(e)}))})),h.splice(0),u.resolve(e))}),(function(e){f||(c=!0,d=e,g.forEach((function(t){return t(e)})),g.splice(0),u.reject(e))})),{whenComplete:function(){return u.promise},onProgressUpdate:function(t,r){if(void 0===r&&(r={}),e.progressUpdates){if(!f&&!l){var n=e.progressUpdates.onProgressUpdate.subscribe((function(e){return t(e)}));p.push(n)}if(!r.skipPast){var i=e.progressUpdates.getProgressSoFar();i&&t(i)}}},getProgressSoFar:function(){return e.progressUpdates?e.progressUpdates.getProgressSoFar():null},onCompletion:function(e){l?!c&&a.deferException((function(){return e(d)})):h.push(e)},onError:function(e){f?a.deferException((function(){return e(t.abortedError)})):l?c&&a.deferException((function(){return e(d)})):g.push(e)},hasCompleted:function(){return l},hasErrored:function(){return c},isAborted:function(){return f},abort:function(){f||l||(f=!0,p.forEach((function(e){return e.remove()})),0==--r._counter&&!r._jobCompleted&&r._jobControl&&r._jobControl.abort&&(r._jobControl.abort(),r._promise=null,r._jobControl=null),g.forEach((function(e){return a.deferException((function(){return e(t.abortedError)}))})),u.reject(t.abortedError))}}},e}();t.AbortableJob=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="undefined"!=typeof navigator?navigator.userAgent:"",i=!/chrome|opera/i.test(n)&&/safari/i.test(n),o=n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0,a=n.indexOf("Edge/")>=0,s=/Chrom(?:e|ium)/.test(n),u=n.toLowerCase().indexOf("firefox")>=0,l=/version\/(\d+)\.(\d+)/i,c=/Chrom(?:e|ium)\/([0-9]+)\.([0-9]+)\.([0-9]+)/,d=/Firefox\/(\d+)\.(\d+)/;function f(e){var t=navigator.userAgent.match(e);if(t&&t.length>=3){var r=parseInt(t[1],10),n=parseInt(t[2],10);if(!isNaN(r)&&!isNaN(n))return{major:r,minor:n}}return null}t.isSafari=function(){return i},t.isFirefox=function(){return u},t.isChrome=function(){return s},t.isIE=function(){return o},t.isEdge=function(){return a},t.getSafariVersion=function(){return f(l)},t.getChromeVersion=function(){return f(c)},t.getFirefoxVersion=function(){return f(d)}},function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var a=r(23),s=r(11),u=r(5),l=r(10),c=r(4),d=r(30),f=r(17),p=function(e){function t(t){var r=e.call(this,t)||this;return r._onProvidedPlayerError=new c.EventDispatcher,r._errorHandler=null,r._changeHandler=null,r._player=null,r._instanceLock=null,r._playConfig=void 0,r._pauseConfig=void 0,r._seekConfig=void 0,r._lastPlayerPosition=0,r._initialProvidedPlayerPosition=0,r._synced=!1,r._unsyncInProgress=!1,r._seekingProvidedPlayer=!1,r._logger=l.prefixLogger(r._logger,"ProxyPlayerBase"),r.onProvidedPlayerError=r._onProvidedPlayerError.getHandle(),r}return i(t,e),t.prototype.getBufferedTimeRanges=function(){return this._player&&this._synced?this._player.getBufferedTimeRanges():null},t.prototype.getCurrentBufferedTimeRange=function(){return this._player&&this._synced?this._player.getCurrentBufferedTimeRange():null},t.prototype.getMaxBufferLength=function(){return this._player&&this._synced?this._player.getMaxBufferLength():null},t.prototype._providePlayer=function(e,t){if(void 0===t&&(t={}),t=o({syncPosition:!0,syncVolume:!0},t),this._ensureNotDead(),this._player)throw new Error("A player has already been provided.");this._logger.debug("providePlayer() called."),this._instanceLock=Object.create(null),this._player=e,this._sync(t)},t.prototype._removePlayer=function(){var e=this;if(this._ensureNotDead(),!this._player)throw new Error("There is no player to remove.");if(this._unsyncInProgress)throw new Error("Player is currently unsyncing.");this._logger.debug("removePlayer() called."),this._instanceLock=null,this._unsync(),this._player=null,this.isReady()&&!this.isDead()&&this._update((function(){var t=null!==e._getQueuedSeekPosition();e._notifyFading(!1),t||null===e._getQueuedSeekPosition()||e._signalSeekComplete(),e._notifyFadingForSeek(!1),e._notifyStalled(!0)}))},t.prototype._setInitialDuration=function(e){var t=this;if(this._ensureNotDead(),e<0)throw new Error("Cannot set duration to a value < 0.");null===this.getDuration()&&this._update((function(){t._ensureBelowPosition(e),t._provideDuration(e),t.isReady()||(t._signalReady(),t._handleSkippedSeek())}))},t.prototype._triggerError=function(t){e.prototype._triggerError.call(this,t)},t.prototype._getPlayer=function(){return this.isDead()?null:this._player},t.prototype._handleVolumeChange=function(e,t){this._synced&&this._player?this._player.setVolume(e,t):this._notifyVolumeChange(e,t)},t.prototype._handlePlayPauseChange=function(e,t){var r=this,n=t.fadeRate;e?this._playConfig={fadeDuration:void 0!==n?1/n:0}:this._pauseConfig={fadeDuration:void 0!==n?-1/n:0};var i=this._player;if(i){var o=this._instanceLock;this._update((function(){if(e)r._playAndHandleAbort(i);else{if(r._pauseAndHandleAbort(i),r._instanceLock!==o)return;i.isFading()&&r._notifyFading(!0)}}))}},t.prototype._handleSeekChange=function(e,t){var r=t.fadeRate;this._seekConfig={fadeOutDuration:void 0!==r.beforeSeek?-1/r.beforeSeek:0,fadeInDuration:void 0!==r.afterSeek?1/r.afterSeek:0};var n=this._player,i=this._instanceLock;if(n&&this._synced){if(this._seekingProvidedPlayer=!0,n.seek(e,this._seekConfig),i!==this._instanceLock)return;this._seekingProvidedPlayer=!1,n.isFadingForSeek()&&this._notifyFadingForSeek(!0)}},t.prototype._getPosition=function(){if(this._player&&this._synced){if(!this._changeHandler)throw new Error("Handler should exist.");if(this._changeHandler.retrieve(),this._synced)return this._player.getPosition()}return this._lastPlayerPosition},t.prototype._kill=function(){this._player&&(this._unsync(),this._player.kill()),this._player=null},t.prototype._handleSkippedSeek=function(){if(this._player&&this._synced){var e=this.getSeekState(),t=this._player.getSeekState();!e||"IN_PROGRESS"!==e.state||t&&"IN_PROGRESS"===t.state||(this._logger.debug("Signalling seek as complete on proxy because provided player isn't seeking."),this._signalSeekComplete())}},t.prototype._ensureBelowPosition=function(e){this.getPosition()>e&&(this._logger.debug("Capping position.",e),this._seek(e,!0),this.isReady()&&(this._lastPlayerPosition=e,this._signalSeekComplete()))},t.prototype._sync=function(e){var t=this,r=this._player;if(!r)throw new Error("Player should have become available by now.");if(this._logger.debug("Syncing...",this.isPlaying(),this.isActuallyPlaying()),r.isDead()){this._logger.debug("Provided player is dead.");var n=r.getFatalError();n&&this._handleFatalError(n,r)}else this._errorHandler=r.onError.subscribe((function(e){e instanceof u.PlayerFatalError?t._onProvidedPlayerError.dispatch(new f.ProxyProvidedPlayerFatalError(e,r)):(t._triggerError(e),t._onProvidedPlayerError.dispatch(new d.ProxyProvidedPlayerError(e,r)))})),this._changeHandler=r.onChange.subscribe((function(e){t._update((function(){if(t._logger.debug("Handling changes.",e),e.dead)return t._logger.debug("Player has gone to DEAD state."),t._unsync(),void(t.isDead()||e.fatalError&&t._handleFatalError(e.fatalError,r));void 0===e.volume&&void 0===e.muted||t._notifyVolumeChange(r.getVolume(),r.getMuted()),void 0!==e.duration&&(t._ensureBelowPosition(e.duration),t._provideDuration(e.duration),t.isReady()||(t._signalReady(),t._handleSkippedSeek(),t._notifyStalled(r.isStalled())));var n=t.getSeekState();e.seekBlockedError&&t._seekingProvidedPlayer&&(t._synced?t._signalSeekBlocked(e.seekBlockedError):n&&"IN_PROGRESS"===n.state?t._notifySeekRejection(e.seekBlockedError):(t._logger.debug("Provided player blocked seek when trying to sync."),t._seek(t._initialProvidedPlayerPosition,!0),t._signalSeekComplete())),e.seek&&(n&&"IN_PROGRESS"===n.state||"IN_PROGRESS"!==e.seek.state?n&&"IN_PROGRESS"===n.state&&("COMPLETED"===e.seek.state&&n.position===e.seek.position?(t._signalSeekComplete(),r.isFadingForSeek()&&t._notifyFadingForSeek(!0)):"COMPLETED"===e.seek.state&&n.position!==e.seek.position?t._notifySeekRejection(new Error("Another seek occurred to a different position.")):"IN_PROGRESS"===e.seek.state&&n.position!==e.seek.position?t._seek(e.seek.position,!0):"ERROR"===e.seek.state&&t._notifySeekRejection(e.seek.error)):t._seek(e.seek.position,!0)),void 0!==e.stalled&&t._notifyStalled(e.stalled),!1===e.playing&&e.playRejection?t.isActuallyPlaying()?(t._triggerError(new s.PlayerError("Paused because a player was provided that refused to play.")),t._notifyPlaying(!1)):t._notifyPlayRejection(e.playRejection):!1===e.playing&&(r.isActuallyPlaying()?t.pause():void 0===e.actuallyPlaying&&t.isReady()&&t._notifyPlaying(!1)),!0===e.playing&&e.pauseRejection?t._notifyPauseRejection(e.pauseRejection):!0===e.playing&&t.play(),void 0!==e.actuallyPlaying&&e.actuallyPlaying!==t.isActuallyPlaying()&&(t._notifyPlaying(e.actuallyPlaying),e.actuallyPlaying&&r.isFading()&&t._notifyFading(!0)),!1===e.fading&&t._notifyFading(!1),!1===e.fadingForSeek&&t._notifyFadingForSeek(!1)}))})),this._update((function(){var n=t._instanceLock;try{if(t._notifyStalled(r.isStalled()),r.isReady()){var i=r.getDuration();t._ensureBelowPosition(i),t._provideDuration(i),t.isReady()||(t._logger.debug("Provided player is already ready. Making proxy player ready."),t._signalReady())}if(e.syncVolume&&(r.setVolume(t.getVolume(),t.getMuted()),t._instanceLock!==n))return;var o=t.getSeekState();if(e.syncPosition){t._logger.debug("Seeking to match position.");var a=t.getPosition(),s=t._initialProvidedPlayerPosition=r.getPosition();if(t._instanceLock!==n)return;if(s!==a){if(t._seekingProvidedPlayer=!0,r.seek(a),t._instanceLock!==n)return;t._seekingProvidedPlayer=!1}else t._logger.debug("Skipping seek because already at same position."),t.isReady()&&o&&"IN_PROGRESS"===o.state&&t._signalSeekComplete()}else if(o&&"IN_PROGRESS"===o.state){if(t._logger.debug("Seeking to match position because a seek has been queued."),r.seek(t.getPosition(),t._seekConfig),t._instanceLock!==n)return}else{var l=r.getSeekState();l&&"IN_PROGRESS"===l.state&&(t._logger.debug("Seeking on proxy to match seek that is in progress on provided player."),t._seek(l.position,!0))}if(r.isActuallyPlaying()?(t._logger.debug("Provided player is already playing."),t.isActuallyPlaying()||(t._notifyPlaying(!0),r.isFading()&&t._notifyFading(!0))):r.isPlaying()?(t._logger.debug("Provided player is preparing to play."),t.play()):t.isPlaying()?(t._logger.debug("Calling play() on provided player to match proxy."),t._playAndHandleAbort(r)):t.isReady()&&t.isActuallyPlaying()&&(t._logger.debug("Switching to paused state, as provided player and proxy intended state is paused."),t._notifyPlaying(!1)),t._instanceLock!==n)return;t._synced=!0,t._notifyVolumeChange(r.getVolume(),r.getMuted())}catch(e){t._triggerError(new u.PlayerFatalError("Unexpected error occurred whilst syncing.",e))}}))},t.prototype._playAndHandleAbort=function(e){var t=this._instanceLock;this._logger.debug("Calling play() on provided player."),e.play(this._playConfig),this._instanceLock===t&&!e.isPlaying()&&this.isPlaying()&&(this._logger.debug("Provided player was not playing after play() call completed."),this.isActuallyPlaying()?(this._triggerError(new s.PlayerError("Paused because a player was provided that refused to play.")),this._notifyPlaying(!1)):this.pause())},t.prototype._pauseAndHandleAbort=function(e){var t=this._instanceLock;this._logger.debug("Calling pause() on provided player."),e.pause(this._pauseConfig),this._instanceLock===t&&e.isPlaying()&&!this.isPlaying()&&(this._logger.debug("Provided player was not paused after pause() call completed."),this.play())},t.prototype._unsync=function(){if(this._logger.debug("Unsyncing..."),this._changeHandler&&(this._changeHandler.remove(),this._changeHandler=null),this._errorHandler&&(this._errorHandler.remove(),this._errorHandler=null),this._synced){this._synced=!1,this._unsyncInProgress=!0;var e=this._player;if(e)try{this._lastPlayerPosition=e.getPosition()}catch(e){this._logger.error("Error whilst unsyncing.",e)}this._unsyncInProgress=!1,this._seekingProvidedPlayer=!1,this._logger.debug("Unsynced.",this.isPlaying(),this.isActuallyPlaying())}else this._logger.debug("Unsynced. (Sync never completed)")},t}(a.BasePlayer);t.ProxyPlayerBase=p},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(5),i=r(24),o=r(4),a=r(9),s=r(16),u=r(14),l=r(7),c=r(25),d=r(10),f=r(26),p=r(28),h=r(1),g=r(46),y=r(29),m=150,_=25,v=35,b=1e3,w=function(){function e(e){var t=this;this._stateManager=new f.StateManager({ended:!1,loading:!1,playing:!1,actuallyPlaying:!1,volume:1,muted:!1,isFading:!1,fadeRate:null,isFadingForSeek:!1,playDeferred:null,pauseDeferred:null,ready:!1,seeking:!1,seek:null,seekBlockedError:null,positionJumped:null,stalled:!0,duration:null,dead:!1,state:c.State.PAUSED,fatalError:null,errorOccurred:null,position:0},{afterUpdate:function(e,r){return t._afterUpdate(e,r)},afterDispatches:function(){return t._afterDispatches()},beforeUpdate:function(e){if(!e.dead&&(e.ready||!t._fatalErrorTriggered)){var r=t._getPosition(),n=e.duration;if(r<0)throw t._logger.error("Player provided invalid position.",r,n),t._triggerError(new p.ImplementationError("Player provided a position that was invalid.")),new Error("Player provided invalid position.");e.position=r,t._updateEndedInState(e)}}}),this._onError=new o.EventDispatcher,this._errors=[],this._fatalErrorTriggered=!1,this._loadingDelayTimer=null,this._stalled=!1,this._queuedDuration=null,this._readyDeferred=a.buildDeferred(),this._queuedSeekDeferreds=[],this._lastPlayError=null,this._lastPauseError=null,this._lastPlayedPosition=null,this._listenTimeBase=0,this._timePlaybackStarted=null,this._positionAfterLastUpdate=0,this._positionWhenStartedFadeOut=null,this._fadeStartAllowed=!1,this._seekFadeStartAllowed=!1,this._implementationIsFading=!1,this._mediaSessionManagerHandle=null,this._activeSeek=null,this._activeSeekPositionJumped=null;var r=e.name;if(this._logger=d.prefixLogger(e.logger,"BasePlayer"+(r?"-"+r:"")),this._mediaSessionEnabled=!!e.mediaSessionEnabled,e.defaultFadeDuration&&e.defaultFadeDuration<0)throw new Error("defaultFadeDuration must be >= 0.");if(e.loadingDelay&&e.loadingDelay<0)throw new Error("loadingDelay must be >= 0.");this._defaultFadeDuration=void 0!==e.defaultFadeDuration?e.defaultFadeDuration:m,this._defaultSeekFadeOutDuration=void 0!==e.defaultSeekFadeOutDuration?e.defaultSeekFadeOutDuration:_,this._defaultSeekFadeInDuration=void 0!==e.defaultSeekFadeInDuration?e.defaultSeekFadeInDuration:v,this._loadingDelay=void 0!==e.loadingDelay?e.loadingDelay:b,this._seekStrategy=void 0!==e.seekStrategy?e.seekStrategy:y.AlwaysAllowSeekStrategy,this.onError=this._onError.getHandle(),this.whenReady=this._readyDeferred.promise,this._configureRewindAfterFadeOut(),this._stateManager.subscribe((function(e,r){return t._onChange(e,r)})),this._stateManager.subscribe((function(e){var r=e.actuallyPlaying,n=e.seek;!0===r&&(t._fadeStartAllowed=!1),n&&"IN_PROGRESS"!==n.state&&(t._seekFadeStartAllowed=!1)})),this._stateManager.subscribe((function(e,r){var n=e.isFading;!r.dead&&!1===n&&t._implementationIsFading&&t._triggerError(new p.ImplementationError("Fade was still running when not allowed."))})),this._stateManager.subscribe((function(e,r){var n=e.playing,i=r.dead,o=r.fadeRate;i||void 0===n||t._stateManager.update((function(){try{t._handlePlayPauseChange(n,{fadeRate:o||void 0}),n||(t._fadeStartAllowed=!1)}catch(e){t._triggerError(new p.ImplementationError("Exception occurred whilst handling play/pause change.",e))}}))})),this._stateManager.subscribe((function(e,r){var n=e.seek;!r.dead&&n&&n!==t._activeSeek&&"IN_PROGRESS"===n.state&&t._stateManager.update((function(){try{t._seekFadeStartAllowed=!0,t._handleSeekChange(n.position,{fadeRate:{beforeSeek:n.fadeRate.beforeSeek||void 0,afterSeek:n.fadeRate.afterSeek||void 0}}),t._seekFadeStartAllowed=!1}catch(e){t._triggerError(new p.ImplementationError("Exception occurred whilst handling seek change.",e))}}))})),this._stateManager.subscribe((function(e,r){var n=e.seek,i=e.seekBlockedError,o=e.positionJumped;n&&(t._activeSeek=n),o&&(t._activeSeekPositionJumped=o),t._queuedSeekDeferreds=t._queuedSeekDeferreds.filter((function(e){var n=e.position,o=e.active,a=e.deferred;if(i&&!o)return t._logger.debug("Rejecting seek() because it was blocked.",i),a.reject(i),!1;if(r.seek&&"ERROR"===r.seek.state)return t._logger.debug("Rejecting seek().",r.seek.error),a.reject(r.seek.error),!1;if(r.seek&&"COMPLETED"===r.seek.state)return!!r.stalled||(t._logger.debug("Resolving seek()."),a.resolve(),!1);if(r.seek&&"IN_PROGRESS"===r.seek.state)return n===r.seek.position||(t._logger.debug("Rejecting seek() because another seek was requested.",n),a.reject(new Error("Seek request aborted because another seek was requested to a different position.")),!1);throw t._triggerError(new p.ImplementationError("Unexpected error handling seek deferreds.")),new Error("Unexpected error handling seek deferreds.")})),t._queuedSeekDeferreds.forEach((function(e){return e.active=!0}))})),this.onChange=this._buildEventHandle((function(e,r){var n=r.ready;if(void 0!==n&&!0!==n)throw new Error("Ready state is invalid.");var i=r.duration;if(void 0!==i&&null===i)throw new Error("Duration state is invalid.");var o=r.dead;if(void 0!==o&&!0!==o)throw new Error("Dead state is invalid.");var a={ready:n,ended:r.ended,duration:i,volume:r.volume,muted:r.muted,playing:r.playing,actuallyPlaying:r.actuallyPlaying,stalled:r.stalled,loading:r.loading,fading:r.isFading,fadingForSeek:r.isFadingForSeek,playRejection:!1===r.playing&&t._lastPlayError||void 0,pauseRejection:!0===r.playing&&t._lastPauseError||void 0,seeking:r.seeking,seek:r.seek||void 0,seekBlockedError:r.seekBlockedError||void 0,positionJumped:void 0!==r.positionJumped||void 0,state:r.state,fatalError:r.fatalError||void 0,dead:o};Object.keys(a).some((function(e){return void 0!==a[e]}))&&e(a)}));var n=e.registerListeners;n&&h.deferException((function(){n({onChange:t.onChange,onError:t.onError})})),this.onDurationChange=this._buildEventHandle((function(e,t){var r=t.duration;null!=r&&e(r)})),this.onReady=this._buildEventHandle((function(e,t){!0===t.ready&&e(void 0)})),this.onStateChange=this._buildEventHandle((function(e,t){var r=t.state;void 0!==r&&e(r)})),this.onVolumeChange=this._buildEventHandle((function(e,t,r){var n=t.volume,i=t.muted,o=r.volume,a=r.muted;void 0===n&&void 0===i||e({volume:o,muted:a})})),this.onPlay=this._buildEventHandle((function(e,t){!0===t.actuallyPlaying&&e(void 0)})),this.onPlayIntent=this._buildEventHandle((function(e,t){!0===t.playing&&e(void 0)})),this.onPlayRejection=this._buildEventHandle((function(e,r){!1===r.playing&&t._lastPlayError&&e(t._lastPlayError)})),this.onPause=this._buildEventHandle((function(e,t){!1===t.actuallyPlaying&&e(void 0)})),this.onPauseIntent=this._buildEventHandle((function(e,t){!1===t.playing&&e(void 0)})),this.onPauseRejection=this._buildEventHandle((function(e,r){!0===r.playing&&t._lastPauseError&&e(t._lastPauseError)})),this.onSeek=this._buildEventHandle((function(e,t){var r=t.seek;r&&"COMPLETED"===r.state&&e(void 0)})),this.onSeekIntent=this._buildEventHandle((function(e,t){!0===t.seeking&&e(void 0)})),this.onSeekRejection=this._buildEventHandle((function(e,t){var r=t.seek;r&&"ERROR"===r.state&&e(r.error)})),this.onPositionJumped=this._buildEventHandle((function(e,t){void 0!==t.positionJumped&&e(void 0)})),this.onEnded=this._buildEventHandle((function(e,t){!0===t.ended&&e(void 0)})),this.onLeftEnded=this._buildEventHandle((function(e,t){!1===t.ended&&e(void 0)})),this.onStallStart=this._buildEventHandle((function(e,t){!0===t.stalled&&e(void 0)})),this.onStallEnd=this._buildEventHandle((function(e,t){!1===t.stalled&&e(void 0)})),this.onLoadStart=this._buildEventHandle((function(e,t){!0===t.loading&&e(void 0)})),this.onLoadEnd=this._buildEventHandle((function(e,t){!1===t.loading&&e(void 0)})),this.onFadeStart=this._buildEventHandle((function(e,t){!0===t.isFading&&e(void 0)})),this.onFadeEnd=this._buildEventHandle((function(e,t){!1===t.isFading&&e(void 0)})),this.onFadeForSeekStart=this._buildEventHandle((function(e,t){!0===t.isFadingForSeek&&e(void 0)})),this.onFadeForSeekEnd=this._buildEventHandle((function(e,t){!1===t.isFadingForSeek&&e(void 0)}))}return e.prototype.isReady=function(){return this._stateManager.getState().ready},e.prototype.getPosition=function(){return this._getPositionOrPositionSeekingTo()},e.prototype.getLastPlayedPosition=function(){var e=this._stateManager.getState(),t=e.actuallyPlaying,r=e.stalled;return t&&!r?this.getPosition():this._lastPlayedPosition},e.prototype.getListenTime=function(){var e=this._stateManager.getState(),t=e.actuallyPlaying,r=e.ended,n=this._listenTimeBase;return t&&!r&&(n+=u.now()-this._timePlaybackStarted),n},e.prototype.isStalled=function(){return this._stateManager.getState().stalled},e.prototype.isLoading=function(){return this._stateManager.getState().loading},e.prototype.isFading=function(){return this._stateManager.getState().isFading},e.prototype.isFadingForSeek=function(){return this._stateManager.getState().isFadingForSeek},e.prototype.isPlaying=function(){return this._stateManager.getState().playing},e.prototype.isActuallyPlaying=function(){return this._stateManager.getState().actuallyPlaying},e.prototype.isEnded=function(){return this._stateManager.getState().ended},e.prototype.getState=function(){return this._stateManager.getState().state},e.prototype.getBufferController=function(){return null},e.prototype.getMemoryCacheMaxSize=function(){return null},e.prototype.getMemoryCacheUsage=function(){return null},e.prototype.getMemoryCacheController=function(){return null},e.prototype.getFatalError=function(){return this._stateManager.getState().fatalError},e.prototype.isDead=function(){return this._stateManager.getState().dead},e.prototype.getVolume=function(){return this._stateManager.getState().volume},e.prototype.getMuted=function(){return this._stateManager.getState().muted},e.prototype.getDuration=function(){var e=this._stateManager.getState(),t=e.ready,r=e.duration;return t?r:null},e.prototype.setVolume=function(e,t){if(e<0||e>1)throw new Error("Volume must be >= 0 and <= 1.");if(!this._stateManager.getState().dead){var r=this._stateManager.getState().muted;void 0===t&&(t=r);try{this._handleVolumeChange(e,t)}catch(e){throw this._triggerError(new p.ImplementationError("Exception occurred updating volume.",e)),e}}},e.prototype.setMuted=function(e){this.setVolume(this._stateManager.getState().volume,e)},e.prototype.getCurrentBufferedTimeRange=function(){var e=this.getBufferedTimeRanges();if(!e)return null;var t=this.getPosition();return s.find(e,(function(e){return e.containsTime(t)}))||null},e.prototype.play=function(e){var t=this;this._ensureNotDead(),this._logger.debug("play() called.",e);var r=a.buildDeferred();try{return this._stateManager.update((function(n){if(n.playing)t._logger.debug("Intent is already to be playing.");else{t._logger.debug("Requesting play."),n.playing=!0;var i=t._extractFadeDuration(e);n.fadeRate=i?1/i:null,t._lastPlayError=null}n.playDeferred&&!n.playDeferred.isSettled()||(n.playDeferred=a.buildDeferred()),r.resolve(n.playDeferred.promise)})),r.promise}catch(e){return this._triggerError(new n.PlayerFatalError("Unexpected error when attempting to play.",e)),l.Promise.reject(e)}},e.prototype.pause=function(e){var t=this;this._ensureNotDead(),this._logger.debug("pause() called.",e);var r=a.buildDeferred();try{return this._stateManager.update((function(n){if(n.playing){t._logger.debug("Requesting pause."),t._positionWhenStartedFadeOut=t._getPositionOrPositionSeekingTo(),n.playing=!1;var i=t._extractFadeDuration(e);n.fadeRate=i?1/i*-1:null,t._fadeStartAllowed=!0,t._lastPauseError=null}else t._logger.debug("Intent is already to be paused.");n.pauseDeferred&&!n.pauseDeferred.isSettled()||(n.pauseDeferred=a.buildDeferred()),r.resolve(n.pauseDeferred.promise)})),r.promise}catch(e){return this._triggerError(new n.PlayerFatalError("Unexpected error when attempting to pause.",e)),l.Promise.reject(e)}},e.prototype.seek=function(e,t){return this._seek(e,!1,t)},e.prototype.getSeekState=function(){return this._stateManager.getState().seek},e.prototype.registerMediaSessionActionHandlers=function(e){var t=this;void 0===e&&(e={play:!0,pause:!0,seekForward:!0,seekBackward:!0}),this.unregisterMediaSessionActionHandlers();var r={},n=function(e){t.isDead()||e()};e.play&&(r.play=function(){return n((function(){return t.play()}))}),e.pause&&(r.pause=function(){return n((function(){return t.pause()}))}),e.seekBackward&&(r.seekBackward=function(){return n((function(){t.seek(Math.max(0,t.getPosition()-5e3))}))}),e.seekForward&&(r.seekForward=function(){return n((function(){t.seek(Math.min(t.getDuration()||0,t.getPosition()+5e3))}))}),this._mediaSessionManagerHandle=g.mediaSessionManager.register(new g.MediaSessionItem(this,r))},e.prototype.unregisterMediaSessionActionHandlers=function(){this._mediaSessionManagerHandle&&(this._mediaSessionManagerHandle.remove(),this._mediaSessionManagerHandle=null)},e.prototype.kill=function(){var e=this;this._stateManager.update((function(t){t.dead||(e._logger.debug("kill() called."),t.dead=!0)}))},e.prototype._seek=function(e,t,r){var n=this;this._ensureNotDead(),this._logger.debug("seek() called.",e);var i=a.buildDeferred();return this._stateManager.update((function(o){if(e<0)n._logger.warn("Rejecting seek immediately as the position was negative."),o.seekBlockedError=new Error("You were attempting to seek to a negative time.");else if(null!==o.duration&&e>o.duration)n._logger.warn("Rejecting seek immediately as the duration is now known, and the requested positon was past it."),o.seekBlockedError=new Error("You were attempting to seek past the end of the media.");else if(function(){if(t)return!0;try{return n._seekStrategy.isSeekAllowed(e)}catch(e){return n._triggerError(new p.ImplementationError("Seek strategy threw an error.",e)),!1}}())if(o.stalled||!o.actuallyPlaying||o.seek&&"IN_PROGRESS"===o.seek.state||(n._lastPlayedPosition=n._getPositionOrPositionSeekingTo()),o.seek&&"IN_PROGRESS"===o.seek.state&&o.seek.position===e)n._logger.debug("Seek already requested to the same position.",e);else{n._logger.debug("Requesting seek.",e),o.seeking=!0;var s=n._extractSeekFadeDurations(r,e),u=s.fadeOutDuration?1/s.fadeOutDuration*-1:null,l=s.fadeInDuration?1/s.fadeInDuration:null;o.seekBlockedError=null,o.seek={state:"IN_PROGRESS",position:e,fadeRate:{beforeSeek:u,afterSeek:l}},o.positionJumped=Object.create(null)}else n._logger.warn("Rejecting seek immediately as the seek strategy has denied it or threw an error."),o.seekBlockedError=new Error("The provided seeking strategy has blocked the attempt to seek.");var c=a.buildDeferred();n._queuedSeekDeferreds.push({position:e,deferred:c,active:!1}),i.resolve(c.promise)})),i.promise},e.prototype._update=function(e){this._stateManager.update((function(){return e&&e()}))},e.prototype._ensureNotDead=function(){if(this._stateManager.getState().dead)throw new Error("Player is dead.")},e.prototype._notifyStalled=function(e){this._ensureNotDead(),this._stalled!==e&&(this._logger.debug("notifyStalled() called.",e),this._stalled=e,this._stateManager.update())},e.prototype._getQueuedSeekPosition=function(){var e=this.getSeekState();return e&&"IN_PROGRESS"===e.state?e.position:null},e.prototype._provideDuration=function(e){var t=this;this._ensureNotDead(),this._stateManager.update((function(r){if(r.duration!==e){var n=t._getPositionOrPositionSeekingTo();if(e<0||r.ready&&n>e)throw t._triggerError(new p.ImplementationError("Attempt to update duration to an invalid value.")),new Error("Duration cannot be less than the current position.");t._logger.debug("provideDuration() called.",e),r.ready?r.duration=e:t._queuedDuration=e}}))},e.prototype._notifyVolumeChange=function(e,t){if(e<0||e>1)throw this._triggerError(new p.ImplementationError("Volume was out of range.",e)),new Error("Volume was out of range.");this._stateManager.update((function(r){r.volume=e,r.muted=t}))},e.prototype._notifyPlaying=function(e){var t=this;this._ensureNotDead(),this._stateManager.update((function(r){if(!r.ready)throw t._triggerError(new p.ImplementationError("Attempt to register playback as started before ready.")),new Error("Player must be ready first.");e!==r.actuallyPlaying&&(t._logger.debug("notifyPlaying() called.",e),e||r.seeking||r.stalled||(t._lastPlayedPosition=t._getPositionOrPositionSeekingTo()),r.actuallyPlaying=r.playing=e,e?(t._lastPlayError=null,t._fadeStartAllowed=!0):(r.isFading=!1,t._fadeStartAllowed=!1,t._lastPauseError=null))}))},e.prototype._notifyPlayRejection=function(e){var t=this;this._ensureNotDead(),e=e||new Error("Unknown error."),this._stateManager.update((function(r){if(!r.ready)throw t._triggerError(new p.ImplementationError("Attempt to reject a play request before player ready.")),new Error("Player must be ready first.");if(r.actuallyPlaying||!r.playing)throw t._triggerError(new p.ImplementationError("Attempt to reject a play request when not valid.")),new Error("Playing state is incorrect.");t._logger.debug("notifyPlayRejection() called.",e),r.playing=!1,t._lastPlayError=e}))},e.prototype._notifyPauseRejection=function(e){var t=this;this._ensureNotDead(),e=e||new Error("Unknown error."),this._stateManager.update((function(r){if(!r.ready)throw t._triggerError(new p.ImplementationError("Attempt to reject pause request before player ready.")),new Error("Player must be ready first.");if(!r.actuallyPlaying||r.playing)throw t._triggerError(new p.ImplementationError("Attempt to reject pause request when not valid.")),new Error("Playing state is incorrect.");t._logger.debug("notifyPauseRejection() called.",e),r.playing=!0,r.fadeRate&&(r.fadeRate*=-1),t._lastPauseError=e}))},e.prototype._signalSeekBlocked=function(e){var t=this;void 0===e&&(e=new Error("Seek blocked.")),this._ensureNotDead(),this._stateManager.update((function(r){if(t._activeSeek===r.seek||!r.seek||"IN_PROGRESS"!==r.seek.state)throw t._triggerError(new p.ImplementationError("_signalSeekBlocked called when no seek to block.")),new Error("_signalSeekBlocked called when no seek to block.");if(r.isFadingForSeek)throw t._triggerError(new p.ImplementationError("_signalSeekBlocked called after fade out started.")),new Error("_signalSeekBlocked called after fade out started.");r.seek=t._activeSeek,r.positionJumped=t._activeSeekPositionJumped,r.seeking=!!t._activeSeek&&"IN_PROGRESS"===t._activeSeek.state,r.seekBlockedError=e}))},e.prototype._notifySeekRejection=function(e){var t=this;this._ensureNotDead(),e=e||new Error("Unknown error."),this._stateManager.update((function(r){if(!r.seek||"IN_PROGRESS"!==r.seek.state)throw t._triggerError(new p.ImplementationError("Attempt to reject seek request when none requested.")),new Error("A seek hasn't been requested.");if(null!==r.duration&&r.position>r.duration)throw t._triggerError(new p.ImplementationError("Attempt to reject seek request after duration changed below current position.")),new Error("Attempt to reject seek request after duration changed below current position.");t._logger.debug("notifySeekRejection() called.",e),r.seeking=!1,r.seek={state:"ERROR",error:e},r.positionJumped=Object.create(null)}))},e.prototype._notifyFading=function(e){var t=this;if(this._ensureNotDead(),e&&!this._fadeStartAllowed){var r="Attempt to register fade as starting when not allowed.";throw this._triggerError(new p.ImplementationError(r)),new Error(r)}this._implementationIsFading=e,this._stateManager.update((function(r){r.isFading!==e&&(t._logger.debug("notifyFading() called",e),r.isFading=e)}))},e.prototype._notifyFadingForSeek=function(e){var t=this;if(this._ensureNotDead(),e&&!this._seekFadeStartAllowed){var r="Attempt to register fade as starting for seek when not allowed.";throw this._triggerError(new p.ImplementationError(r)),new Error(r)}this._stateManager.update((function(r){r.isFadingForSeek!==e&&(t._logger.debug("notifyFadingForSeek() called",e),r.isFadingForSeek=e)}))},e.prototype._signalReady=function(){var e=this;this._ensureNotDead(),this._stateManager.update((function(t){if(t.ready)throw e._triggerError(new p.ImplementationError("Attempt to signal ready twice.")),new Error("Ready already signalled.");if(null===e._queuedDuration)throw e._triggerError(new p.ImplementationError("Attempt to signal ready when duration unknown.")),new Error("Duration is still unknown.");e._logger.debug("signalReady() called."),t.ready=!0,t.duration=e._queuedDuration,t.seek&&"IN_PROGRESS"===t.seek.state&&t.seek.position>t.duration&&(t.seeking=!1,t.seek={state:"ERROR",error:new Error("You were attempting to seek past the end of the media.")})}))},e.prototype._signalSeekComplete=function(){var e=this;this._ensureNotDead(),this._stateManager.update((function(t){if(!t.ready)throw e._triggerError(new p.ImplementationError("Attempt to signal seek as complete before player ready.")),new Error("Player must be ready first.");if(!t.seek||"IN_PROGRESS"!==t.seek.state)throw e._triggerError(new p.ImplementationError("Attempt to signal seek as complete when none requested.")),new Error("There shouldn't be a seek in progress.");var r=t.duration;if(t.seek&&"IN_PROGRESS"===t.seek.state&&t.seek.position>r)throw new Error("Seek cannot have completed given it was to a time greater than the duration.");e._logger.debug("signalSeekComplete() called."),e._seekFadeStartAllowed=!0,e._positionWhenStartedFadeOut=null,t.seek={state:"COMPLETED",position:t.seek.position,fadeRate:t.seek.fadeRate},t.seeking=!1,t.position=t.seek.position}))},e.prototype._triggerError=function(e){var t=this;e instanceof n.PlayerFatalError&&(this._fatalErrorTriggered=!0),this._stateManager.update((function(r){var o=!1;if(r.ready&&e instanceof i.NotSupportedError&&(e=new p.ImplementationError("Invalid NotSupportedError."),o=!0),e instanceof n.PlayerFatalError?(e instanceof i.NotSupportedError?t._logger.info("NotSupportedError occurred.",e):t._logger.error("Fatal error occurred.",e),r.fatalError?t._logger.warn("A fatal error already occurred.",r.fatalError):r.fatalError=e,t._errors.push(e),r.errorOccurred=Object.create(null),r.dead=!0):(t._logger.warn("Non-fatal error occurred.",e),t._errors.push(e),r.errorOccurred=Object.create(null)),o)throw new Error("Not supported errors are only valid before the player is ready.")}))},e.prototype._buildEventHandle=function(e){var t=this;return{subscribe:function(r){var n=function(e){return r(e,u.now())};return t._stateManager.subscribe((function(t,r){e(n,t,r)}))}}},e.prototype._finalizeState=function(e){this._updateEndedInState(e);var t=this._getPositionOrPositionSeekingTo();if(e.dead)this._lastPlayError=new Error("Player was killed."),e.loading=!1,this._clearLoadingDelay(),!e.playing&&e.isFading&&null!==this._positionWhenStartedFadeOut&&(this._logger.debug("Fade out was in progress. Pretending it completed."),e.isFading=!1,e.position=this._positionWhenStartedFadeOut),e.stalled=!0,e.actuallyPlaying=!1,e.isFadingForSeek=!1,e.playing=!1,e.state=c.State.DEAD;else{var r=!e.ended&&(!e.ready||this._stalled||!(!e.seek||"IN_PROGRESS"!==e.seek.state));r&&!e.stalled&&!e.seeking&&e.actuallyPlaying&&(this._lastPlayedPosition=t),e.stalled=r,e.ended||e.isFading||e.isFadingForSeek||!e.playing&&!e.actuallyPlaying||!e.stalled&&e.playing===e.actuallyPlaying?(e.loading=!1,this._clearLoadingDelay()):this._loadingDelay?this._scheduleLoadingDelay():e.loading=!0,this._positionAfterLastUpdate!==t&&(this._positionAfterLastUpdate=t,e.playing||e.actuallyPlaying||(e.positionJumped=Object.create(null))),e.state=this._calculateState(e)}},e.prototype._updateEndedInState=function(e){e.ended=e.ready&&this._getPositionOrPositionSeekingTo()===e.duration},e.prototype._scheduleLoadingDelay=function(){var e=this;this._loadingDelayTimer||(this._loadingDelayTimer=window.setTimeout((function(){e._stateManager.update((function(e){return e.loading=!0}))}),this._loadingDelay))},e.prototype._clearLoadingDelay=function(){this._loadingDelayTimer&&(window.clearTimeout(this._loadingDelayTimer),this._loadingDelayTimer=null)},e.prototype._getPositionOrPositionSeekingTo=function(){this._stateManager.update();var e=this._stateManager.getState();return e.seek&&"IN_PROGRESS"===e.seek.state?e.seek.position:e.isFading&&!e.playing&&null!==this._positionWhenStartedFadeOut?this._positionWhenStartedFadeOut:e.ready&&null!==e.duration?e.position:0},e.prototype._calculateState=function(e){var t=e.dead,r=e.loading,n=e.playing,i=e.ended;return t?c.State.DEAD:r?c.State.LOADING:n&&!i?c.State.PLAYING:c.State.PAUSED},e.prototype._extractFadeDuration=function(e){return void 0===e&&(e={}),void 0===e.fadeDuration?!this._stateManager.getState().playing||this._getPositionOrPositionSeekingTo()>0?this._defaultFadeDuration:0:e.fadeDuration>0?e.fadeDuration:0},e.prototype._extractSeekFadeDurations=function(e,t){return void 0===e&&(e={}),{fadeOutDuration:void 0!==e.fadeOutDuration?e.fadeOutDuration>0?e.fadeOutDuration:0:this._defaultSeekFadeOutDuration,fadeInDuration:void 0!==e.fadeInDuration?e.fadeInDuration>0?e.fadeInDuration:0:t>0?this._defaultSeekFadeInDuration:0}},e.prototype._configureRewindAfterFadeOut=function(){var e=this;this._stateManager.subscribe((function(t,r){var n=t.isFading,i=r.seeking,o=r.playing;r.dead||!1!==n||o||null===e._positionWhenStartedFadeOut||i||e.seek(e._positionWhenStartedFadeOut,{fadeInDuration:0,fadeOutDuration:0}).catch((function(t){e._logger.warn("Seek back to position where fade out started failed.",t)}))}))},e.prototype._afterUpdate=function(e,t){if(t.beforeUpdate||t.update.length>0)this._logger.error("Errors occurred during state update. Killing player.",t),this._triggerError(new n.PlayerFatalError("Errors occurred during state update.",t));else if(!e.dead&&e.ready){var r=e.duration;null!==r&&!e.seeking&&e.position>r&&(this._logger.error("Player provided invalid position.",e.position,r),this._triggerError(new p.ImplementationError("Player provided a position that was invalid.")))}this._finalizeState(e)},e.prototype._afterDispatches=function(){var e=this,t=this._errors;this._errors=[],t.forEach((function(t){return e._onError.dispatch(t)}))},e.prototype._onChange=function(e,t){var r=this,n=e.ready,i=e.dead,o=e.fatalError,a=e.playing,s=e.actuallyPlaying,l=e.ended;if(!0===n&&(this._logger.debug("Resolving ready deferred."),this._readyDeferred.resolve(void 0)),!0===a&&this._mediaSessionEnabled&&!this._mediaSessionManagerHandle&&this.registerMediaSessionActionHandlers({play:!0,pause:!0,seekForward:!0,seekBackward:!0}),t.pauseDeferred&&!t.pauseDeferred.isSettled()&&t.playing){var c=this._lastPauseError||new Error("Pause request aborted.");this._logger.debug("Rejecting pause deferred.",c),t.pauseDeferred.reject(c)}if(!t.playDeferred||t.playDeferred.isSettled()||t.playing||(c=this._lastPlayError||new Error("Play request aborted."),this._logger.debug("Rejecting play deferred.",c),t.playDeferred.reject(c)),t.playDeferred&&!t.playDeferred.isSettled()&&t.actuallyPlaying&&(this._logger.debug("Resolving play deferred."),t.playDeferred.resolve(void 0)),!t.pauseDeferred||t.pauseDeferred.isSettled()||t.actuallyPlaying||(this._logger.debug("Resolving pause deferred."),t.pauseDeferred.resolve(void 0)),!0===s&&!t.ended||!1===l&&t.actuallyPlaying?this._timePlaybackStarted=u.now():(!1===s&&!t.ended||!0===l&&t.actuallyPlaying)&&(this._listenTimeBase+=u.now()-this._timePlaybackStarted,this._timePlaybackStarted=null),!0===i){this._logger.debug("Calling _kill() on player.");try{this._kill(),this._logger.info("Player killed.")}catch(e){this._triggerError(new p.ImplementationError("Exception occurred in _kill().",e)),this._logger.error("Exception when implementation was being killed.",e)}this.unregisterMediaSessionActionHandlers(),t.ready||(c=o||new Error("Player was killed."),this._logger.debug("Rejecting whenReady."),this._readyDeferred.reject(c)),this._queuedSeekDeferreds.forEach((function(e){var t=e.position,n=e.deferred,i=o||new Error("Seek aborted as player killed.");r._logger.debug("Rejecting seek().",t),n.reject(i)})),this._queuedSeekDeferreds=[],this._stateManager.kill(),this._logger.debug("Player dead.")}},e}();t.BasePlayer=w},function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t){return e.call(this,t||"The player cannot play the provided descriptor.")||this}return i(t,e),t.prototype.getCode=function(){return"NOT_SUPPORTED_ERROR"},t}(r(5).PlayerFatalError);t.NotSupportedError=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.LOADING=0]="LOADING",e[e.PLAYING=1]="PLAYING",e[e.PAUSED=2]="PAUSED",e[e.DEAD=3]="DEAD"}(t.State||(t.State={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(27),i=r(1);function o(e){var t=Object.create(null);return Object.keys(e).forEach((function(r){t[r]=e[r]})),t}var a=function(){},s=function(){function e(e,t){void 0===t&&(t={});var r=this;this._subscribers=[],this._onExit=new n.OnExit((function(){return r._after()}),(function(){return r._onEnter()})),this._beforeUpdateError=void 0,this._inAfterUpdate=!1,this._dead=!1,this._officiallyDead=!1,this._errors=[],this._state=o(e),this._initialState=o(e),this._beforeUpdate=t.beforeUpdate||function(){},this._afterUpdate=t.afterUpdate||a,this._afterDispatches=t.afterDispatches||a}return e.prototype.subscribe=function(e,t){var r=this;if(void 0===t&&(t=!0),this._dead){var n=!1;return{retrieve:function(){},remove:function(){return!n&&(n=!0)}}}var i={callback:e,localState:t?o(this._state):this._initialState};return this._subscribers.push(i),t||this._updateSubscriber(i),{remove:function(){var t=r._subscribers.map((function(e){return e.callback})).indexOf(e);return t>=0&&(r._subscribers.splice(t,1),!0)},retrieve:function(){r._updateSubscriber(i)}}},e.prototype.subscribeIndividual=function(e,t,r){return this.subscribe((function(r){var n=r[e];void 0!==n&&t(n)}),r)},e.prototype.getHandle=function(){return{subscribe:this.subscribe.bind(this)}},e.prototype.getIndividualHandle=function(e){var t=this;return{subscribe:function(r){return t.subscribeIndividual(e,r)}}},e.prototype.update=function(e){var t=this;this._officiallyDead||(this._inAfterUpdate?e&&e(this._state,this._beforeUpdateError):this._onExit.enter((function(r){r.getResult((function(){try{e&&e(t._state,t._beforeUpdateError)}catch(e){t._errors.push(e)}}))})))},e.prototype.getState=function(){return this._state},e.prototype.kill=function(){var e=this;this._dead||(this._dead=!0,window.setTimeout((function(){e._subscribers.splice(0),e._officiallyDead=!0}),0))},e.prototype.isDead=function(){return this._dead},e.prototype._onEnter=function(){this._beforeUpdateError=void 0;try{this._beforeUpdate(this._state)}catch(e){this._beforeUpdateError=e}},e.prototype._after=function(){var e=this,t=this._errors;this._errors=[],i.deferException((function(){e._inAfterUpdate=!0;try{e._afterUpdate(e._state,{beforeUpdate:e._beforeUpdateError,update:t})}catch(t){throw e._inAfterUpdate=!1,t}e._inAfterUpdate=!1,e._subscribers.slice().forEach((function(t){return e._updateSubscriber(t)})),e._afterDispatches(e._state)}))},e.prototype._updateSubscriber=function(e){var t=this._calculateDiff(e.localState);Object.keys(t).length&&(e.localState=o(this._state),i.deferException((function(){return e.callback(t,e.localState)})))},e.prototype._calculateDiff=function(e){var t=this,r=Object.create(null);return Object.keys(this._state).forEach((function(n){var i=t._state[n];i!==e[n]&&(r[n]=i)})),r},e}();t.StateManager=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(1),i=function(){function e(e,t){this._inCallback=!1,this._onExit=e,this._onEnter=t||null}return e.prototype.enter=function(e){var t=this;if(this._inCallback)return e?e(this._onEnterResultRetriever):void 0;this._inCallback=!0;var r=[],i=!1;this._onEnter&&(this._onEnterResultRetriever={getResult:function(e){i?n.deferException((function(){return e(t._onEnterError,t._onEnterResult)})):r.push(e)}});try{var o=e?e(this._onEnterResultRetriever):void 0;if(this._onEnter){this._onEnterError=void 0,this._onEnterResult=void 0;try{this._onEnterResult=this._onEnter()}catch(e){this._onEnterError=e}i=!0,r.forEach((function(e){return n.deferException((function(){return e(t._onEnterError,t._onEnterResult)}))}))}return o}finally{this._inCallback=!1,n.deferException((function(){return t._onExit(t._onEnterError,t._onEnterResult)}))}},e}();t.OnExit=i},function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t,r){return e.call(this,t,r)||this}return i(t,e),t.prototype.getCode=function(){return"IMPLEMENTATION_ERROR"},t}(r(5).PlayerFatalError);t.ImplementationError=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AlwaysAllowSeekStrategy={isSeekAllowed:function(){return!0}}},function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t,r,n){void 0===n&&(n="The player that the proxy was controlling had an error.");var i=e.call(this,n)||this;return i._providedPlayerError=t,i._providedPlayer=r,i}return i(t,e),t.prototype.getCode=function(){return"PROXY_PLAYER_PROVIDED_PLAYER_ERROR"},t.prototype.getProvidedPlayerError=function(){return this._providedPlayerError},t.prototype.getProvidedPlayer=function(){return this._providedPlayer},t}(r(11).PlayerError);t.ProxyProvidedPlayerError=o},function(e,t,r){"use strict";var n=Object.create,i=Object.getPrototypeOf,o={};e.exports=function(){var e=Object.setPrototypeOf,t=arguments[0]||n;return"function"==typeof e&&i(e(t(null),o))===o}},function(e,t,r){"use strict";var n,i=r(33),o=r(0),a=Object.prototype.isPrototypeOf,s=Object.defineProperty,u={configurable:!0,enumerable:!1,writable:!0,value:void 0};n=function(e,t){if(o(e),null===t||i(t))return e;throw new TypeError("Prototype must be null or an object")},e.exports=function(e){var t,r;return e?(2===e.level?e.set?(r=e.set,t=function(e,t){return r.call(n(e,t),t),e}):t=function(e,t){return n(e,t).__proto__=t,e}:t=function e(t,r){var i;return n(t,r),(i=a.call(e.nullPolyfill,t))&&delete e.nullPolyfill.__proto__,null===r&&(r=e.nullPolyfill),t.__proto__=r,i&&s(e.nullPolyfill,"__proto__",u),t},Object.defineProperty(t,"level",{configurable:!1,enumerable:!1,writable:!1,value:e.level})):null}(function(){var e,t=Object.create(null),r={},n=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__");if(n){try{(e=n.set).call(t,r)}catch(e){}if(Object.getPrototypeOf(t)===r)return{set:e,level:2}}return t.__proto__=r,Object.getPrototypeOf(t)===r?{level:2}:((t={}).__proto__=r,Object.getPrototypeOf(t)===r&&{level:1})}()),r(63)},function(e,t,r){"use strict";var n=r(6),i={function:!0,object:!0};e.exports=function(e){return n(e)&&i[typeof e]||!1}},function(e,t,r){"use strict";e.exports=function(){}},function(e,t,r){"use strict";var n=r(6),i=Array.prototype.forEach,o=Object.create,a=function(e,t){var r;for(r in e)t[r]=e[r]};e.exports=function(e){var t=o(null);return i.call(arguments,(function(e){n(e)&&a(Object(e),t)})),t}},function(e,t,r){"use strict";e.exports=r(72)()?String.prototype.contains:r(73)},function(e,t,r){"use strict";var n=r(12),i=r(13),o=r(74),a=r(94),s=r(95),u=r(2).iterator;e.exports=function(e){return"function"==typeof s(e)[u]?e[u]():n(e)?new o(e):i(e)?new a(e):new o(e)}},function(e,t,r){"use strict";var n,i=r(79),o=r(19),a=r(3),s=r(0),u=r(8),l=r(80),c=r(2),d=Object.defineProperty,f=Object.defineProperties;e.exports=n=function(e,t){if(!(this instanceof n))throw new TypeError("Constructor requires 'new'");f(this,{__list__:u("w",s(e)),__context__:u("w",t),__nextIndex__:u("w",0)}),t&&(a(t.on),t.on("_add",this._onAdd),t.on("_delete",this._onDelete),t.on("_clear",this._onClear))},delete n.prototype.constructor,f(n.prototype,o({_next:u((function(){var e;if(this.__list__)return this.__redo__&&void 0!==(e=this.__redo__.shift())?e:this.__nextIndex__<this.__list__.length?this.__nextIndex__++:void this._unBind()})),next:u((function(){return this._createResult(this._next())})),_createResult:u((function(e){return void 0===e?{done:!0,value:void 0}:{done:!1,value:this._resolve(e)}})),_resolve:u((function(e){return this.__list__[e]})),_unBind:u((function(){this.__list__=null,delete this.__redo__,this.__context__&&(this.__context__.off("_add",this._onAdd),this.__context__.off("_delete",this._onDelete),this.__context__.off("_clear",this._onClear),this.__context__=null)})),toString:u((function(){return"[object "+(this[c.toStringTag]||"Object")+"]"}))},l({_onAdd:u((function(e){e>=this.__nextIndex__||(++this.__nextIndex__,this.__redo__?(this.__redo__.forEach((function(t,r){t>=e&&(this.__redo__[r]=++t)}),this),this.__redo__.push(e)):d(this,"__redo__",u("c",[e])))})),_onDelete:u((function(e){var t;e>=this.__nextIndex__||(--this.__nextIndex__,this.__redo__&&(-1!==(t=this.__redo__.indexOf(e))&&this.__redo__.splice(t,1),this.__redo__.forEach((function(t,r){t>e&&(this.__redo__[r]=--t)}),this)))})),_onClear:u((function(){this.__redo__&&i.call(this.__redo__),this.__nextIndex__=0}))}))),d(n.prototype,c.iterator,u((function(){return this})))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.version="29.5.1",t.buildNumber=1996;var n=r(4),i=r(40),o=r(10),a=r(45);t.ProxyPlayer=a.ProxyPlayer;var s=r(22);t.ProxyPlayerBase=s.ProxyPlayerBase;var u=r(47);t.errors=u.errors;var l=r(49);t.loaderErrors=l.loaderErrors;var c=r(51);t.helpers=c.helpers;var d=r(23);t.BasePlayer=d.BasePlayer;var f=r(25);t.State=f.State;var p=r(26);t.StateManager=p.StateManager;var h=r(99);t.TimeRange=h.TimeRange;var g=r(29);t.AlwaysAllowSeekStrategy=g.AlwaysAllowSeekStrategy;var y=r(100);t.NeverAllowSeekStrategy=y.NeverAllowSeekStrategy,function(e){e.EventDispatcher=n.EventDispatcher}(t.eventDispatcher||(t.eventDispatcher={})),function(e){e.LoaderRequest=i.LoaderRequest,e.ResponseState=i.ResponseState}(t.loader||(t.loader={})),function(e){e.noOpLogger=o.noOpLogger,e.consoleLogger=o.consoleLogger,e.prefixLogger=o.prefixLogger,e.cloneLogger=o.cloneLogger}(t.logger||(t.logger={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,i=r(9),o=r(4),a=r(20),s=r(1);!function(e){e[e.PENDING=0]="PENDING",e[e.WAITING=1]="WAITING",e[e.IN_PROGRESS=2]="IN_PROGRESS",e[e.COMPLETED=3]="COMPLETED",e[e.ERRORED=4]="ERRORED"}(n=t.ResponseState||(t.ResponseState={}));var u=function(){function e(){var e=this;this._responseDeferred=i.buildDeferred(),this._requestStartCallbacks=[],this._parts=[],this._progressEventDispatcher=new o.EventDispatcher,this._cachedCompleteParts=null,this._state=n.PENDING,this._statusAndHeaders=null,this._getProgressSoFar=function(){if(!e._parts.length)return null;if(!e._statusAndHeaders)throw new Error("Headers should be set.");return{initial:!0,statusCode:e._statusAndHeaders.statusCode,headers:e._statusAndHeaders.headers,part:e._getDataSoFar()}};var t=new a.AbortableJob((function(){return{result:e._responseDeferred.promise,progressUpdates:{getProgressSoFar:e._getProgressSoFar,onProgressUpdate:e._progressEventDispatcher}}}),{storeResult:!0});this._jobHandle=t.run()}return e.prototype.onProgress=function(e){this._jobHandle.onProgressUpdate(e)},e.prototype.getResponse=function(){return this._jobHandle.whenComplete()},e.prototype.onRequestStart=function(e){this._state!==n.PENDING?s.deferException(e):this._requestStartCallbacks.push(e)},e.prototype.onResponseReceived=function(e){this._jobHandle.onCompletion(e)},e.prototype.onError=function(e){this._jobHandle.onError(e)},e.prototype.hasRequestStarted=function(){return this._state!==n.PENDING},e.prototype.hasCompleted=function(){return this._state===n.COMPLETED||this._state===n.ERRORED},e.prototype.getState=function(){return this._state},e.prototype.abort=function(){-1===[n.ERRORED,n.COMPLETED].indexOf(this._state)&&(this._jobHandle.abort(),this._state=n.ERRORED,this._abort())},e.prototype._signalRequestStart=function(){this._enforceState(n.PENDING),this._state=n.WAITING,this._requestStartCallbacks.splice(0).forEach((function(e){return s.deferException(e)}))},e.prototype._signalTimeout=function(){this._enforceState(n.WAITING,n.IN_PROGRESS),this._state=n.COMPLETED,this._requestStartCallbacks.splice(0),this._responseDeferred.resolve(null)},e.prototype._provideStatusAndHeaders=function(e,t){this._enforceState(n.WAITING),this._statusAndHeaders=e,this._state=n.IN_PROGRESS,this._providePart(t)},e.prototype._providePart=function(e){this._enforceState(n.IN_PROGRESS);var t=!this._parts.length;if(this._parts.push(e),!this._statusAndHeaders)throw new Error("Headers should be set.");this._progressEventDispatcher.dispatch({initial:t,statusCode:this._statusAndHeaders.statusCode,headers:this._statusAndHeaders.headers,part:e})},e.prototype._finalize=function(e){var t=this;if(e)this._enforceState(n.PENDING,n.WAITING,n.IN_PROGRESS),this._state=n.ERRORED,this._requestStartCallbacks.splice(0),this._responseDeferred.reject(e);else{if(this._enforceState(n.IN_PROGRESS),this._state=n.COMPLETED,!this._statusAndHeaders)throw new Error("Headers should be set.");this._responseDeferred.resolve({statusCode:this._statusAndHeaders.statusCode,headers:this._statusAndHeaders.headers,getData:function(){if(!t._parts.length)throw new Error("Unexpected error. No parts.");return t._cachedCompleteParts?t._cachedCompleteParts:t._cachedCompleteParts=t._getDataSoFar()}})}},e.prototype._getDataSoFar=function(){var e=this._parts.length;if(!e)throw new Error("No parts.");return 1===e?this._parts[0]:this._reduceParts(this._parts)},e.prototype._enforceState=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(-1===e.indexOf(this._state))throw new Error("Invalid state. Got "+this._state+" Expecting one of "+e.join(","))},e}();t.LoaderRequest=u},function(e,t,r){(function(t,n){var i;
/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   4.0.5
 */i=function(){"use strict";function e(e){return"function"==typeof e}var i=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},o=0,a=void 0,s=void 0,u=function(e,t){g[o]=e,g[o+1]=t,2===(o+=2)&&(s?s(y):w())},l="undefined"!=typeof window?window:void 0,c=l||{},d=c.MutationObserver||c.WebKitMutationObserver,f="undefined"==typeof self&&void 0!==t&&"[object process]"==={}.toString.call(t),p="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function h(){var e=setTimeout;return function(){return e(y,1)}}var g=new Array(1e3);function y(){for(var e=0;e<o;e+=2)(0,g[e])(g[e+1]),g[e]=void 0,g[e+1]=void 0;o=0}var m,_,v,b,w=void 0;function E(e,t){var r=arguments,n=this,i=new this.constructor(P);void 0===i[A]&&H(i);var o,a=n._state;return a?(o=r[a-1],u((function(){return B(a,i,o,n._result)}))):N(n,i,e,t),i}function S(e){if(e&&"object"==typeof e&&e.constructor===this)return e;var t=new this(P);return D(t,e),t}f?w=function(){return t.nextTick(y)}:d?(_=0,v=new d(y),b=document.createTextNode(""),v.observe(b,{characterData:!0}),w=function(){b.data=_=++_%2}):p?((m=new MessageChannel).port1.onmessage=y,w=function(){return m.port2.postMessage(0)}):w=void 0===l?function(){try{var e=r(44);return void 0!==(a=e.runOnLoop||e.runOnContext)?function(){a(y)}:h()}catch(e){return h()}}():h();var A=Math.random().toString(36).substring(16);function P(){}var I=void 0,M=1,T=2,k=new F;function C(e){try{return e.then}catch(e){return k.error=e,k}}function x(t,r,n){r.constructor===t.constructor&&n===E&&r.constructor.resolve===S?function(e,t){t._state===M?R(e,t._result):t._state===T?L(e,t._result):N(t,void 0,(function(t){return D(e,t)}),(function(t){return L(e,t)}))}(t,r):n===k?L(t,k.error):void 0===n?R(t,r):e(n)?function(e,t,r){u((function(e){var n=!1,i=function(e,t,r,n){try{e.call(t,r,n)}catch(e){return e}}(r,t,(function(r){n||(n=!0,t!==r?D(e,r):R(e,r))}),(function(t){n||(n=!0,L(e,t))}),e._label);!n&&i&&(n=!0,L(e,i))}),e)}(t,r,n):R(t,r)}function D(e,t){var r;e===t?L(e,new TypeError("You cannot resolve a promise with itself")):"function"==typeof(r=t)||"object"==typeof r&&null!==r?x(e,t,C(t)):R(e,t)}function O(e){e._onerror&&e._onerror(e._result),j(e)}function R(e,t){e._state===I&&(e._result=t,e._state=M,0!==e._subscribers.length&&u(j,e))}function L(e,t){e._state===I&&(e._state=T,e._result=t,u(O,e))}function N(e,t,r,n){var i=e._subscribers,o=i.length;e._onerror=null,i[o]=t,i[o+M]=r,i[o+T]=n,0===o&&e._state&&u(j,e)}function j(e){var t=e._subscribers,r=e._state;if(0!==t.length){for(var n=void 0,i=void 0,o=e._result,a=0;a<t.length;a+=3)n=t[a],i=t[a+r],n?B(r,n,i,o):i(o);e._subscribers.length=0}}function F(){this.error=null}var U=new F;function B(t,r,n,i){var o=e(n),a=void 0,s=void 0,u=void 0,l=void 0;if(o){if((a=function(e,t){try{return e(t)}catch(e){return U.error=e,U}}(n,i))===U?(l=!0,s=a.error,a=null):u=!0,r===a)return void L(r,new TypeError("A promises callback cannot return that same promise."))}else a=i,u=!0;r._state!==I||(o&&u?D(r,a):l?L(r,s):t===M?R(r,a):t===T&&L(r,a))}var z=0;function H(e){e[A]=z++,e._state=void 0,e._result=void 0,e._subscribers=[]}function G(e,t){this._instanceConstructor=e,this.promise=new e(P),this.promise[A]||H(this.promise),i(t)?(this._input=t,this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?R(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&R(this.promise,this._result))):L(this.promise,new Error("Array Methods must be provided an Array"))}function V(e){this[A]=z++,this._result=this._state=void 0,this._subscribers=[],P!==e&&("function"!=typeof e&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof V?function(e,t){try{t((function(t){D(e,t)}),(function(t){L(e,t)}))}catch(t){L(e,t)}}(this,e):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return G.prototype._enumerate=function(){for(var e=this.length,t=this._input,r=0;this._state===I&&r<e;r++)this._eachEntry(t[r],r)},G.prototype._eachEntry=function(e,t){var r=this._instanceConstructor,n=r.resolve;if(n===S){var i=C(e);if(i===E&&e._state!==I)this._settledAt(e._state,t,e._result);else if("function"!=typeof i)this._remaining--,this._result[t]=e;else if(r===V){var o=new r(P);x(o,e,i),this._willSettleAt(o,t)}else this._willSettleAt(new r((function(t){return t(e)})),t)}else this._willSettleAt(n(e),t)},G.prototype._settledAt=function(e,t,r){var n=this.promise;n._state===I&&(this._remaining--,e===T?L(n,r):this._result[t]=r),0===this._remaining&&R(n,this._result)},G.prototype._willSettleAt=function(e,t){var r=this;N(e,void 0,(function(e){return r._settledAt(M,t,e)}),(function(e){return r._settledAt(T,t,e)}))},V.all=function(e){return new G(this,e).promise},V.race=function(e){var t=this;return i(e)?new t((function(r,n){for(var i=e.length,o=0;o<i;o++)t.resolve(e[o]).then(r,n)})):new t((function(e,t){return t(new TypeError("You must pass an array to race."))}))},V.resolve=S,V.reject=function(e){var t=new this(P);return L(t,e),t},V._setScheduler=function(e){s=e},V._setAsap=function(e){u=e},V._asap=u,V.prototype={constructor:V,then:E,catch:function(e){return this.then(null,e)}},V.polyfill=function(){var e=void 0;if(void 0!==n)e=n;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var r=null;try{r=Object.prototype.toString.call(t.resolve())}catch(e){}if("[object Promise]"===r&&!t.cast)return}e.Promise=V},V.Promise=V,V},e.exports=i()}).call(this,r(42),r(43))},function(e,t){var r,n,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(r===setTimeout)return setTimeout(e,0);if((r===o||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:o}catch(e){r=o}try{n="function"==typeof clearTimeout?clearTimeout:a}catch(e){n=a}}();var u,l=[],c=!1,d=-1;function f(){c&&u&&(c=!1,u.length?l=u.concat(l):d=-1,l.length&&p())}function p(){if(!c){var e=s(f);c=!0;for(var t=l.length;t;){for(u=l,l=[];++d<t;)u&&u[d].run();d=-1,t=l.length}u=null,c=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function g(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];l.push(new h(e,t)),1!==l.length||c||s(p)},h.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=g,i.addListener=g,i.once=g,i.off=g,i.removeListener=g,i.removeAllListeners=g,i.emit=g,i.prependListener=g,i.prependOnceListener=g,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t){},function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var o=r(4),a=r(10),s=r(22),u=r(17),l=function(e){function t(t){var r=e.call(this,t)||this;return r._onPlayerProvided=new o.EventDispatcher,r._onPlayerRemoved=new o.EventDispatcher,r._shouldPassThroughFatalErrors=!!t.shouldPassThroughFatalErrors,r.onPlayerProvided=r._onPlayerProvided.getHandle(),r.onPlayerRemoved=r._onPlayerRemoved.getHandle(),r._logger=a.prefixLogger(r._logger,"ProxyPlayer"),r}return i(t,e),t.prototype.providePlayer=function(e,t){void 0===t&&(t={}),this._providePlayer(e,t),this._onPlayerProvided.dispatch(e)},t.prototype.removePlayer=function(){var e=this._getPlayer();if(!e)throw new Error("There is no player to remove.");this._removePlayer(),this._onPlayerRemoved.dispatch(e)},t.prototype.setInitialDuration=function(e){this._setInitialDuration(e)},t.prototype.getPlayer=function(){return this._getPlayer()},t.prototype._handleFatalError=function(e,t){this._shouldPassThroughFatalErrors?this._triggerError(e):this._triggerError(new u.ProxyProvidedPlayerFatalError(e,t))},t}(s.ProxyPlayerBase);t.ProxyPlayer=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="undefined"!=typeof navigator&&"mediaSession"in navigator?navigator.mediaSession:null,i=function(){function e(e){this._mediaSession=e,this._stack=[],this._active=null}return e.prototype.register=function(e){var t=this;if(!this._mediaSession)return{remove:function(){}};this._stack.length?this._stack.splice(1,0,e):(this._stack.push(e),this._makeActive(e));var r=e.getPlayer().onChange.subscribe((function(r){void 0!==r.playing&&t._handleUpdate(e)}));this._handleUpdate(e);var n=!1;return{remove:function(){if(!n){n=!0,r.remove();var i=t._stack.indexOf(e);i>=0&&t._stack.splice(i,1),t._stack.length?t._makeActive(t._stack[0]):(t._active=null,t._updateHandlers({}),t._mediaSession.playbackState="none")}}}},e.prototype._handleUpdate=function(e){var t=e.getPlayer().isPlaying();t&&this._makeActive(e),this._isActive(e)&&(this._mediaSession.playbackState=t?"playing":"paused")},e.prototype._isActive=function(e){return this._active===e},e.prototype._makeActive=function(e){if(!this._isActive(e)){var t=this._stack.indexOf(e);t>=0&&this._stack.splice(t,1),this._stack.unshift(e),this._active=e,this._updateHandlers(e.getHandlers())}},e.prototype._updateHandlers=function(e){this._mediaSession.setActionHandler("play",e.play||null),this._mediaSession.setActionHandler("pause",e.pause||null),this._mediaSession.setActionHandler("seekforward",e.seekForward||null),this._mediaSession.setActionHandler("seekbackward",e.seekBackward||null)},e}();t.MediaSessionManager=i,t.mediaSessionManager=new i(n);var o=function(){function e(e,t){void 0===t&&(t={}),this._player=e,this._handlers=t}return e.prototype.getHandlers=function(){return this._handlers},e.prototype.getPlayer=function(){return this._player},e}();t.MediaSessionItem=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(24),i=r(48),o=r(28),a=r(17),s=r(11),u=r(5);!function(e){e.PlayerError=s.PlayerError,e.PlayerFatalError=u.PlayerFatalError,e.NotSupportedError=n.NotSupportedError,e.URLUpdateError=i.URLUpdateError,e.ImplementationError=o.ImplementationError,e.ProxyProvidedPlayerFatalError=a.ProxyProvidedPlayerFatalError}(t.errors||(t.errors={}))},function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t,r){return e.call(this,t||"The URL update failed for some reason.",r)||this}return i(t,e),t.prototype.getCode=function(){return"URL_UPDATE_ERROR"},t}(r(5).PlayerFatalError);t.URLUpdateError=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(50);!function(e){e.LoaderError=n.LoaderError}(t.loaderErrors||(t.loaderErrors={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){this._msg=e,this._cause=t}return e.prototype.getMsg=function(){return this._msg},e.prototype.getCause=function(){return this._cause},e}();t.LoaderError=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(9),i=r(20),o=r(52),a=r(27),s=r(16),u=r(53),l=r(14),c=r(7),d=r(54),f=r(15),p=r(55),h=r(56),g=r(1),y=r(21),m=r(57),_=r(59);!function(e){var t;e.OnExit=a.OnExit,e.find=s.find,e.Promise=c.Promise,e.promiseWithTimeout=d.promiseWithTimeout,e.always=f.always,e.compact=p.compact,e.deferException=g.deferException,e.SCWeakMap=_.SCWeakMap,function(e){e.buildCache=u.buildCache}(e.cache||(e.cache={})),function(e){e.buildDeferred=n.buildDeferred}(e.deferred||(e.deferred={})),function(e){e.getExtension=m.getExtension,e.buildAbsoluteUrl=m.buildAbsoluteUrl}(e.url||(e.url={})),function(e){e.AbortableJob=i.AbortableJob,e.map=i.map,e.abortedError=i.abortedError}(e.abortableJob||(e.abortableJob={})),(t=e.retry||(e.retry={})).retry=o.retry,t.buildExponentialDelayCalculator=o.buildExponentialDelayCalculator,function(e){e.isSafari=y.isSafari,e.getSafariVersion=y.getSafariVersion,e.isIE=y.isIE,e.isEdge=y.isEdge,e.isFirefox=y.isFirefox,e.isChrome=y.isChrome,e.getChromeVersion=y.getChromeVersion,e.getFirefoxVersion=y.getFirefoxVersion}(e.browser||(e.browser={})),function(e){e.combine=h.combine,e.fill=h.fill,e.forEach=h.forEach,e.numberToUint8Array=h.numberToUint8Array,e.createVintBuffer=h.createVintBuffer}(e.arrayBuffer||(e.arrayBuffer={})),function(e){e.now=l.now}(e.time||(e.time={}))}(t.helpers||(t.helpers={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(1);t.retry=function(e,t,r){void 0===r&&(r={});var i=null,o=0,a=!1,s=null,u=function(){var l=!1;s=t({attemptNum:o,scheduleRetry:function(){if(l)throw new Error("scheduleRetry() already called.");if(l=!0,s=null,a)return!1;var t=e(++o);if(null===t){var c=r.onNoMoreRetries;return c&&n.deferException((function(){return c()})),!1}return i=window.setTimeout(u,t),!0}})||null};return u(),{cancel:function(){a||(a=!0,i&&(window.clearTimeout(i),i=null),s&&s.onCancel())}}},t.buildExponentialDelayCalculator=function(e){var t=void 0===e?{}:e,r=t.timeBase,n=void 0===r?500:r,i=t.threshold,o=void 0===i?3:i,a=t.delayCap,s=void 0===a?45e3:a,u=t.jitter,l=void 0===u?200:u,c=t.maxAttempts,d=void 0===c?null:c;if(n<=0)throw new Error("Time base must be > 0.");if(o<=0)throw new Error("Threshold must be > 0.");if(null!==s&&s<=0)throw new Error("Delay cap must be null or > 0.");if(null!==d&&d<1)throw new Error("Max attempts must be >= 1.");return function(e){if(null!==d&&e>=d)return null;var t=e>0?Math.pow(2,e/o-1):0;return Math.min(t*n,s||1/0)+Math.round(Math.random()*l)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(16),i="undefined"!=typeof window&&"Map"in window;t.buildCache=function(){return i?new window.Map:new o};var o=function(){function e(){this._store=[]}return e.prototype.set=function(e,t){var r=n.find(this._store,(function(t){return t.key===e}));r?r.val=t:this._store.push({key:e,val:t})},e.prototype.get=function(e){var t=n.find(this._store,(function(t){return t.key===e}));if(t)return t.val},e}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(7),i=r(15);t.promiseWithTimeout=function(e,t,r){return void 0===r&&(r=new Error("Timed out.")),new n.Promise((function(n,o){var a=window.setTimeout((function(){o(r)}),t);i.always(e,(function(e){return window.clearTimeout(a),e})).then(n,o)}))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.compact=function(e){return e.filter((function(e){return null!=e}))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.combine=function(e){var t=new Uint8Array(e.reduce((function(e,t){return e+t.byteLength}),0)),r=0;return e.forEach((function(e){t.set(e,r),r+=e.byteLength})),t},t.fill=function(e,t){if(Uint8Array.prototype.fill)e.fill(t);else for(var r=0;r<e.length;r++)e[r]=t},t.forEach=function(e,t){if(Uint8Array.prototype.forEach)e.forEach(t);else for(var r=0;r<e.length;r++)t(e[r],r)},t.numberToUint8Array=function(e,t){if(void 0===t&&(t=!1),(e=Math.round(e))<0)throw new Error("Negative numbers not supported.");for(var r=Math.max(1,Math.ceil(Math.log(e+1)/Math.log(2)/8)),n=new Uint8Array(r),i=0;i<r;i++)n[t?i:r-1-i]=255&e,e>>>=8;return n},t.createVintBuffer=function(e){if(e<0||e>Math.pow(2,53))throw new Error("Unrepresentable value: "+e);var t;for(t=1;t<=8&&!(e<Math.pow(2,7*t)-1);t++);for(var r=new Uint8Array(t),n=1;n<=t;n++){var i=255&e;r[t-n]=i,e-=i,e/=Math.pow(2,8)}return r[0]|=1<<8-t,r}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(58),i=/^.*\.([^\.;\?#]*).*$/;t.getExtension=function(e){var t=i.exec(e);return t?t[1].toLowerCase():null},t.buildAbsoluteUrl=function(e,t){return n.buildAbsoluteURL(e,t,{alwaysNormalize:!0})}},function(e,t,r){var n,i,o,a,s;n=/^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/?#]*)?((?:[^\/\?#]*\/)*.*?)??(;.*?)?(\?.*?)?(#.*?)?$/,i=/^([^\/?#]*)(.*)$/,o=/(?:\/|^)\.(?=\/)/g,a=/(?:\/|^)\.\.\/(?!\.\.\/).*?(?=\/)/g,s={buildAbsoluteURL:function(e,t,r){if(r=r||{},e=e.trim(),!(t=t.trim())){if(!r.alwaysNormalize)return e;var n=s.parseURL(e);if(!n)throw new Error("Error trying to parse base URL.");return n.path=s.normalizePath(n.path),s.buildURLFromParts(n)}var o=s.parseURL(t);if(!o)throw new Error("Error trying to parse relative URL.");if(o.scheme)return r.alwaysNormalize?(o.path=s.normalizePath(o.path),s.buildURLFromParts(o)):t;var a=s.parseURL(e);if(!a)throw new Error("Error trying to parse base URL.");if(!a.netLoc&&a.path&&"/"!==a.path[0]){var u=i.exec(a.path);a.netLoc=u[1],a.path=u[2]}a.netLoc&&!a.path&&(a.path="/");var l={scheme:a.scheme,netLoc:o.netLoc,path:null,params:o.params,query:o.query,fragment:o.fragment};if(!o.netLoc&&(l.netLoc=a.netLoc,"/"!==o.path[0]))if(o.path){var c=a.path,d=c.substring(0,c.lastIndexOf("/")+1)+o.path;l.path=s.normalizePath(d)}else l.path=a.path,o.params||(l.params=a.params,o.query||(l.query=a.query));return null===l.path&&(l.path=r.alwaysNormalize?s.normalizePath(o.path):o.path),s.buildURLFromParts(l)},parseURL:function(e){var t=n.exec(e);return t?{scheme:t[1]||"",netLoc:t[2]||"",path:t[3]||"",params:t[4]||"",query:t[5]||"",fragment:t[6]||""}:null},normalizePath:function(e){for(e=e.split("").reverse().join("").replace(o,"");e.length!==(e=e.replace(a,"")).length;);return e.split("").reverse().join("")},buildURLFromParts:function(e){return e.scheme+e.netLoc+e.path+e.params+e.query+e.fragment}},e.exports=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(60),i=function(){function e(){this._map=new n}return e.prototype.get=function(e){return this._map.get(e)},e.prototype.set=function(e,t){this._map.set(e,t)},e.prototype.has=function(e){return this._map.has(e)},e.prototype.delete=function(e){return this._map.delete(e)},e}();t.SCWeakMap=i},function(e,t,r){"use strict";e.exports=r(61)()?WeakMap:r(62)},function(e,t,r){"use strict";e.exports=function(){var e,t;if("function"!=typeof WeakMap)return!1;try{e=new WeakMap([[t={},"one"],[{},"two"],[{},"three"]])}catch(e){return!1}return"[object WeakMap]"===String(e)&&"function"==typeof e.set&&e.set({},1)===e&&"function"==typeof e.delete&&"function"==typeof e.has&&"one"===e.get(t)}},function(e,t,r){"use strict";var n,i=r(18),o=r(64),a=r(0),s=r(65),u=r(8),l=r(37),c=r(97),d=r(2).toStringTag,f=r(98),p=Array.isArray,h=Object.defineProperty,g=Object.prototype.hasOwnProperty,y=Object.getPrototypeOf;e.exports=n=function(){var e,t=arguments[0];if(!(this instanceof n))throw new TypeError("Constructor requires 'new'");return e=f&&i&&WeakMap!==n?i(new WeakMap,y(this)):this,null!=t&&(p(t)||(t=l(t))),h(e,"__weakMapData__",u("c","$weakMap$"+s())),t?(c(t,(function(t){a(t),e.set(t[0],t[1])})),e):e},f&&(i&&i(n,WeakMap),n.prototype=Object.create(WeakMap.prototype,{constructor:u(n)})),Object.defineProperties(n.prototype,{delete:u((function(e){return!!g.call(o(e),this.__weakMapData__)&&(delete e[this.__weakMapData__],!0)})),get:u((function(e){if(g.call(o(e),this.__weakMapData__))return e[this.__weakMapData__]})),has:u((function(e){return g.call(o(e),this.__weakMapData__)})),set:u((function(e,t){return h(o(e),this.__weakMapData__,u("c",t)),this})),toString:u((function(){return"[object WeakMap]"}))}),h(n.prototype,d,u("c","WeakMap"))},function(e,t,r){"use strict";var n,i,o,a,s=Object.create;r(31)()||(n=r(32)),e.exports=n?1!==n.level?s:(i={},o={},a={configurable:!1,enumerable:!1,writable:!0,value:void 0},Object.getOwnPropertyNames(Object.prototype).forEach((function(e){o[e]="__proto__"!==e?a:{configurable:!0,enumerable:!1,writable:!0,value:void 0}})),Object.defineProperties(i,o),Object.defineProperty(n,"nullPolyfill",{configurable:!1,enumerable:!1,writable:!1,value:i}),function(e,t){return s(null===e?i:e,t)}):s},function(e,t,r){"use strict";var n=r(33);e.exports=function(e){if(!n(e))throw new TypeError(e+" is not an Object");return e}},function(e,t,r){"use strict";var n=Object.create(null),i=Math.random;e.exports=function(){var e;do{e=i().toString(36).slice(2)}while(n[e]);return e}},function(e,t,r){"use strict";e.exports=function(){var e,t=Object.assign;return"function"==typeof t&&(t(e={foo:"raz"},{bar:"dwa"},{trzy:"trzy"}),e.foo+e.bar+e.trzy==="razdwatrzy")}},function(e,t,r){"use strict";var n=r(68),i=r(0),o=Math.max;e.exports=function(e,t){var r,a,s,u=o(arguments.length,2);for(e=Object(i(e)),s=function(n){try{e[n]=t[n]}catch(e){r||(r=e)}},a=1;a<u;++a)t=arguments[a],n(t).forEach(s);if(void 0!==r)throw r;return e}},function(e,t,r){"use strict";e.exports=r(69)()?Object.keys:r(70)},function(e,t,r){"use strict";e.exports=function(){try{return Object.keys("primitive"),!0}catch(e){return!1}}},function(e,t,r){"use strict";var n=r(6),i=Object.keys;e.exports=function(e){return i(n(e)?Object(e):e)}},function(e,t,r){"use strict";e.exports=function(e){return"function"==typeof e}},function(e,t,r){"use strict";var n="razdwatrzy";e.exports=function(){return"function"==typeof n.contains&&!0===n.contains("dwa")&&!1===n.contains("foo")}},function(e,t,r){"use strict";var n=String.prototype.indexOf;e.exports=function(e){return n.call(this,e,arguments[1])>-1}},function(e,t,r){"use strict";var n,i=r(18),o=r(36),a=r(8),s=r(2),u=r(38),l=Object.defineProperty;n=e.exports=function(e,t){if(!(this instanceof n))throw new TypeError("Constructor requires 'new'");u.call(this,e),t=t?o.call(t,"key+value")?"key+value":o.call(t,"key")?"key":"value":"value",l(this,"__kind__",a("",t))},i&&i(n,u),delete n.prototype.constructor,n.prototype=Object.create(u.prototype,{_resolve:a((function(e){return"value"===this.__kind__?this.__list__[e]:"key+value"===this.__kind__?[e,this.__list__[e]]:e}))}),l(n.prototype,s.toStringTag,a("c","Array Iterator"))},function(e,t,r){"use strict";var n={object:!0,symbol:!0};e.exports=function(){var e;if("function"!=typeof Symbol)return!1;e=Symbol("test symbol");try{String(e)}catch(e){return!1}return!!n[typeof Symbol.iterator]&&!!n[typeof Symbol.toPrimitive]&&!!n[typeof Symbol.toStringTag]}},function(e,t,r){"use strict";var n,i,o,a,s=r(8),u=r(77),l=Object.create,c=Object.defineProperties,d=Object.defineProperty,f=Object.prototype,p=l(null);if("function"==typeof Symbol){n=Symbol;try{String(n()),a=!0}catch(e){}}var h,g=(h=l(null),function(e){for(var t,r,n=0;h[e+(n||"")];)++n;return h[e+=n||""]=!0,d(f,t="@@"+e,s.gs(null,(function(e){r||(r=!0,d(this,t,s(e)),r=!1)}))),t});o=function(e){if(this instanceof o)throw new TypeError("Symbol is not a constructor");return i(e)},e.exports=i=function e(t){var r;if(this instanceof e)throw new TypeError("Symbol is not a constructor");return a?n(t):(r=l(o.prototype),t=void 0===t?"":String(t),c(r,{__description__:s("",t),__name__:s("",g(t))}))},c(i,{for:s((function(e){return p[e]?p[e]:p[e]=i(String(e))})),keyFor:s((function(e){var t;for(t in u(e),p)if(p[t]===e)return t})),hasInstance:s("",n&&n.hasInstance||i("hasInstance")),isConcatSpreadable:s("",n&&n.isConcatSpreadable||i("isConcatSpreadable")),iterator:s("",n&&n.iterator||i("iterator")),match:s("",n&&n.match||i("match")),replace:s("",n&&n.replace||i("replace")),search:s("",n&&n.search||i("search")),species:s("",n&&n.species||i("species")),split:s("",n&&n.split||i("split")),toPrimitive:s("",n&&n.toPrimitive||i("toPrimitive")),toStringTag:s("",n&&n.toStringTag||i("toStringTag")),unscopables:s("",n&&n.unscopables||i("unscopables"))}),c(o.prototype,{constructor:s(i),toString:s("",(function(){return this.__name__}))}),c(i.prototype,{toString:s((function(){return"Symbol ("+u(this).__description__+")"})),valueOf:s((function(){return u(this)}))}),d(i.prototype,i.toPrimitive,s("",(function(){var e=u(this);return"symbol"==typeof e?e:e.toString()}))),d(i.prototype,i.toStringTag,s("c","Symbol")),d(o.prototype,i.toStringTag,s("c",i.prototype[i.toStringTag])),d(o.prototype,i.toPrimitive,s("c",i.prototype[i.toPrimitive]))},function(e,t,r){"use strict";var n=r(78);e.exports=function(e){if(!n(e))throw new TypeError(e+" is not a symbol");return e}},function(e,t,r){"use strict";e.exports=function(e){return!!e&&("symbol"==typeof e||!!e.constructor&&"Symbol"===e.constructor.name&&"Symbol"===e[e.constructor.toStringTag])}},function(e,t,r){"use strict";var n=r(0);e.exports=function(){return n(this).length=0,this}},function(e,t,r){"use strict";var n,i=r(81),o=r(35),a=r(3),s=r(91),u=r(3),l=r(0),c=Function.prototype.bind,d=Object.defineProperty,f=Object.prototype.hasOwnProperty;n=function(e,t,r){var n,o=l(t)&&u(t.value);return delete(n=i(t)).writable,delete n.value,n.get=function(){return!r.overwriteDefinition&&f.call(this,e)?o:(t.value=c.call(o,r.resolveContext?r.resolveContext(this):this),d(this,e,t),this[e])},n},e.exports=function(e){var t=o(arguments[1]);return null!=t.resolveContext&&a(t.resolveContext),s(e,(function(e,r){return n(r,e,t)}))}},function(e,t,r){"use strict";var n=r(82),i=r(19),o=r(0);e.exports=function(e){var t=Object(o(e)),r=arguments[1],a=Object(arguments[2]);if(t!==e&&!r)return t;var s={};return r?n(r,(function(t){(a.ensure||t in e)&&(s[t]=e[t])})):i(s,e),s}},function(e,t,r){"use strict";e.exports=r(83)()?Array.from:r(84)},function(e,t,r){"use strict";e.exports=function(){var e,t,r=Array.from;return"function"==typeof r&&(t=r(e=["raz","dwa"]),Boolean(t&&t!==e&&"dwa"===t[1]))}},function(e,t,r){"use strict";var n=r(2).iterator,i=r(12),o=r(85),a=r(86),s=r(3),u=r(0),l=r(6),c=r(13),d=Array.isArray,f=Function.prototype.call,p={configurable:!0,enumerable:!0,writable:!0,value:null},h=Object.defineProperty;e.exports=function(e){var t,r,g,y,m,_,v,b,w,E,S=arguments[1],A=arguments[2];if(e=Object(u(e)),l(S)&&s(S),this&&this!==Array&&o(this))t=this;else{if(!S){if(i(e))return 1!==(m=e.length)?Array.apply(null,e):((y=new Array(1))[0]=e[0],y);if(d(e)){for(y=new Array(m=e.length),r=0;r<m;++r)y[r]=e[r];return y}}y=[]}if(!d(e))if(void 0!==(w=e[n])){for(v=s(w).call(e),t&&(y=new t),b=v.next(),r=0;!b.done;)E=S?f.call(S,A,b.value,r):b.value,t?(p.value=E,h(y,r,p)):y[r]=E,b=v.next(),++r;m=r}else if(c(e)){for(m=e.length,t&&(y=new t),r=0,g=0;r<m;++r)E=e[r],r+1<m&&(_=E.charCodeAt(0))>=55296&&_<=56319&&(E+=e[++r]),E=S?f.call(S,A,E,g):E,t?(p.value=E,h(y,g,p)):y[g]=E,++g;m=g}if(void 0===m)for(m=a(e.length),t&&(y=new t(m)),r=0;r<m;++r)E=S?f.call(S,A,e[r],r):e[r],t?(p.value=E,h(y,r,p)):y[r]=E;return t&&(p.value=null,y.length=m),y}},function(e,t,r){"use strict";var n=Object.prototype.toString,i=n.call(r(34));e.exports=function(e){return"function"==typeof e&&n.call(e)===i}},function(e,t,r){"use strict";var n=r(87),i=Math.max;e.exports=function(e){return i(0,n(e))}},function(e,t,r){"use strict";var n=r(88),i=Math.abs,o=Math.floor;e.exports=function(e){return isNaN(e)?0:0!==(e=Number(e))&&isFinite(e)?n(e)*o(i(e)):e}},function(e,t,r){"use strict";e.exports=r(89)()?Math.sign:r(90)},function(e,t,r){"use strict";e.exports=function(){var e=Math.sign;return"function"==typeof e&&1===e(10)&&-1===e(-20)}},function(e,t,r){"use strict";e.exports=function(e){return e=Number(e),isNaN(e)||0===e?e:e>0?1:-1}},function(e,t,r){"use strict";var n=r(3),i=r(92),o=Function.prototype.call;e.exports=function(e,t){var r={},a=arguments[2];return n(t),i(e,(function(e,n,i,s){r[n]=o.call(t,a,e,n,i,s)})),r}},function(e,t,r){"use strict";e.exports=r(93)("forEach")},function(e,t,r){"use strict";var n=r(3),i=r(0),o=Function.prototype.bind,a=Function.prototype.call,s=Object.keys,u=Object.prototype.propertyIsEnumerable;e.exports=function(e,t){return function(r,l){var c,d=arguments[2],f=arguments[3];return r=Object(i(r)),n(l),c=s(r),f&&c.sort("function"==typeof f?o.call(f,r):void 0),"function"!=typeof e&&(e=c[e]),a.call(e,c,(function(e,n){return u.call(r,e)?a.call(l,d,r[e],e,r,n):t}))}}},function(e,t,r){"use strict";var n,i=r(18),o=r(8),a=r(2),s=r(38),u=Object.defineProperty;n=e.exports=function(e){if(!(this instanceof n))throw new TypeError("Constructor requires 'new'");e=String(e),s.call(this,e),u(this,"__length__",o("",e.length))},i&&i(n,s),delete n.prototype.constructor,n.prototype=Object.create(s.prototype,{_next:o((function(){if(this.__list__)return this.__nextIndex__<this.__length__?this.__nextIndex__++:void this._unBind()})),_resolve:o((function(e){var t,r=this.__list__[e];return this.__nextIndex__===this.__length__?r:(t=r.charCodeAt(0))>=55296&&t<=56319?r+this.__list__[this.__nextIndex__++]:r}))}),u(n.prototype,a.toStringTag,o("c","String Iterator"))},function(e,t,r){"use strict";var n=r(96);e.exports=function(e){if(!n(e))throw new TypeError(e+" is not iterable");return e}},function(e,t,r){"use strict";var n=r(12),i=r(6),o=r(13),a=r(2).iterator,s=Array.isArray;e.exports=function(e){return!(!i(e)||!s(e)&&!o(e)&&!n(e)&&"function"!=typeof e[a])}},function(e,t,r){"use strict";var n=r(12),i=r(3),o=r(13),a=r(37),s=Array.isArray,u=Function.prototype.call,l=Array.prototype.some;e.exports=function(e,t){var r,c,d,f,p,h,g,y,m=arguments[2];if(s(e)||n(e)?r="array":o(e)?r="string":e=a(e),i(t),d=function(){f=!0},"array"!==r)if("string"!==r)for(c=e.next();!c.done;){if(u.call(t,m,c.value,d),f)return;c=e.next()}else for(h=e.length,p=0;p<h&&(g=e[p],p+1<h&&(y=g.charCodeAt(0))>=55296&&y<=56319&&(g+=e[++p]),u.call(t,m,g,d),!f);++p);else l.call(e,(function(e){return u.call(t,m,e,d),f}))}},function(e,t,r){"use strict";e.exports="function"==typeof WeakMap&&"[object WeakMap]"===Object.prototype.toString.call(new WeakMap)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){if(this.start=e,this.duration=t,t<0)throw new RangeError("Duration must be >= 0.");this.end=e+t}return e.normalizeRawTimeRanges=function(e){return e.slice(0).sort((function(e,t){return e.start-t.start})).reduce((function(e,t,r){var n=e.length-1;return r>0&&e[n].end>=t.start?e[n].end=t.end:e.push(t),e}),[])},e.normalize=function(t){return e.normalizeRawTimeRanges(t.map((function(e){return{start:e.start,end:e.end}}))).map((function(t){return new e(t.start,t.end-t.start)}))},e.getCoverage=function(t){if(0===t.length)return new e(0,0);var r=1/0,n=0;return t.forEach((function(e){e.start<r&&(r=e.start),e.end>n&&(n=e.end)})),new e(r,n-r)},e.rangesContainTime=function(e,t){return t.some((function(t){return t.containsTime(e)}))},e.prototype.containsTime=function(e){return this.start<=e&&this.end>e},e}();t.TimeRange=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NeverAllowSeekStrategy={isSeekAllowed:function(){return!1}}}])},e.exports=n()},,function(e,t,r){var n=r(72),i=r(257),o=r(105),a=r(333),s=r(334),u=r(471),l=i("wks"),c=n.Symbol,d=u?c:a;e.exports=function(e){return o(l,e)||(s&&o(c,e)?l[e]=c[e]:l[e]=d("Symbol."+e)),l[e]}},,,,function(e,t,r){e.exports=r(18).extend(r(253),{resource_type:"comment",urnPrefix:"soundcloud:comments",saveWithWrapper:!1,parse:function(e){return null===e.timestamp&&(e.timestamp=1/0),e},submodelMap:{track:r(17),user:r(32)},baseUrl:function(){return this.getEndpointUrl("comment",{id:this.id})},saveUrl:function(){var e=this.getSound(),t=e.get("secret_token");return this.getEndpointUrl("commentCreate",{track_id:this.getSoundId()},t&&e.isPrivate?{secret_token:t}:{})},destroyUrl:function(){return this.getEndpointUrl("commentDelete",{id:this.id})},getAttributesToBeSaved:function(){return this.pick("body","timestamp")},setReplyTo:function(e){this.set("replyTo",e.id),this.trigger("change:recipient",e.get("user").permalink)},hasDataForView:function(e){return r(18).prototype.hasDataForView.call(this,r(0).without(e,"id"))},getSound:function(){var e=this.getSoundId(),t=r(17).getInstance({id:e,resource_type:"sound"});return!t&&e&&(t=new(r(17))(this.get("track")||{id:e}),this.addSubmodel(t)),t},destroy:function(e){return this.isNew()||r(23).comment(this,!1,{target:this.getSoundId(),targetType:"sound"}),r(18).prototype.destroy.call(this,e)},getSoundId:function(){return this.get("track_id")||(this.get("track")||{}).id},reportAsSpam:function(){var e=this;r(29).callEndpoint("commentSpam",{id:this.id}).then((function(){e.trigger("destroy",e,e.collection)}))}},{EMPTY_TIMESTAMP:1/0})},,,,,,,,,function(e,t,r){var n=r(262),i=r(105),o=r(493),a=r(132).f;e.exports=function(e){var t=n.Symbol||(n.Symbol={});i(t,e)||a(t,e,{value:o.f(e)})}},,function(e,t,r){var n={ARTIST:"artist",TRACK:"track"},i=r(534).withOptions({batchEndpoint:"stationBatch",paramName:"urns"});e.exports=r(18).extend(i,r(113).withOptions({read:"artwork_url"}),r(135).withOptions({attr:"title"}),{resource_type:"station",baseUrl:function(){return this.getEndpointUrl("station",{urn:this.id})},getUrn:function(){return this.id},getImageResourceInfo:function(){var e=r(53).getAsAttributes(this.id).id;switch(this.get("type")){case"track":return{Model:r(17),args:{id:e}};case"artist":return{Model:r(32),args:{id:e}};default:return null}}},{types:n,resolve:function(e,t){var n=e+"/"+t;return r(18)._resolve(this,["stations",e,t],(function(e){return e.get("permalink")===n}))},getStationPageUrl:function(e){var t="user"===e.resource_type?"artist":"track",r=e.getPermalink();return r?"/stations/"+t+r:""}})},,,,,,,,,,,function(e,t){var r={}.hasOwnProperty;e.exports=function(e,t){return r.call(e,t)}},,,,function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},,,,function(e,t,r){e.exports=r(51).extend(r(186),r(549),r(553),r(135).withOptions({attr:"title"}),r(551),r(368),{_playlist:null,resource_type:"playlist-edit",requiredModelAttributes:[],actions:{default:"save",save:function(){var e=this;return this.validate().then((function(t){return t?(e.set("editing",!1),e.saveEdits()):r(6).reject()}))},cancel:function(){this.cancel()}},fields:{buyLink:{defaultValue:""},buyTitle:{defaultValue:"Buy"},labelName:{defaultValue:null},trackList:{defaultValue:null}},buttons:{save:{label:r(1).t("Save changes"),pendingLabel:r(1).t("Saving"),action:"save"},cancel:{label:r(1).t("Cancel"),action:"cancel"}},constraints:{title:[[r(41),{message:r(1).t("Enter a title.")}],[r(68),{maxLength:100,message:r(1).t("Enter a title that is up to [[maxLength]] characters.")}]],description:[[r(68),{maxLength:4e3,message:r(1).t("Enter a playlist description that is up to [[maxLength]] characters.")}]],tags:[[r(447)]],permalink:[[r(279),{type:"playlist",getResource:function(){return this.getAudible()}}],[r(41),{message:r(1).t("Enter a permalink.")}]],buyLink:[[r(250),{strict:!1}]],buyTitle:[[r(367)]],customGenre:[[r(68),{maxLength:100,message:r(1).t("Enter a custom genre that is up to [[maxLength]] characters.")}]]},constraintConditions:{buyTitle:{fields:[],check:function(){return r(3).get("me").getPerk("customBuyTitle")}}},setup:function(e,t){var n,i,s,u=this;this.on("imageDataChanged",this.markFieldsDirty.bind(this,"artwork_url")),this._playlist=new(r(43))({id:t.resource_id}),this.set("trackList",(n=this._playlist,i=n.getSoundsCollectionClone(),s=n.getSounds(),r(0).assign(i,{getCurrentOrder:function(){return this.pluck("id")},reorder:function(e){this.sort({silent:!0,comparator:function(t){return e.indexOf(t.id)}})},resetOrder:function(){return this.reset(s.slice()),r(6).resolve()},saveOrder:r(0).noop}),r(253).applyTo(i),r(254).applyTo(i),i)),function(e,t){return e.attrExists(t)?r(6).resolve(e):e.fetch({attrs:t}).then(r(0).constant(e))}(this._playlist,this.requiredModelAttributes).then((function(){o.call(u),a.call(u)})),this.addSubmodel(this._playlist)},saveEdits:function(){var e=this.getAudible();if(e.set(this.getAttributesToBeSaved()),this.isDirty("trackList")){var t=e.getSounds(),o=this.get("trackList");t.length>o.length&&r(0).difference(t,o.models).forEach(e.removeSound,e),e.reorder(o.pluck("id"))}return e.save().then(this.saveAudibleImage.bind(this,e)).then(n.bind(this),i.bind(this)).done(this.trigger.bind(this,"saved"))},getAudible:function(){return this._playlist},getAttributesFromModel:function(){var e=this.getAudible();return{buyLink:e.get("purchase_url"),buyTitle:e.get("purchase_title"),labelName:e.get("label_name")}},getAttributesToBeSaved:function(){var e=this.get("buyLink"),t=this.get("buyTitle");return{purchase_url:e?r(19).normalize(e):null,purchase_title:t===this.getFieldMetadata("buyTitle").defaultValue?null:t,label_name:this.get("labelName")}},cancel:function(){o.call(this),this.trigger("canceled")},saveCleanup:function(e){this.markFieldsClean()}},{hashFn:function(e,t){return e.resource_id||t&&t.resource_id||e.id||null}});function n(){var e=this.getAudible();r(8).trigger("playlist:saved",e),this.trigger("saved")}function i(e){this.set({errorMessage:this.getErrorMessageTemplate("save","playlist",this.extractErrorMessage(e))})}function o(){this.setToModelAttributes(),this.get("trackList").reset(this._playlist.getSounds())}function a(){var e=this.requiredModelAttributes.map((function(e){return"change:"+e})).join();this.listenTo(this._playlist,e,(function(){this.isDirty()||o.call(this)}))}},function(e,t,r){var n;o();var i=e.exports=r(18).extend({resource_type:"product",setup:function(){n()},fetch:function(e,t){var r=this;return void 0===t&&(t={}),i.fetchProductsByCategory(i.idToCategory(this.id),this.options.ref,t.promoCode).then((function(t){var n=t.body.plans;r.lastFetchTime=Date.now(),r.populateFromPlans(n,e)}),(function(){r.populateFromPlans([])}))},populateFromPlans:function(e,t){var n=r(0).findWhere(e,{id:i.idToApiId(this.id)});n?this.set(this.parse(n,t),t):this.set("active",!1)},parse:function(e){return r(0).extend({active:!0},r(0).omit(e,"id"))},isActive:function(){return!!this.get("active")},isAvailable:function(){return this.isFree()||!!this.get("preselected_term")},isPro:function(){return-1===this.id.indexOf("unlimited")&&!this.isFree()},isProUnlimited:function(){return this.id.indexOf("unlimited")>-1},isFree:function(){return this.id.indexOf("free")>-1},isTrial:function(){return!!this.get("trial")},getCurrency:function(){return this.getPrice().currency},getTitle:function(){return this.isPro()?r(1).t("Pro"):this.isProUnlimited()?r(1).t("Pro Unlimited"):r(1).t("Free")},getPrice:function(e){return this.getTermData(e).price||{currency:"EUR"}},getDisplayPrice:function(){if(!this.getPrice().hasOwnProperty("amount"))return null;var e=this.getPrice(),t=e.amount,n=e.currency;return r(1).priceHelper.format(t,n)},getTermData:function(e){return e=e||this.getPreselectedTerm(),this.get(e)||{}},getPreselectedTerm:function(){return this.get("preselected_term")},getUrn:function(){var e=this.getTermData().package;return e&&e.urn}},{useCases:{DISABLED:"disabled",REGULAR:"regular",MONEY_BACK:"money_back",RENEWAL:"renewal",DOWNGRADE:"downgrade",UPGRADE:"upgrade"},idToApiId:function(e){switch(e){case r(24).CONSUMER_SUBSCRIPTION_MID_TIER:return"consumer-mid-tier";case r(24).CONSUMER_SUBSCRIPTION_HIGH_TIER:return"consumer-high-tier";case r(24).CREATOR_SUBSCRIPTION_FREE:return"free";case r(24).CREATOR_SUBSCRIPTION_PRO:return"pro";case r(24).CREATOR_SUBSCRIPTION_PRO_UNLIMITED:return"pro-unlimited"}},idToCategory:function(e){switch(e){case r(24).CONSUMER_SUBSCRIPTION_MID_TIER:case r(24).CONSUMER_SUBSCRIPTION_HIGH_TIER:return"consumer-subscription";case r(24).CREATOR_SUBSCRIPTION_FREE:case r(24).CREATOR_SUBSCRIPTION_PRO:case r(24).CREATOR_SUBSCRIPTION_PRO_UNLIMITED:return"creator-subscription"}},fetchProductsByCategory:r(0).memoize((function(e,t,n){return r(29).callEndpoint("paymentQuotations",{category:e},{ref:t,promo_code:n}).fail((function(){delete i.fetchProductsByCategory.cache[e+"--"+n]}))}),(function(e,t,r){return e+"--"+r})),resetLoginListener:o,clearRequestCache:function(){i.fetchProductsByCategory.cache={}}});function o(){r(8).off("connect:hasUserData",a),n=r(0).once((function(){r(16).isLoggedIn()||r(8).once("connect:hasUserData",a)}))}function a(){i.clearRequestCache(),i.instances.invoke("fetch")}},function(e,t,r){var n=r(22).Collection.extend({model:r(17),hasDataForView:r(0).constant(!0),isFullyPopulated:r(0).constant(!0),_usageCount:r(0).constant(1),hold:r(0).noop,release:r(0).noop});e.exports=r(18).extend(r(362),r(113).withOptions({read:"calculated_artwork_url"}),r(135).withOptions({attr:"title"}),r(444).withOptions({attribute:"tracks",listenToChanges:!1,Collection:r(297),collectionArgs:function(){return{urn:this.get("urn"),query_urn:this.get("query_urn"),tracking_feature_name:this.get("tracking_feature_name")}}}),{resource_type:"system-playlist",submodelMap:{made_for:r(32)},_soundCopyCollection:null,setup:function(){this._createSoundCopyCollection(),this.listenTo(r(12),"change:currentSound",this._onCurrentSoundChanged)},baseUrl:function(){return this.getEndpointUrl("systemPlaylist",{urn:this.id})},getUrn:function(){return this.id},getSoundCopyCollection:function(){return this._soundCopyCollection},getPersonalizedForUsername:function(){var e=this.get("made_for");return e&&e.username},getCurrentSound:function(){return this._currentSound||this._soundCopyCollection.at(0)},getSounds:function(){return this._soundCopyCollection.models},getNumSounds:function(){return this._soundCopyCollection.length||0},containsSound:function(e){return this.getSoundIndex(e)>-1},getSoundIndex:function(e){return this._soundCopyCollection.indexOf(e)},play:function(){var e=this.getCurrentSound();e&&e.play()},pause:function(){var e=this.getCurrentSound();e&&e.pause()},isPlaying:function(){return Boolean(this._soundCopyCollection)&&this._soundCopyCollection.some((function(e){return e.isPlaying()}))},isProcessing:function(){return Boolean(this._soundCopyCollection)&&this._soundCopyCollection.some((function(e){return e.isProcessing()}))},isEditing:function(){return!1},isBuffering:function(){return this._soundCopyCollection.some((function(e){return e.isBuffering()}))},isPlayable:function(){return this._soundCopyCollection.some((function(e){return e.isPlayable()}))},extractSecretToken:r(0).noop,isPrivate:function(){return!1},isNowPlaying:function(){return this.getSoundIndex(r(12).getCurrentSound())>-1},duration:function(){return this.getSounds().reduce((function(e,t){return e+t.duration()||0}),0)},getSourceInfo:function(){return{type:this.get("tracking_feature_name"),queryUrn:this.get("query_urn"),urn:this.get("urn"),resourceId:this.resource_id,resourceType:this.resource_type}},onSoundPlay:function(e){this.trigger("play",e)},onSoundPause:function(e){this.trigger("pause",e)},onSoundBuffering:function(e){this.trigger(e.type,e)},onSoundFinish:function(e){this.trigger("finish",e)},onSoundTime:function(e){this.trigger("time",e)},onSoundSeeked:function(e){this.trigger("seeked",e)},_createSoundCopyCollection:function(){var e=this;this._soundCopyCollection=new n(null,{});var t=this.get("tracks").map((function(t){var n=new(r(17))(t);e.addSubmodel(n);var a=r(0).defaults({resource_id:{system_playlist_id:e.id,sound_id:t.id}},t),s=new(r(17))(a,{soundContext:{system_playlist_id:e.id,sound_id:t.id}});return s.originalSound=n,s.systemPlaylist=e,s.on("change",i).listenTo(s.originalSound,"change",o),e.listenTo(s,"play",e.onSoundPlay).listenTo(s,"pause",e.onSoundPause).listenTo(s,"buffering:start buffering:end",e.onSoundBuffering).listenTo(s,"finish",e.onSoundFinish).listenTo(s,"time",e.onSoundTime).listenTo(s,"seeked",e.onSoundSeeked),s}));this.listenTo(this._soundCopyCollection,"error",(function(t,n){n instanceof r(223)&&e._soundCopyCollection.remove(t)})),this._soundCopyCollection.reset(t)},_onCurrentSoundChanged:function(){var e=r(12).getCurrentSound();if(this.containsSound(e))this._currentSound=e;else if(this._currentSound&&this._currentSound.player&&this._currentSound.player.isEnded()){var t=this._soundCopyCollection.at(this.getSoundIndex(this._currentSound)+1);this._currentSound=t||null}}},{onCleanup:function(e){e._soundCopyCollection.each((function(t){e.stopListening(t),t.systemPlaylist=null,t.release()})),e._soundCopyCollection.off(),delete e._soundCopyCollection,r(18).onCleanup(e)},resolve:function(e){return r(18)._resolve(this,["discover","sets",e],(function(t){return t.get("permalink")===e}))}});function i(e,t){e.originalSound.set(e.attributes,t)}function o(e,t){this.set(e.attributes,t)}},,,,function(e,t,r){e.exports={activities:new(r(22).Model)({channel:"/me/activities/all/own",itemName:"activity",itemNamePlural:"activities",minPollInterval:2*r(26).MS_IN_MINUTE,maxPollInterval:32*r(26).MS_IN_MINUTE,baseUrl:function(){return r(29).getUrlForEndpoint("activities")}}),unreadConversations:new(r(22).Model.extend({defaults:{baseUrl:function(){return r(201).baseUrl("unread")+"?force=1"},itemName:"conversation",itemNamePlural:"conversations",minPollInterval:0,maxPollInterval:0},initialize:function(){this.setDefaultPolling()},enableRealTimePolling:function(){this.set("minPollInterval",40*r(26).MS_IN_SECOND),this.set("maxPollInterval",180*r(26).MS_IN_SECOND),this.trigger("pollIntervalChange")},setDefaultPolling:function(){this.set("minPollInterval",5*r(26).MS_IN_MINUTE),this.set("maxPollInterval",32*r(26).MS_IN_MINUTE),this.trigger("pollIntervalChange")}})),conversations:new(r(22).Model)({baseUrl:r(201).baseUrl,itemName:"conversation",itemNamePlural:"conversations",minPollInterval:r(26).MS_IN_SECOND,maxPollInterval:30*r(26).MS_IN_SECOND})}},function(e,t,r){var n=r(110);e.exports=function(e){if(!n(e))throw TypeError(String(e)+" is not an object");return e}},,,,,,,,,,function(e,t,r){var n=r(150),i=r(132),o=r(215);e.exports=n?function(e,t,r){return i.f(e,t,o(1,r))}:function(e,t,r){return e[t]=r,e}},function(e,t,r){var n=r(150),i=r(470),o=r(121),a=r(258),s=Object.defineProperty;t.f=n?s:function(e,t,r){if(o(e),t=a(t,!0),o(r),i)try{return s(e,t,r)}catch(e){}if("get"in r||"set"in r)throw TypeError("Accessors not supported");return"value"in r&&(e[t]=r.value),e}},,,,,,,,function(e,t,r){e.exports=r(30).extend(r(156),{defaults:{type:null,userId:null},setup:function(e){e.resource_id&&!e.userId&&(e.userId=e.resource_id)},getSourceInfo:function(){return{type:"user-"+this.options.type,resourceId:this.options.userId,resourceType:"user"}}},{hashFn:function(e,t){return t&&(t.userId||t.resource_id)||null}})},,,,,,,,,function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t,r){var n=r(109);e.exports=!n((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},,,,,function(e,t,r){e.exports=r(51).extend({fields:{title:{defaultValue:""},sounds:{defaultValue:function(){return new(r(596))}},playlist:{defaultValue:null},sharing:{defaultValue:"public",datasource:[{label:r(1).t("Public"),value:"public"},{label:r(1).t("Private"),value:"private"}]}},buttons:{save:{label:r(1).t("Save"),action:"save"}},actions:{save:function(){var e=this,t=new(r(43))({title:this.get("title"),sharing:this.get("sharing")});return this.get("sounds").forEach((function(e){t.addSound(e)})),this.validate().always((function(){t.release()})).then((function(n){if(n)return t.save().then((function(){var n=new(r(43))(t.attributes);return r(23).notify("createPlaylist",{object:n}),e.get("sounds").each((function(e){r(23).notify("addToPlaylist",{object:e,target:n.id,targetType:n.get("kind"),state:!0})})),e.set("playlist",n),e.markFieldsClean(),n}));r(11).trackV0Click(["add_to_set","validation"])}))},default:"save"},constraints:{title:[[r(41),{message:r(1).t("Enter a title.")}],[r(68),{maxLength:255,message:r(1).t("Enter a title that is up to [[maxLength]] characters.")}]],sounds:[[r(41),{message:r(1).t("Playlists must contain at least one track.")}]]},setup:function(e,t){var a,s=this.get("sounds");this.startingSounds=this.options.startingSounds||[],a=r(0).any(r(0).invoke(this.startingSounds,"isPrivate")),this.set("sharing",a?"private":"public"),this.getFieldMetadata("sounds").datasource=new(r(1457))(null,{sourceType:n(this.startingSounds)?"mySounds":"likes"}),this.listenTo(s,"add",i).listenTo(s,"remove",o),r(0).each(this.startingSounds,this.addSound,this)},addSound:function(e){this.get("sounds").add(e)},areAllSoundsMine:function(){return n(this.get("sounds").models)}},{onCleanup:function(e){e.get("sounds").release()}});function n(e){var t=r(3).get("me");return r(0).all(e,(function(e){return t.owns(e)}))}function i(e){s.call(this,e,!0),a.call(this)}function o(e){s.call(this,e,!1),a.call(this)}function a(){this.setActionState("save",this.get("sounds").length?"enabled":"disabled"),this.forceChange("sounds")}function s(e,t){var r=this.getFieldMetadata("sounds").datasource,n="excludeSeed_"+e.id,i=t?function(t){return t!==e}:null;r.setFilter(n,i)}},,,function(e,t,r){var n=e.exports=r(18).extend({url:null,lastFetchTime:1,initialize:function(e){e=e||{},this.id||(e.id=this.id=this.cid,n.instances.set(this.id,this)),this.fatal=!!e.fatal,r(18).prototype.initialize.apply(this,arguments)}},{fromSpamWarning:function(e){try{var t=JSON.parse(e.responseText).errors[0];if(t.spam_warning){var r=t.spam_warning;return new n({xhr:e,spam_warning:r,message:"Spam Warning"})}return null}catch(e){return null}},raise:function(e,t){var i=new n(e);if(i.release(),(t=t||{}).hard)throw i;r(8).trigger("exception",i)},ajaxFatal:function(e){return function(t,i){"abort"!==i&&n.raise(r(0).assign(e,{xhr:t,fatal:!0}))}},ajaxNonFatal:function(e){return function(t,r){"abort"!==r&&n.raise({message:e,xhr:t,fatal:!1})}}})},,function(e,t,r){(function(t){var n=r(3).get("systemUserId");e.exports=r(18).extend({resource_type:"conversation",saveWithWrapper:!1,_lastMessageSentAt:null,submodelMap:{users:r(32)},baseUrl:function(){return r(201).baseUrlWithId(this.id)},setup:function(){this.listenTo(this,"change:last_message",i)},parse:function(e){var t=r(0).find(e.users,(function(e){return"system"===e.id}));return t&&(t.id=n),r(18).prototype.parse.apply(this,arguments)},getRecipient:function(){var e=r(3).get("me").id;return r(0).find(this.get("users"),(function(t){return e!==t.id}))||this.get("users")[0]},fetch:function(){var e=this;return r(18).prototype.fetch.apply(this,arguments).fail((function(){e.trigger("error")}))},isFromSoundCloud:function(){return this.getRecipient().id===n},isFromMissingUser:function(){return"missing_user"===this.getRecipient().kind},setRead:function(e){this.set("read",e)},markAsRead:function(){var e=this.toggleReadState(!0);return r(8).trigger("conversation:read",this.id),e},markAsUnread:function(){var e=this.toggleReadState(!1);return r(8).trigger("conversation:unread",this.id),e},toggleReadState:function(e){var t,n=this,i=null!=e?e:!this.get("read");return this.set("read",i),this._saveDeferred||(this._saveDeferred=t=r(6).defer().always((function(){n._saveDeferred=null})).done((function(){n.get("read")!==i&&n.toggleReadState(n.get("read"))})),this.save({read:i},{dataType:"text"}).done((function(){window.setTimeout(t.resolve,1e3)})).fail((function(){window.setTimeout(t.reject,1e3)}))),this._saveDeferred},getUuid:function(){var e=this.get("last_message");return r(451).hashFn(e)},lastMessageSentAt:function(){return this._lastMessageSentAt||i.call(this,null,this.get("last_message")),this._lastMessageSentAt},destroyAndReport:function(e){var n=this;e?t.ajax({url:this.baseUrl()+"/spam",type:"PUT",success:function(){n.trigger("destroy",n)}}):r(23).destroy(this)}});function i(e,t){t&&t.sent_at&&(this._lastMessageSentAt=new Date(t.sent_at),this.set("has_attachment",o.call(this)))}function o(){var e=this.get("last_message");return!!e&&!!e.content.match(r(95).scLinksRegexGlobal)}}).call(this,r(13))},,,,,,,,,,,,function(e,t,r){var n=r(72),i=r(131),o=r(105),a=r(331),s=r(335),u=r(216),l=u.get,c=u.enforce,d=String(String).split("String");(e.exports=function(e,t,r,s){var u=!!s&&!!s.unsafe,l=!!s&&!!s.enumerable,f=!!s&&!!s.noTargetGet;"function"==typeof r&&("string"!=typeof t||o(r,"name")||i(r,"name",t),c(r).source=d.join("string"==typeof t?t:"")),e!==n?(u?!f&&e[t]&&(l=!0):delete e[t],l?e[t]=r:i(e,t,r)):l?e[t]=r:a(t,r)})(Function.prototype,"toString",(function(){return"function"==typeof this&&l(this).source||s(this)}))},function(e,t,r){var n=r(72),i=r(261).f,o=r(131),a=r(172),s=r(331),u=r(476),l=r(479);e.exports=function(e,t){var r,c,d,f,p,h=e.target,g=e.global,y=e.stat;if(r=g?n:y?n[h]||s(h,{}):(n[h]||{}).prototype)for(c in t){if(f=t[c],d=e.noTargetGet?(p=i(r,c))&&p.value:r[c],!l(g?c:h+(y?".":"#")+c,e.forced)&&void 0!==d){if(typeof f==typeof d)continue;u(f,d)}(e.sham||d&&d.sham)&&o(f,"sham",!0),a(r,c,f,e)}}},function(e,t,r){var n=r(262),i=r(72),o=function(e){return"function"==typeof e?e:void 0};e.exports=function(e,t){return arguments.length<2?o(n[e])||o(i[e]):n[e]&&n[e][t]||i[e]&&i[e][t]}},,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.Error="ERROR",e.Missing="MISSING",e.Valid="VALID",e.Created="CREATED",e.Deferred="DEFERRED"}(t.Status||(t.Status={}))},,,,,,function(e,t,r){e.exports=r(18).extend({resource_type:"shortcut",url:null,submodelMap:{entity:null},hashCode:null,setup:function(){this.hashCode=this.get("output")+"%%"+this.getEntityType()},createSubmodel:function(){var e=function(e){switch(e){case"user":return r(32);case"track":return r(17);case"playlist":return r(43);default:return null}}(this.getEntityType());null!==e&&(this.resource=new e(this.get("entity")),this.addSubmodel(this.resource),i.call(this)),n.call(this)},fetch:function(){return this.resource?this.resource.fetch():r(6).resolve({})},getEntityType:function(){switch(this.get("kind")){case"track":case"like":return"track";case"user":case"following":return"user";case"query":return"query";case"playlist":return"playlist"}},isQuery:function(){return"query"===this.get("kind")},getEquivalencyKey:function(){return this.hashCode}});function n(){if(this.resource){var e=o(this.getEntityType());this.set({artwork_url:this.resource.get(e&&e.artwork_url),link:(t=this.resource.get(e&&e.link),t?t.replace(/^https?:.+?\w\//,"/"):null)})}var t}function i(){this.listenTo(this.resource,r(0).map(o(this.getEntityType()),(function(e){return"change:"+e})).join(" "),n)}function o(e){switch(e){case"user":return{artwork_url:"avatar_url",link:"permalink_url"};case"track":case"playlist":return{artwork_url:"artwork_url",link:"permalink_url"}}}},,,,,,,,,,function(e,t,r){e.exports=r(51).extend(r(1512),{fields:{recipients:{defaultValue:[]},body:{defaultValue:""},links:{defaultValue:[]},attachments:{defaultValue:[]}},constraints:{body:[[r(41),{message:r(1).t("Enter a message.")}],[r(68),{maxLength:2e4,message:r(1).t("Enter a message that is up to [[maxLength]] characters.")}]],recipients:[[r(41),{message:r(1).t("Enter a recipient.")}]]},buttons:{send:{label:r(1).t("Send"),action:"send"}},serialization:{restoreAndStoreOnSetup:!0,fields:["body"]},actions:{default:"send",send:function(e){var t=r(6).defer(),n=this.get("recipients")[0],i=this.get("body");return this.validate().done((function(o){o?r(312).send(n,i,e.showSuccessMessage).done(t.resolve).fail(t.reject):t.reject()})).fail(t.reject),t.done(d.bind(this)),t}},setup:function(e,t){this.serialization.storeKey=t.conversationId&&"conversation_"+t.conversationId,this.listenTo(this,"change:body",o).listenTo(this,"validation:body",u).listenTo(this,"validation:recipients",s).listenTo(this,"removeSoundFromAttached",l)},getRecipientIds:function(){return r(0).pluck(this.get("recipients"),"id")},addRecipient:function(e){return function(e){return e instanceof r(32)?i(e):e instanceof r(182)?r(6).resolve({id:(n=e).resource.resource_id,username:n.get("output"),avatar_url:n.get("artwork_url")}):(t=e,"string"==typeof t&&"soundcloud"===t.toLowerCase()?r(6).reject():r(32).resolve(e).then(i));var t;var n}(e).done(n.bind(this))},addAttachment:function(e,t){this.set("body",this.get("body").replace(/\n*$/,"\n"+e.getShareURL({type:t})+" "))}});function n(e){e&&-1===this.getRecipientIds().indexOf(e.id)&&this.set("recipients",this.get("recipients").concat(e))}function i(e){return function(e){return e.hasDataForView(["username","avatar_url"])?r(6).resolve(e):e.fetch()}(e).then((function(){return{id:e.id,username:e.get("username"),avatar_url:e.get("avatar_url")}}))}function o(e,t){var n,i=this;t!==this._lastBodyValue&&(this._lastBodyValue=t,r(95).getAudibleModels(t.match(r(95).scLinksRegexGlobal)||[]).done((function(e){n=r(0).reduce(e,(function(e,t){return t&&t.audible&&e.push(t.audible),e}),[]),i.set("attachments",n)})))}function a(e,t){t&&!t.isValid&&r(11).trackV0Click(["messages","new-message-validation-error"])}function s(e){a.call(this,"recipients",e)}function u(e){a.call(this,"body",e)}function l(e){var t,n;t=r(0).reject(this.get("attachments"),(function(t){return t.resource_id===e&&(n=t,!0)})),this.set("attachments",t),c.call(this,n)}function c(e){var t=this.get("body"),n=e.getShareURL(),i=new RegExp("\\n{0,2}"+r(119).regexpEscape(n)+"\\S*\\n{0,2}","igm");t=t.replace(i,""),this.set("body",t)}function d(){this.clearStoredValues(),this.set("body","")}},function(e,t){e.exports=!1},function(e,t){var r={}.toString;e.exports=function(e){return r.call(e).slice(8,-1)}},function(e,t,r){var n=r(475),i=r(337);e.exports=function(e){return n(i(e))}},function(e,t,r){var n=r(132).f,i=r(105),o=r(79)("toStringTag");e.exports=function(e,t,r){e&&!i(e=r?e:e.prototype,o)&&n(e,o,{configurable:!0,value:t})}},,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(900);t.wrapBackboneModel=n.wrapModel;var i=r(504);t.MemoryStore=i.MemoryStore;var o=r(507);t.NetworkStore=o.NetworkStore;var a=r(902);t.V2MemoryStore=a.V2MemoryStore;var s=r(903);t.V2NetworkStore=s.V2NetworkStore;var u=r(351);t.V2LoadStrategy=u.V2LoadStrategy;var l=r(904);t.DataProvider=l.DataProvider},function(e,t,r){var n;window,n=function(e,t,r){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=2)}([function(t,r){t.exports=e},function(e,r){e.exports=t},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.version="23.7.2",t.buildNumber=928;var n=r(3);t.HTML5PlayerController=n.HTML5PlayerController;var i=r(5);t.MediaElementManager=i.MediaElementManager;var o=r(0);t.HTML5Player=o.HTML5Player},function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var o=r(4),a=r(1),s=r(0),u=function(e){function t(t){var r=e.call(this)||this;return r._mediaElementManager=t,r.name="MaestroHTML5",r}return i(t,e),t.errorQualifiesAbort=function(e){return!(e instanceof s.errors.WebAudioInitializeError)},t.prototype.isRenditionSupported=function(e,t){return("http"===e.scProtocol||-1!==["hls","encrypted-hls"].indexOf(e.scProtocol)&&!t.streamUrlExpires)&&s.HTML5Player.isFormatSupported(e.maestroFormat)},t.prototype.buildPlayer=function(e){var t=e.urlAndRendition,r=t.rendition,n=t.timeRetrieved;if(e.streamUrlExpires&&(["hls","encrypted-hls"].indexOf(r.scProtocol)>=0||void 0===n))throw o.notSupportedError;return new l(e,this._mediaElementManager)},t}(o.BaseController);t.HTML5PlayerController=u;var l=function(){function e(e,t){var r=this;this._config=e,this._mediaElementManager=t;var n=e.logger,i=e.playerId,o=e.urlAndRendition,a=e.streamUrlExpires,l=e.reportError,c=e.fadeOnPauseAndPlay,d=e.fadeOnSeek,f=e.releaseControl,p=e.seekStrategy;this._logger=n;var h=o.rendition,g=o.timeRetrieved;if(a){if(void 0===g)throw new Error("Expecting timeUrlRetrieved to be set.");this._expirationConfig={urlExpires:!0,timeUrlRetrieved:g}}else this._expirationConfig={urlExpires:!1};var y=this._player=new s.HTML5Player({url:o.url,format:h.maestroFormat},{name:i,mediaElement:null,fadeSupportEnabled:c||d,defaultFadeDuration:c?void 0:0,defaultSeekFadeInDuration:d?void 0:0,defaultSeekFadeOutDuration:d?void 0:0,webAudioContext:this._mediaElementManager.getWebAudioContext(),logger:this._logger,seekStrategy:p,registerListeners:function(e){var t=e.onError,n=e.onChange;t.subscribe((function(e){e instanceof s.errors.NetworkError&&r._hasExpired()?(r._logger.info("Releasing control as a network error occurred, and the URL has expired."),f({retry:!0})):(l(e.getCode()),u.errorQualifiesAbort(e)&&f({retry:!1}))})),n.subscribe((function(e){var t=e.dead,n=e.playing,i=e.actuallyPlaying,o=e.seeking,a=e.duration;if(!t)return a===1/0?(r._logger.info("Releasing control because the duration was Infinity."),void f({retry:!1})):void(r._expirationConfig.urlExpires&&(n||i||o)&&r._checkIfUrlWillExpireBeforeEnd());f({retry:!1})}))}});this._mediaElementManager.registerPlayer(y,(function(){return f({retry:!1})}))}return e.prototype.getPlayer=function(){return this._player},e.prototype.getUrl=function(){return this._config.urlAndRendition.url},e.prototype._checkIfUrlWillExpireBeforeEnd=function(){var e=this._player.getDuration(),t=this._getExpireTime();if(null!==e&&null!==t){var r=e-this._player.getPosition();a.helpers.time.now()+r>t&&(this._logger.info("Releasing control because stream URL would expire before reaching end."),this._config.releaseControl({retry:!0}))}},e.prototype._getExpireTime=function(){if(!this._expirationConfig.urlExpires)return null;var e=this._player.getDuration();return null===e?null:this._expirationConfig.timeUrlRetrieved+e+105e3},e.prototype._hasExpired=function(){var e=this._getExpireTime();return null!==e&&e<=a.helpers.time.now()},e}();t.ControlledPlayer=l},function(e,t){e.exports=r},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(1),i=new(r(0).WebAudioContext),o=function(){function e(e,t){this._playerListeners=new n.helpers.SCWeakMap,this._playerWithElement=null,this._canActivate=!0,this._provideMediaElementErrorRunCheck={},this._element=document.createElement(e),this._logger=n.logger.prefixLogger(t,"MediaElementManager")}return e.prototype.activate=function(){this._canActivate&&(this._logger.debug("Activating media element."),this._element.load()),this._logger.debug("Activating web audio context."),i.activate()},e.prototype.registerPlayer=function(e,t){var r=this;if(this._playerListeners.has(e))throw new Error("Player already registered.");var n=function(){if(e.getMediaElement()!==r._element){r._playerWithElement&&(r._playerWithElement.getMediaElement()===r._element&&(r._logger.debug("Revoking media element from previous player."),r._playerWithElement.isPlaying()&&r._logger.warn("Revoking media element from a playing player."),r._playerWithElement.revokeMediaElement()),r._playerWithElement=null),r._canActivate=!1;var n=r._provideMediaElementErrorRunCheck={};r._logger.debug("Providing media element to new player."),e.provideMediaElement(r._element).catch((function(i){e.isDead()||r._provideMediaElementErrorRunCheck!==n||(r._logger.error("Error occurred providing media element to new player.",i),t(i))})),r._playerWithElement=e}},i=e.onChange.subscribe((function(e){e.playing&&n()}));this._playerListeners.set(e,i),e.getMediaElement()&&e.revokeMediaElement(),e.isPlaying()&&n()},e.prototype.unregisterPlayer=function(e){var t=this._playerListeners.get(e);t&&(t.remove(),this._playerWithElement===e&&(this._playerWithElement=null,e.getMediaElement()===this._element&&e.revokeMediaElement()),this._playerListeners.delete(e))},e.prototype.getWebAudioContext=function(){return i},e}();t.MediaElementManager=o}])},e.exports=n(r(539),r(77),r(67))},,,,,function(e,t,r){var n={DRAFT:"draft",REVIEW:"review",SENT:"sent"},i={SINGLE:"SINGLE",ALBUM:"ALBUM",EP:"EP",UNKNOWN:"UNKNOWN"},o=e.exports=r(18).extend(r(113).withOptions({read:"artwork_url",write:"artwork_data",useFormData:!1}),r(444).withOptions({attribute:"tracks",listenToChanges:!0,Collection:r(647),collectionArgs:function(){return{urn:this.getUrn()}},onCollectionCreated:function(e){var t=this;this.listenTo(e,"tracksUpdated",(function(){return t.trigger("tracksUpdated")})),this.listenTo(e,"firstTrackAdded",(function(){var e;(e=t).get("artwork_url")||a(e)}))}}),{idAttribute:"urn",resource_type:"off-platform-product",urnPrefix:"soundcloud:off-platform-products",saveWithWrapper:!1,saveFormat:"json",baseUrl:function(){return this.getEndpointUrl("offplatformProduct",{urn:this.getUrn()})},saveUrl:function(){return this.isNew()?this.getEndpointUrl("offplatformProductCreate"):this.getEndpointUrl("offplatformProductUpdate",{urn:this.getUrn()})},destroyUrl:function(){return this.getEndpointUrl("offplatformProductDelete",{urn:this.getUrn()})},distributeProduct:function(){var e=this.getEndpointUrl("offplatformProductDistribute",{urn:this.getUrn()});return this.save(r(0).pick(this.attributes,["consumer_release_date"]),{url:e})},getAttributesToBeSaved:function(){return r(0).assign(r(0).omit(this.attributes,["artwork_url","created_at","resource_type","status","updated_at","user","urn","validation_errors","has_errors_preventing_distribution","generated_barcode","product_note"]),{tracks:this.getProductTracksAttrsToBeSaved()})},getFormateName:function(){switch(this.get("product_format")){case i.SINGLE:return"Single";case i.ALBUM:return"Album";case i.EP:return"EP";case i.UNKNOWN:default:return""}},getDisplayArtist:function(){var e=this.get("artists")||[],t=r(0).find(e,(function(e){return e.role===r(188).Roles.PRIMARY}));return t&&t.name||""},getUrlIdentifier:function(){return r(53).toComponents(this.getUrn()).id},getTracksCollection:function(){return this.getSubCollection("tracks")},getProductTracksAttrsToBeSaved:function(){var e=this.getTracksCollection();return e?e.getProductTracksAttrsToBeSaved():[]},getProductNotes:function(){return((this.get("product_note")||{}).note||"").split("\n").map((function(e){return e.trim()})).filter(Boolean)},isDeletable:function(){return!!this.get("is_deletable")},isLocked:function(){return!!this.get("is_locked")},isInReview:function(){return this.get("status")===n.REVIEW},isDraft:function(){return this.get("status")===n.DRAFT},isInactive:function(){return 0===this.get("delivery_destinations").length&&!this.isDraft()},getProductStatus:function(){return this.get("status")},getScheduledDate:function(){var e=this.get("consumer_release_date");return e&&r(1).dateTimeHelper.fromString(e)||null},getScheduledDateToShow:function(){var e=this.getScheduledDate();return!this.isDraft()&&e&&e.getTime()>Date.now()?r(1).dateTimeHelper.format(e,"readable"):null},getDistributionIntentDate:function(){var e=this.get("distribution_intent_date");return e&&r(1).dateTimeHelper.fromString(e)||null},getDistributionIntentDateToShow:function(){var e=this.getDistributionIntentDate();return!this.isDraft()&&e?r(1).dateTimeHelper.format(e):null},getImageSaveUrl:function(){return this.getEndpointUrl("offplatformProductArtworkUpdate",{urn:this.getUrn()})},hasErrorsPreventingDistribution:function(){return this.get("has_errors_preventing_distribution")},getValidationErrors:function(){return this.get("validation_errors")||[]},hasProductValidationErrors:function(){return this.getValidationErrors().length>0},hasTrackValidationErrors:function(){return(this.getSubCollection("tracks")||[]).some((function(e){return e.hasValidationErrors()}))},hasValidationErrors:function(){return this.hasTrackValidationErrors()||this.hasProductValidationErrors()},getAdditionalValidity:function(){var e=this.get("artists");return e&&(r(0).flatten(e.map((function(e){return(e.validation_errors||[]).map((function(t){return t.field_name=e.role+" artist",t}))})))||[])}},{Explicit:{EXPLICIT:"explicit",NOT_EXPLICIT:"not-explicit"},Status:n,Format:i,MIN_ARTWORK_SIZE:1600,MAX_ARTWORK_SIZE:6e3,MAX_PRIMARY_ARTISTS:3,MAX_FEATURED_ARTISTS:50,createNewProduct:function(e){void 0===e&&(e=[]);var t=new o({delivery_destinations:r(141).getAllStores(),explicit:null,tracks:l(e)});if(1===e.length){var n=new(r(17))({resource_id:e[0]});t.set({title:n.get("title")}),n.release()}return t.save().then((function(e){var t=new o(e);return t.release(),r(8).trigger("create-product:success",t),t}),(function(){return r(8).trigger("create-product:error",t)})).then((function(e){return a(e).fail((function(){return e}))})).always((function(){return t.release()}))},resolve:function(e){var t=o.instances.find((function(t){return t.getUrn()===e}));if(t)return r(6).resolve(t);return r(29).callEndpoint("offplatformProduct",{urn:e}).then((function(e){var t=e.body,r=new o(t,{parse:!0});return r.release(),r}))}});function a(e){var t=e.getTracksCollection().map((function(e){return e.sound.get("artwork_url")})).filter(Boolean).map((function(e){return r(31).getOriginalFormat(e,!0)}));return r(6).all(t.map(s)).then(u).then(r(0).first).then((function(t){if(!t)return r(6).defer().resolve(e);var n=r(31).convertToJpegBase64(t);return n?e.uploadBase64Image(n).then((function(t){return e.set("artwork_url",t),e})):r(6).defer().resolve(e)}))}function s(e){return r(31).load(e,{corsImg:!0}).then(r(0).identity,(function(){return r(6).defer().resolve(null)}))}function u(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter(Boolean).filter((function(e){return e.height>=o.MIN_ARTWORK_SIZE&&e.width>=o.MIN_ARTWORK_SIZE}))}function l(e){return e.map((function(e){return{urn:r(53).fromComponents({collection:"tracks",id:e})}}))}},,,function(e,t,r){var n=e.exports=r(18).extend({resource_type:"privacy-settings",saveFormat:"json",saveWithWrapper:!1,baseUrl:function(){return this.getEndpointUrl("privacySettings")},saveUrl:function(){return this.getEndpointUrl("privacySettingsUpdate")},isNew:function(){return!1},getAttributesToBeSaved:function(){return this.pick(i)},isOptedInToTargetedAdvertising:function(){return this.get(n.TARGETED_ADVERTISING_OPT_IN)},isOptedInToAnalytics:function(){return this.get(n.ANALYTICS_OPT_IN)},isOptedInToCommunications:function(){return this.get(n.COMMUNICATIONS_OPT_IN)},isUnderLegislation:function(e){var t=this.get(n.LEGISLATION);return t&&-1!==t.indexOf(e)}},{neverRelease:!0,hashFn:function(){return 1},LEGISLATION:"legislation",ANALYTICS_OPT_IN:"analytics_opt_in",COMMUNICATIONS_OPT_IN:"communications_opt_in",TARGETED_ADVERTISING_OPT_IN:"targeted_advertising_opt_in"}),i=["allows_messages_from_unfollowed_users",n.ANALYTICS_OPT_IN,n.COMMUNICATIONS_OPT_IN,n.TARGETED_ADVERTISING_OPT_IN]},,,,,,,,function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,r){var n,i,o,a=r(775),s=r(72),u=r(110),l=r(131),c=r(105),d=r(259),f=r(260),p=s.WeakMap;if(a){var h=new p,g=h.get,y=h.has,m=h.set;n=function(e,t){return m.call(h,e,t),t},i=function(e){return g.call(h,e)||{}},o=function(e){return y.call(h,e)}}else{var _=d("state");f[_]=!0,n=function(e,t){return l(e,_,t),t},i=function(e){return c(e,_)?e[_]:{}},o=function(e){return c(e,_)}}e.exports={set:n,get:i,has:o,enforce:function(e){return o(e)?i(e):n(e,{})},getterFor:function(e){return function(t){var r;if(!u(t)||(r=i(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return r}}}},function(e,t){e.exports={}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},,function(e,t,r){var n;n=function(){var e=!0;function t(t){function r(e){var r=t.match(e);return r&&r.length>1&&r[1]||""}var n,i,o,a=r(/(ipod|iphone|ipad)/i).toLowerCase(),s=!/like android/i.test(t)&&/android/i.test(t),u=/nexus\s*[0-6]\s*/i.test(t),l=!u&&/nexus\s*[0-9]+/i.test(t),c=/CrOS/.test(t),d=/silk/i.test(t),f=/sailfish/i.test(t),p=/tizen/i.test(t),h=/(web|hpw)os/i.test(t),g=/windows phone/i.test(t),y=!g&&/windows/i.test(t),m=!a&&!d&&/macintosh/i.test(t),_=!s&&!f&&!p&&!h&&/linux/i.test(t),v=r(/edge\/(\d+(\.\d+)?)/i),b=r(/version\/(\d+(\.\d+)?)/i),w=/tablet/i.test(t),E=!w&&/[^-]mobi/i.test(t),S=/xbox/i.test(t);/opera|opr|opios/i.test(t)?n={name:"Opera",opera:e,version:b||r(/(?:opera|opr|opios)[\s\/](\d+(\.\d+)?)/i)}:/coast/i.test(t)?n={name:"Opera Coast",coast:e,version:b||r(/(?:coast)[\s\/](\d+(\.\d+)?)/i)}:/yabrowser/i.test(t)?n={name:"Yandex Browser",yandexbrowser:e,version:b||r(/(?:yabrowser)[\s\/](\d+(\.\d+)?)/i)}:/ucbrowser/i.test(t)?n={name:"UC Browser",ucbrowser:e,version:r(/(?:ucbrowser)[\s\/](\d+(?:\.\d+)+)/i)}:/mxios/i.test(t)?n={name:"Maxthon",maxthon:e,version:r(/(?:mxios)[\s\/](\d+(?:\.\d+)+)/i)}:/epiphany/i.test(t)?n={name:"Epiphany",epiphany:e,version:r(/(?:epiphany)[\s\/](\d+(?:\.\d+)+)/i)}:/puffin/i.test(t)?n={name:"Puffin",puffin:e,version:r(/(?:puffin)[\s\/](\d+(?:\.\d+)?)/i)}:/sleipnir/i.test(t)?n={name:"Sleipnir",sleipnir:e,version:r(/(?:sleipnir)[\s\/](\d+(?:\.\d+)+)/i)}:/k-meleon/i.test(t)?n={name:"K-Meleon",kMeleon:e,version:r(/(?:k-meleon)[\s\/](\d+(?:\.\d+)+)/i)}:g?(n={name:"Windows Phone",windowsphone:e},v?(n.msedge=e,n.version=v):(n.msie=e,n.version=r(/iemobile\/(\d+(\.\d+)?)/i))):/msie|trident/i.test(t)?n={name:"Internet Explorer",msie:e,version:r(/(?:msie |rv:)(\d+(\.\d+)?)/i)}:c?n={name:"Chrome",chromeos:e,chromeBook:e,chrome:e,version:r(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:/chrome.+? edge/i.test(t)?n={name:"Microsoft Edge",msedge:e,version:v}:/vivaldi/i.test(t)?n={name:"Vivaldi",vivaldi:e,version:r(/vivaldi\/(\d+(\.\d+)?)/i)||b}:f?n={name:"Sailfish",sailfish:e,version:r(/sailfish\s?browser\/(\d+(\.\d+)?)/i)}:/seamonkey\//i.test(t)?n={name:"SeaMonkey",seamonkey:e,version:r(/seamonkey\/(\d+(\.\d+)?)/i)}:/firefox|iceweasel|fxios/i.test(t)?(n={name:"Firefox",firefox:e,version:r(/(?:firefox|iceweasel|fxios)[ \/](\d+(\.\d+)?)/i)},/\((mobile|tablet);[^\)]*rv:[\d\.]+\)/i.test(t)&&(n.firefoxos=e)):d?n={name:"Amazon Silk",silk:e,version:r(/silk\/(\d+(\.\d+)?)/i)}:/phantom/i.test(t)?n={name:"PhantomJS",phantom:e,version:r(/phantomjs\/(\d+(\.\d+)?)/i)}:/slimerjs/i.test(t)?n={name:"SlimerJS",slimer:e,version:r(/slimerjs\/(\d+(\.\d+)?)/i)}:/blackberry|\bbb\d+/i.test(t)||/rim\stablet/i.test(t)?n={name:"BlackBerry",blackberry:e,version:b||r(/blackberry[\d]+\/(\d+(\.\d+)?)/i)}:h?(n={name:"WebOS",webos:e,version:b||r(/w(?:eb)?osbrowser\/(\d+(\.\d+)?)/i)},/touchpad\//i.test(t)&&(n.touchpad=e)):/bada/i.test(t)?n={name:"Bada",bada:e,version:r(/dolfin\/(\d+(\.\d+)?)/i)}:p?n={name:"Tizen",tizen:e,version:r(/(?:tizen\s?)?browser\/(\d+(\.\d+)?)/i)||b}:/qupzilla/i.test(t)?n={name:"QupZilla",qupzilla:e,version:r(/(?:qupzilla)[\s\/](\d+(?:\.\d+)+)/i)||b}:/chromium/i.test(t)?n={name:"Chromium",chromium:e,version:r(/(?:chromium)[\s\/](\d+(?:\.\d+)?)/i)||b}:/chrome|crios|crmo/i.test(t)?n={name:"Chrome",chrome:e,version:r(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:s?n={name:"Android",version:b}:/safari|applewebkit/i.test(t)?(n={name:"Safari",safari:e},b&&(n.version=b)):a?(n={name:"iphone"==a?"iPhone":"ipad"==a?"iPad":"iPod"},b&&(n.version=b)):n=/googlebot/i.test(t)?{name:"Googlebot",googlebot:e,version:r(/googlebot\/(\d+(\.\d+))/i)||b}:{name:r(/^(.*)\/(.*) /),version:(i=/^(.*)\/(.*) /,o=t.match(i),o&&o.length>1&&o[2]||"")},!n.msedge&&/(apple)?webkit/i.test(t)?(/(apple)?webkit\/537\.36/i.test(t)?(n.name=n.name||"Blink",n.blink=e):(n.name=n.name||"Webkit",n.webkit=e),!n.version&&b&&(n.version=b)):!n.opera&&/gecko\//i.test(t)&&(n.name=n.name||"Gecko",n.gecko=e,n.version=n.version||r(/gecko\/(\d+(\.\d+)?)/i)),n.msedge||!s&&!n.silk?a?(n[a]=e,n.ios=e):m?n.mac=e:S?n.xbox=e:y?n.windows=e:_&&(n.linux=e):n.android=e;var A="";n.windowsphone?A=r(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i):a?A=(A=r(/os (\d+([_\s]\d+)*) like mac os x/i)).replace(/[_\s]/g,"."):s?A=r(/android[ \/-](\d+(\.\d+)*)/i):n.webos?A=r(/(?:web|hpw)os\/(\d+(\.\d+)*)/i):n.blackberry?A=r(/rim\stablet\sos\s(\d+(\.\d+)*)/i):n.bada?A=r(/bada\/(\d+(\.\d+)*)/i):n.tizen&&(A=r(/tizen[\/\s](\d+(\.\d+)*)/i)),A&&(n.osversion=A);var P=A.split(".")[0];return w||l||"ipad"==a||s&&(3==P||P>=4&&!E)||n.silk?n.tablet=e:(E||"iphone"==a||"ipod"==a||s||u||n.blackberry||n.webos||n.bada)&&(n.mobile=e),n.msedge||n.msie&&n.version>=10||n.yandexbrowser&&n.version>=15||n.vivaldi&&n.version>=1||n.chrome&&n.version>=20||n.firefox&&n.version>=20||n.safari&&n.version>=6||n.opera&&n.version>=10||n.ios&&n.osversion&&n.osversion.split(".")[0]>=6||n.blackberry&&n.version>=10.1||n.chromium&&n.version>=20?n.a=e:n.msie&&n.version<10||n.chrome&&n.version<20||n.firefox&&n.version<20||n.safari&&n.version<6||n.opera&&n.version<10||n.ios&&n.osversion&&n.osversion.split(".")[0]<6||n.chromium&&n.version<20?n.c=e:n.x=e,n}var r=t("undefined"!=typeof navigator?navigator.userAgent:"");function n(e){return e.split(".").length}function i(e,t){var r,n=[];if(Array.prototype.map)return Array.prototype.map.call(e,t);for(r=0;r<e.length;r++)n.push(t(e[r]));return n}function o(e){for(var t=Math.max(n(e[0]),n(e[1])),r=i(e,(function(e){var r=t-n(e);return i((e+=new Array(r+1).join(".0")).split("."),(function(e){return new Array(20-e.length).join("0")+e})).reverse()}));--t>=0;){if(r[0][t]>r[1][t])return 1;if(r[0][t]!==r[1][t])return-1;if(0===t)return 0}}function a(e,n,i){var a=r;"string"==typeof n&&(i=n,n=void 0),void 0===n&&(n=!1),i&&(a=t(i));var s=""+a.version;for(var u in e)if(e.hasOwnProperty(u)&&a[u])return o([s,e[u]])<0;return n}return r.test=function(e){for(var t=0;t<e.length;++t){var n=e[t];if("string"==typeof n&&n in r)return!0}return!1},r.isUnsupportedBrowser=a,r.compareVersions=o,r.check=function(e,t,r){return!a(e,t,r)},r._detect=t,r},e.exports?e.exports=n():r(868)("bowser",n)},,,,,,,,,,,,,,,,,,,,,function(e,t,r){e.exports=r(18).extend({resource_type:"library-playlist",submodelMap:{playlist:r(43),system_playlist:r(116)},isOwned:function(){return"playlist"===this.get("type")},isLiked:function(){return"playlist-like"===this.get("type")||"system-playlist-like"===this.get("type")},isAlbum:function(){return"system-playlist-like"!==this.get("type")&&this.getAudible().isAlbum()},createSubmodel:function(){var e=this._submodels.length;r(18).prototype.createSubmodel.apply(this,arguments);var t=this._submodels.length;if(t>e){var n=this._submodels[t-1];this.listenTo(n,"destroy",this.onSubmodelDestroy)}},onSubmodelDestroy:function(){this.destroy()},getAudible:function(){var e=this.get("type");return"playlist"===e||"playlist-like"===e?r(43).instances.get(this.get("playlist").id):"system-playlist-like"===e?r(116).instances.get(this.get("system_playlist").id):void 0}},{hashFn:function(e,t){var r=e.type,n=e.user,i=e.playlist,o=e.system_playlist;return"playlist"===r||"playlist-like"===r?[r,n.id,i.id].join("_"):"system-playlist-like"===r?[r,n.id,o.id].join("_"):void 0},getModelData:function(e,t,r){var n,i={"system-playlist":"system_playlist","system-playlist-like":"system_playlist",playlist:"playlist","playlist-like":"playlist"}[t];return(n={type:t,created_at:(new Date).toISOString()})[i]={id:r},n.user={id:e},n}})},function(e,t,r){e.exports=r(18).extend(r(135).withOptions({attr:"username"}),r(924),r(273),{resource_type:"me-user",urnPrefix:"soundcloud:users",saveFormat:"json",saveWithWrapper:!1,_connections:null,setup:function(){var e=this;this.id?o(this):this.once("change:id",(function(){o(e)}))},baseUrl:function(){return this.getEndpointUrl("me")},saveUrl:function(){return this.getEndpointUrl("meUpdate")},parse:function(e){var t=r(0).clone(e);return r(0).has(t,"primary_email_confirmed")&&(t.primary_email_confirmed=!1!==t.primary_email_confirmed),void 0===t.country_code&&void 0!==t.country&&(t.country_code=r(38).countryToCode(t.country)),t},onLikesChanged:function(e){"playlist"===e.targetType?n.call(this,"playlist_likes_count",e.state):n.call(this,"likes_count",e.state)},onFollow:function(e){n.call(this,"followings_count",e.state)},onReposted:function(e){n.call(this,"reposts_count",e.state)},onComment:function(e){e.state&&n.call(this,"comments_count",!0)},onDeleteResource:function(e){var t=e.targetModel;switch(t.resource_type){case"sound":this.adjustUploadSeconds(t),this.owns("sound",t)&&i.call(this,t,!1);break;case"comment":this.owns("comment",t)&&n.call(this,"comments_count",!1)}},onPlaylistCreate:function(e){var t="private"===e.object.get("sharing")?"private_playlists_count":"playlist_count";this.set(t,(this.get(t)||0)+1)},owns:function(e,t){switch(void 0===t&&(e=(t=e).resource_type),e){case"comment":case"playlist":case"sound":var r="get"in t?t.get("user_id"):t.user_id;return this.id===r;case"me-user":case"sound-upload-edit":case"playlist-upload":case"playlist-edit":case"profile-settings":case"off-platform-product":case"off-platform-product-form":return!0}return!1},canDownload:function(e){return"sound"===e.resource_type&&(this.owns(e)&&u("v2_hq_file_storage_release")||e.isDownloadable())},getCountry:function(){var e=this.get("country_code");return e?r(38).codeToCountry(e):this.get("country")},getCountryCode:function(){var e=this.get("country");return e?r(38).countryToCode(e):this.get("country_code")},getCreatorPlan:function(){return this.getCreatorSubscription().product.id},getConsumerPlan:function(){return this.getConsumerSubscription().product.id},doesCPPConfigExist:function(){return!!this.get("cpp")},isCPPEnabled:function(){return!0===this.getCPPOption("is_enabled")},canRequestISRCGeneration:function(){return!0===this.getCPPOption("indie",!1)&&!0===this.hasMonetization()},canBulkUploadAsPlaylist:function(){return!this.isCPPEnabled()||a.call(this)},hasOnlyOneRightsholderLink:function(){return a.call(this)},getCPPOption:function(e,t){var r=this.get("cpp");return null!=(r&&r.config&&r.config[e])?r.config[e]:t},canEditMonetization:function(){return this.getCPPOption("can_edit_monetization",!0)},canEditDownloadable:function(){return this.getCPPOption("can_edit_downloadable",!0)},canEditRssEnabled:function(){return this.getCPPOption("can_edit_rss_enabled",!0)},hasGeoblocking:function(){return this.doesCPPConfigExist()||u("geo_blocking_settings")},hasMonetization:function(){return this.getCPPOption("has_monetization_form")},hasCPPRightsholder:function(){var e=this.get("cpp");return!!(e&&e.rightsholder_links&&e.rightsholder_links.some((function(e){var t=e.rightsholder_urn;return/^soundcloud:rightsholders/.test(t)})))},hasScheduling:function(){return this.isProUnlimited()},hasCreatorSub:function(){return this.isPro()||this.isProUnlimited()},isAudioPartner:function(){return this.getCPPOption("is_audio_partner",!1)},isIndiePartner:function(){return this.getCPPOption("indie",!1)},isFree:l(r(24).CREATOR_SUBSCRIPTION_FREE),isPro:l(r(24).CREATOR_SUBSCRIPTION_PRO),isProUnlimited:l(r(24).CREATOR_SUBSCRIPTION_PRO_UNLIMITED),isPremium:l(r(24).CREATOR_SUBSCRIPTION_FREE,!1),getCreatorSubscriptionIdentifier:function(){return this.isProUnlimited()?"pro_unlimited":this.isPro()?"pro":"basic"},isConfirmed:function(e){var t=(void 0===e?{}:e).viaEmail,n=void 0!==t&&t;return!r(16).isLoggedIn()||(n?!!this.get("primary_email_confirmed"):!!this.get("confirmed"))},hasHighTier:function(){return this.getConsumerPlan()===r(24).CONSUMER_SUBSCRIPTION_HIGH_TIER},hasMidTier:function(){return this.getConsumerPlan()===r(24).CONSUMER_SUBSCRIPTION_MID_TIER},hasProPlanLevel:function(){return 1===this.getPerk("planLevel")},getConsumerSubscription:function(){return this.get("consumer_subscription")||{product:{id:r(24).CONSUMER_SUBSCRIPTION_FREE,name:""}}},getCreatorSubscription:function(){return this.get("creator_subscription")||{product:{id:r(24).CREATOR_SUBSCRIPTION_FREE,name:"Free"}}},getPerk:function(e){return r(522).get(this.getCreatorPlan(),this.getConsumerPlan(),e)},getPermalink:function(){return(this.get("permalink_url")||"").replace(/^https?:.+?\w\//,"/")},getNumTracks:function(e){var t=this.get("track_count")||0,r=this.get("private_tracks_count")||0,n=this.get("blocked_tracks_count")||0,i=this.get("hidden_tracks_count")||0;switch(e){case"public":return t;case"private":return r;case"hidden":return i;case"blocked":return n;default:return t+r+i+n}},getNumPlaylists:function(e){var t=this.get("playlist_count")||0,r=this.get("private_playlists_count")||0;switch(e){case"public":return t;case"private":return r;default:return t+r}},hasPlaylists:s("playlist_count","private_playlists_count"),hasLikes:s("likes_count","public_favorites_count"),hasPlaylistLikes:s("playlist_likes_count"),hasFollowings:s("followings_count"),hasPublicSounds:s("track_count","playlist_count","reposts_count"),hasTracks:s("track_count","private_tracks_count"),hasOwnSounds:s("track_count","private_tracks_count","playlist_count","private_playlists_count"),hasSounds:s("track_count","private_tracks_count","playlist_count","private_playlists_count","reposts_count"),adjustUploadSeconds:function(e,t){var r,n,i,o=e.get("duration");o&&(r=Math.round(o/1e3)*(t?-1:1),n=this.getUploadSecondsLeft()+r,i=this.getUploadSecondsUsed()-r,this.setUploadSeconds(n,i))},setUploadSeconds:function(e,t){var n=r(0).clone(this.get("quota"));n&&(n.upload_seconds_used=t,n.unlimited_upload_quota||(n.upload_seconds_left=e),this.set("quota",n))},getUploadSecondsLeft:function(){var e=this.get("quota");if(e)return e.unlimited_upload_quota?1/0:e.upload_seconds_left},getUploadSecondsUsed:function(){var e=this.get("quota");return e?e.upload_seconds_used:0},getUploadSeconds:function(){var e=this.getUploadSecondsLeft();return e===1/0?e:e+this.getUploadSecondsUsed()},hasUnlimitedUpload:function(){return this.getUploadSecondsLeft()===1/0},getUploadMinutesLeft:function(){var e=this.getUploadSecondsLeft();return(e<0?Math.floor:Math.ceil)(e/60)},getUploadMinutesUsed:function(){return Math.floor(this.getUploadSecondsUsed()/60)},getTracksLeft:function(){var e=this.get("quota");return r(0).has(e,"upload_tracks_left")?e.upload_tracks_left:1/0},getTracksUploaded:function(){var e=this.get("quota");return e&&e.upload_tracks_used},hasTrackLimit:function(){var e=this.get("quota");return e&&!e.unlimited_upload_track_quota},isOverQuota:function(){return this.getUploadSecondsLeft()<=0||this.hasTrackLimit()&&this.getTracksLeft()<=0},isUploadingEnabled:function(){return r(16).isLoggedIn()&&this.isConfirmed({viaEmail:!0})&&!this.isOverQuota()},getRSSFeedUrl:function(){return"https://feeds.soundcloud.com/users/"+this.getUrn()+"/sounds.rss"},pollForPlanChange:function(e){void 0===e&&(e=r(0).noop);var t=this,n=t.getCreatorPlan(),i=new(r(164))({tolerance:1,giveUp:15,backoffRate:1.5,maxDelay:15e3,enabled:!1});this.listenTo(i,"enabled",(function(){t.fetch().always((function(){return i.failed()}))})),this.on(["consumer_subscription","creator_subscription"].map((function(e){return"change:"+e})).join(" "),(function(){n!==t.getCreatorPlan()&&(e.call(null),t.stopListening(i))}))}},{normalize:function(e){return e.avatar_url&&(e.avatar_url=e.avatar_url.replace("http:","https:").replace(/\?.*/,"")),e},hashFn:function(){return 1}});function n(e,t){if(this.has(e)){this.set(e,Math.max(0,this.get(e)+(t?1:-1)));var n=r(32).instances.get(this.id);n&&n.has(e)&&n.set(e,this.get(e))}}function i(e,t){n.call(this,e.isPrivate()?"private_tracks_count":"track_count",t)}function o(e){r(0).each({follow:e.onFollow,like:e.onLikesChanged,repost:e.onReposted,comment:e.onComment,destroy:e.onDeleteResource,createPlaylist:e.onPlaylistCreate},(function(t,n){e.listenTo(r(23),n+":origin:user:"+e.id,t)}))}function a(){var e=this.doesCPPConfigExist()&&this.get("cpp").rightsholder_links;if(!e||!e.length)return!0;var t=e[0].rightsholder_urn;return r(0).every(e,{rightsholder_urn:t})}function s(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(){return t.some(this.get,this)}}function u(e){return r(3).get("rollouts").get(e)}function l(e,t){return void 0===t&&(t=!0),function(){var r=this.getCreatorPlan();return r&&(t?r===e:r!==e)}}},,,,function(e,t,r){e.exports=r(30).extend(r(156).withOptions({loop:!0}),{model:r(17),baseUrl:function(){return this.getEndpointUrl("stationTracks",{urn:this.options.resource_id})},getSourceInfo:function(){return{type:"stations",resourceId:this.options.resource_id,resourceType:"station",queryUrn:this.queryUrn}},parse:function(e){var t=e.collection,r=e.query_urn;return this.queryUrn=r,t}},{hashFn:function(e,t){return t.resource_id}})},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAPCAQAAACR313BAAABO0lEQVR4AVWLTYoTURzEH72YpTAL9QqCSxeDtxivoXMAt15DD6AHENSlCDJMf+R99fRLTDS7BI0xQ9KdnkD6Z4Ei+H7vT1VRlPnzOLEX1cd8m5Nvy0/2ghMMQp8sPSq+FpRUCGlB9XnygAyjcvo4vymxBCK1LsiX5Jv5QzKzv1tNS7yKxBghrZVLRpfcMc2LQuGaHT+Z8EW3Zq/sKWiemxAsWqpExYQNyCdqLM6bqteWMU4l9KiUT2jPqDUVkYaks9wCnTShTGR0NO42UHMtfgEHYIUSNQHXm7T01GINfOfqr9bCkxZm+d4RiOxYUMrlrOQj2rL4YIanTesVLlUE4bmSl9K0wzPDWfc6Hh3+Pxzx2L7hzHDKefc2HSzuH5Z06N7xhFNDxj3Oebn6NuvjYInDrP8x55XK+2S/AYzwe7pN8liBAAAAAElFTkSuQmCC"},,function(e,t,r){e.exports=r(18).extend({setup:function(e,t){var n=t.names,i=void 0===n?[]:n,o=r(0).pick(r(3).get("rollouts").getAll(),i);this.set(o,{silent:!0})},baseUrl:function(){return this.getEndpointUrl("rollouts",{names:n(this.options.names)})},parse:function(e){var t=function(e){void 0===e&&(e=[]);return r(0).object(e.map((function(e){return[e.mnemonic,e.enabled]})))}(e),n=r(0).pick(t,(function(e){return!!e}));if(!r(0).isEmpty(n)){var i=r(0).defaults(n,r(3).get("rollouts").getAll());r(3).set("rollouts",r(533)(i))}return t}},{hashFn:function(e,t){var r=t.names;return n(void 0===r?[]:r)}});function n(e){return void 0===e&&(e=[]),r(0).uniq(e).sort().join(",")}},,function(e,t,r){var n=[{emitter:r(23),event:"comment",getInstance:function(e,t){var r=t.target;return e.options.sound_id===r},handler:function(e){var t=e.state,r=e.object;t&&!this.contains(r)&&this.onCommentCreated(r)}}];e.exports=r(30).extend(r(157).withOptions({events:n}),{model:r(83),defaults:{sound_id:null,secret_token:null},soundDuration:null,setup:function(e){var t=e.sound_id,n=new(r(17))({id:t});this.options.secret_token=n.get("secret_token"),this.soundDuration=n.duration(),n.release()},baseUrl:function(){return this.getEndpointUrl("trackComments",{id:this.options.sound_id})},parse:function(e){var t=this,r=/^http:/;return e.collection.map((function(e){return e.timestamp=t.normalizeTimestamp(e.timestamp),r.test(e.user.avatar_url)&&(e.user.avatar_url=e.user.avatar_url.replace(r,"https:")),e}))},normalizeTimestamp:function(e){return(e>this.soundDuration||e<0)&&(e=r(83).EMPTY_TIMESTAMP),e},onCommentCreated:function(e){this.add(e,{at:0})}},{hashFn:function(e,t){return t&&t.sound_id||null}})},,,,,,function(e,t,r){var n=r(193),i=r(774);(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.4.5",mode:n?"pure":"global",copyright:" 2019 Denis Pushkarev (zloirock.ru)"})},function(e,t,r){var n=r(110);e.exports=function(e,t){if(!n(e))return e;var r,i;if(t&&"function"==typeof(r=e.toString)&&!n(i=r.call(e)))return i;if("function"==typeof(r=e.valueOf)&&!n(i=r.call(e)))return i;if(!t&&"function"==typeof(r=e.toString)&&!n(i=r.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},function(e,t,r){var n=r(257),i=r(333),o=n("keys");e.exports=function(e){return o[e]||(o[e]=i(e))}},function(e,t){e.exports={}},function(e,t,r){var n=r(150),i=r(474),o=r(215),a=r(195),s=r(258),u=r(105),l=r(470),c=Object.getOwnPropertyDescriptor;t.f=n?c:function(e,t){if(e=a(e),t=s(t,!0),l)try{return c(e,t)}catch(e){}if(u(e,t))return o(!i.f.call(e,t),e[t])}},function(e,t,r){var n=r(72);e.exports=n},function(e,t,r){var n=r(336),i=Math.min;e.exports=function(e){return e>0?i(n(e),9007199254740991):0}},function(e,t,r){var n=r(337);e.exports=function(e){return Object(n(e))}},function(e,t){var r={"'":/[\u042C\u044C]/gi,"":/[\u042a\u044a]/gi,a:/[\u24D0\uFF41\u1E9A\u00E0\u00E1\u00E2\u1EA7\u1EA5\u1EAB\u1EA9\u00E3\u0101\u0103\u1EB1\u1EAF\u1EB5\u1EB3\u0227\u01E1\u00E4\u01DF\u1EA3\u00E5\u01FB\u01CE\u0201\u0203\u1EA1\u1EAD\u1EB7\u1E01\u0105\u2C65\u0250\u0410\u0430]/gi,aa:/[\uA733]/gi,ae:/[\u00E6\u01FD\u01E3]/gi,ao:/[\uA735]/gi,au:/[\uA737]/gi,av:/[\uA739\uA73B]/gi,ay:/[\uA73D]/gi,b:/[\u24D1\uFF42\u1E03\u1E05\u1E07\u0180\u0183\u0253\u0411\u0431]/gi,c:/[\u24D2\uFF43\u0107\u0109\u010B\u010D\u00E7\u1E09\u0188\u023C\uA73F\u2184]/gi,ch:/[\u0427\u0447]/gi,d:/[\u24D3\uFF44\u1E0B\u010F\u1E0D\u1E11\u1E13\u1E0F\u0111\u018C\u0256\u0257\uA77A\u0414\u0434]/gi,dz:/[\u01F3\u01C6]/gi,e:/[\u24D4\uFF45\u00E8\u00E9\u00EA\u1EC1\u1EBF\u1EC5\u1EC3\u1EBD\u0113\u1E15\u1E17\u0115\u0117\u00EB\u1EBB\u011B\u0205\u0207\u1EB9\u1EC7\u0229\u1E1D\u0119\u1E19\u1E1B\u0247\u025B\u01DD\u0415\u042D]/gi,f:/[\u24D5\uFF46\u1E1F\u0192\uA77C\u0424\u0444]/gi,g:/[\u24D6\uFF47\u01F5\u011D\u1E21\u011F\u0121\u01E7\u0123\u01E5\u0260\uA7A1\u1D79\uA77F\u0413\u0433]/gi,h:/[\u24D7\uFF48\u0125\u1E23\u1E27\u021F\u1E25\u1E29\u1E2B\u1E96\u0127\u2C68\u2C76\u0265]/gi,hv:/[\u0195]/gi,i:/[\u24D8\uFF49\u00EC\u00ED\u00EE\u0129\u012B\u012D\u00EF\u1E2F\u1EC9\u01D0\u0209\u020B\u1ECB\u012F\u1E2D\u0268\u0131\u0418\u0438]/gi,j:/[\u24D9\uFF4A\u0135\u01F0\u0249]/gi,k:/[\u24DA\uFF4B\u1E31\u01E9\u1E33\u0137\u1E35\u0199\u2C6A\uA741\uA743\uA745\uA7A3\u041A\u043A]/gi,kh:/[\u0425\u0445]/gi,l:/[\u24DB\uFF4C\u0140\u013A\u013E\u1E37\u1E39\u013C\u1E3D\u1E3B\u0142\u019A\u026B\u2C61\uA749\uA781\uA747\u041B\u043B]/gi,lj:/[\u01C9]/gi,m:/[\u24DC\uFF4D\u1E3F\u1E41\u1E43\u0271\u026F\u041C\u043C]/gi,n:/[\u24DD\uFF4E\u01F9\u0144\u00F1\u1E45\u0148\u1E47\u0146\u1E4B\u1E49\u019E\u0272\u0149\uA791\uA7A5\u041D\u043D]/gi,nj:/[\u01CC]/gi,o:/[\u24DE\uFF4F\u00F2\u00F3\u00F4\u1ED3\u1ED1\u1ED7\u1ED5\u00F5\u1E4D\u022D\u1E4F\u014D\u1E51\u1E53\u014F\u022F\u0231\u00F6\u022B\u1ECF\u0151\u01D2\u020D\u020F\u01A1\u1EDD\u1EDB\u1EE1\u1EDF\u1EE3\u1ECD\u1ED9\u01EB\u01ED\u00F8\u01FF\u0254\uA74B\uA74D\u0275\u041E\u043E]/gi,oi:/[\u01A3]/gi,ou:/[\u0223]/gi,oo:/[\uA74F]/gi,p:/[\u24DF\uFF50\u1E55\u1E57\u01A5\u1D7D\uA751\uA753\uA755\u041F\u043F]/gi,q:/[\u24E0\uFF51\u024B\uA757\uA759]/gi,r:/[\u24E1\uFF52\u0155\u1E59\u0159\u0211\u0213\u1E5B\u1E5D\u0157\u1E5F\u024D\u027D\uA75B\uA7A7\uA783\u0420\u0440]/gi,s:/[\u24E2\uFF53\u00DF\u015B\u1E65\u015D\u1E61\u0161\u1E67\u1E63\u1E69\u0219\u015F\u023F\uA7A9\uA785\u1E9B\u017F\u0421\u0441]/gi,shch:/[\u0429\u0449]/gi,sh:/[\u0428\u0448]/gi,t:/[\u24E3\uFF54\u1E6B\u1E97\u0165\u1E6D\u021B\u0163\u1E71\u1E6F\u0167\u01AD\u0288\u2C66\uA787\u0422\u0442]/gi,ts:/[\u0426\u0446]/gi,tz:/[\uA729]/gi,u:/[\u24E4\uFF55\u00F9\u00FA\u00FB\u0169\u1E79\u016B\u1E7B\u016D\u00FC\u01DC\u01D8\u01D6\u01DA\u1EE7\u016F\u0171\u01D4\u0215\u0217\u01B0\u1EEB\u1EE9\u1EEF\u1EED\u1EF1\u1EE5\u1E73\u0173\u1E77\u1E75\u0289\u0423\u0443]/gi,v:/[\u24E5\uFF56\u1E7D\u1E7F\u028B\uA75F\u028C\u0412\u0432]/gi,vy:/[\uA761]/gi,w:/[\u24E6\uFF57\u1E81\u1E83\u0175\u1E87\u1E85\u1E98\u1E89\u2C73]/gi,x:/[\u24E7\uFF58\u1E8B\u1E8D]/gi,y:/[\u24E8\uFF59\u1EF3\u00FD\u0177\u1EF9\u0233\u1E8F\u00FF\u1EF7\u1E99\u1EF5\u01B4\u024F\u1EFF\u0419\u0439\u042B\u044B]/gi,ya:/[\u042F\u044F]/gi,yo:/[\u0401\u0451]/gi,yu:/[\u042E\u044E]/gi,z:/[\u24E9\uFF5A\u017A\u1E91\u017C\u017E\u1E93\u1E95\u01B6\u0225\u0240\u2C6C\uA763\u0417\u0437]/gi,zh:/[\u0416\u0436]/gi},n=/^\[|\]$/g,i=new RegExp("["+Object.keys(r).reduce((function(e,t){return e+r[t].source.replace(n,"")}),"")+"]","i");e.exports=function(e){if(i.test(e))for(var t in r)r[t].lastIndex=0,r[t].test(e)&&(e=e.replace(r[t],t));return e.toLowerCase()}},,,,,,function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r(176);t.missing=function(e,t){return void 0===t&&(t={fetchTime:null,status:null}),{status:i.Status.Missing,entityDesc:e.desc,context:e.context,metaData:t}},t.created=function(e){return{context:e.context,status:i.Status.Created,entityDesc:e.desc,data:n({},e.properties),metaData:{fetchTime:null,status:null}}},t.deferred=function(e){return{entityDesc:e.desc,context:e.context,status:i.Status.Deferred,metaData:{fetchTime:null,status:null}}},t.valid=function(e,t,r){return{context:e.context,status:i.Status.Valid,entityDesc:e.desc,data:t,metaData:r}}},,,,,function(e,t,r){"use strict";var n=r(1044),i=r(1045),o=r(1046),a=r(1047),s=r(1048),u=r(1049),l=r(1050),c=r(1051);e.exports=T;var d=/\b((?:https?:\/\/|www\d{0,3}\.|(?:[a-z0-9\-]+\.)+[a-z]{2,4}\/)[^\s'"]*[^\s`!()\[\]{};:'".,<>?])/gi,f=/(\b(?:[0-5]?[0-9])(?::[0-5][0-9]){1,2}\b)/g,p=/([a-z0-9._%+&\-]+@[a-z0-9.\-]+\.[a-z]{2,24})/gi,h=/(\s|[^\w/]|^)@([\w\-]+)/g,g=/( |^)(#([\w-]+))/gm,y=/^((?:https?:\/\/)?(?:www\.|m\.)?soundcloud\.com)\/?|^\//i,m=/^((?:https?:\/\/)?([a-z0-9-]+\.)*soundcloud\.com)(?:\/|$)/i,_=/^(?:ht|f)tps?:\/\//i,v=/(?:[ \t]*\r?\n[ \t]*){2,}/,b=/<\/p>/g,w=/<br\s*\/?>/g,E=/<\/?[a-z].*?>/gi,S=/\r?\n/g,A=/[ \t]{2,}/g,P=/[\r\n]+/g,I=/<a\s+[^>]*?href=(['"]([^'"\s]+)['"]|[^'"\s]+)[^>]*?>(.+?)<\/a>/gi,M={paragraphs:!0,links:!0,externalLinks:!0,internalLinks:!0,userLinks:!0,deepLinks:!1,whitelist:[],internalLinksBaseUrl:"/",isOpeningNewWindow:!1,maxLength:null,truncateExternalLinks:!0,maxExternalLinksLength:50,hashtagLinks:!0,splitWordsAtLength:null,redirectorPattern:null,addChecksum:null};function T(e,t){var r=n({},M,t),k=r.links,C=r.userLinks,x=r.internalLinks,D=r.externalLinks,O=r.deepLinks,R=r.escapeExpression,L=r.hashtagLinks,N=r.internalLinksBaseUrl,j=r.isOpeningNewWindow,F=r.maxExternalLinksLength,U=r.maxLength,B=r.paragraphs,z=r.splitWordsAtLength,H=r.whitelist,G=r.redirectorPattern,V=r.addChecksum,q=!1!==R;if("string"!=typeof e)return"";k?C||x||D||(k=!1):C=x=D=!1;var W=k?u():{},Y=W.flatten,Z=W.addPlaceholder;return d.lastIndex=h.lastIndex=p.lastIndex=0,e=i(e),k&&(e=e.replace(I,(function(e,t,r,n){var i=r||t;return Z(i,n!==i?n:null)})).replace(d,(function(e,t){return Z(t)})).replace(p,(function(e,t){return Z("mailto:"+t)}))),e=e.replace(b,"\n\n").replace(w,"\n").replace(A," "),e=H&&H.length?e.replace(new RegExp("<(?!\\s*\\/?("+H.join("|")+")\\b)[^>]*>","ig"),""):e.replace(E,""),q&&(e=o(e)),k&&(e=Y(e=e,(function(e,t){var i={},s="",u=_.test(e)?e:"http://"+e,l=0===e.indexOf("mailto:"),d=x&&y.test(e);if(l)i.href=e,i.text=e.replace("mailto:","");else if(d)i.href=e.replace(y,N),i.text=e.replace(_,"");else if(D){var f=m.test(u);i.href=f?u:a(G,u,m),f||(i.title=u,i.rel="nofollow ugc"),i.text=c(e,F,_),i.target="_blank"}else i.href=e;t&&(q?s=T(t,n({},r,{paragraphs:!1,splitWordsAtLength:0})).trim()+(/[!?:;.]$/.test(t)?" ":": "):i.text=t);var p=o(i.href);return l||d||!D||m.test(u)||!G||"function"!=typeof V||(p=V(p,u)),s+(i.text?'<a href="'+p+'"'+(i.rel?' rel="'+i.rel+'"':"")+(i.target?' target="'+i.target+'"':"")+(i.title?' title="'+o(i.title)+'"':"")+">"+(q?o(i.text):i.text)+"</a>":p)})),C&&(e=e.replace(h,'$1@<a href="'+N+'$2"'+(j?' target="_blank"':"")+">$2</a>")),L&&(e=e.replace(g,'$1<a href="/tags/$3">$2</a>')),O&&(e=e.replace(f,'<a href="#t=$1">$1</a>'))),U&&(e=s(e,U)),z>0&&(e=l(e,z)),e=B?e.split(v).map((function(e){return"<p>"+e.trim().replace(S,"<br>")+"</p>"})).join(""):e.replace(P," ").replace(A," ")}function k(e,t){var r=e;return t&&t.redirectorPattern&&(r=a(t.redirectorPattern,e,m)),t&&t.redirectorPattern&&"function"==typeof t.addChecksum&&r!==e&&(r=t.addChecksum(r,e)),r}T.redirectLink=k,T.withDefaults=function(e){var t=n({},M,e),r=function(e,r){return T(e,r?n({},t,r):t)};return r.redirectLink=function(e,r){return k(e,r?n({},t,r):t)},r}},,,,,,function(e,t,r){e.exports=r(30).extend({model:r(32),setup:function(){r(16).isLoggedIn()||this.setToFullyPopulated()},comparator:function(e){return e.get("username").toLowerCase()},baseUrl:function(){return this.getEndpointUrl("shortcutsFollowings")},parse:function(e){var t=e.collection,n=r(3).get("me").id;return n&&t.unshift({id:n}),t}},{hashFn:function(){return r(3).get("me").get("id")}})},,,,,function(e,t,r){e.exports=r(51).extend(r(368),r(186),{resource_type:"restricted-audible-edit",requiredModelAttributes:["description","purchase_title","purchase_url"],actions:{default:"save",save:function(){return n.call(this)},cancel:function(){this.cancel()},retry:function(){return n.call(this)}},fields:{buyLink:{defaultValue:""},buyTitle:{defaultValue:"Buy"},description:{defaultValue:""}},buttons:{save:{label:r(1).t("Save changes"),pendingLabel:r(1).t("Saving"),action:"save"},cancel:{label:r(1).t("Cancel"),action:"cancel"},retry:{label:r(1).t("Retry"),action:"retry"}},constraints:{buyLink:[[r(250),{strict:!1}]],buyTitle:[[r(367)]],description:[[r(68),{maxLength:4e3,message:r(1).t("Playlist description must not exceed 4000 characters")}]]},constraintConditions:{buyTitle:{fields:[],check:function(){return r(3).get("me").getPerk("customBuyTitle")}}},setup:function(e,t){var n=t.resource_id,o=t.resource_type;this._audible="restricted-playlist-edit"===o?new(r(43))({id:n}):new(r(17))({id:n});var a=this.requiredModelAttributes.map((function(e){return"change:"+e}));this.listenTo(this._audible,a.join(" "),i),this._audible.attrExists(this.requiredModelAttributes)?this.setToModelAttributes():this._audible.fetch({attrs:this.requiredModelAttributes}).fail((function(){return r(158).raise({fatal:!0})}))},saveEdits:function(){var e=this.getAudible(),t=this.getAttributesToBeSaved(),n="restricted-playlist-edit"===this.options.resource_type,i=n?{id:e.id}:{urn:e.get("urn")},s=n?{playlist:t}:{track:t},u=n?"feedPlaylistUpdate":"feedTrackUpdate";return r(29).callEndpoint(u,i,null,null,s).then(o.bind(this,t),a.bind(this))},getAudible:function(){return this._audible},getAttributesFromModel:function(){var e=this.getAudible();return{buyLink:e.get("purchase_url"),buyTitle:e.get("purchase_title")||this.getFieldMetadata("buyTitle").defaultValue,description:e.get("description")}},getAttributesToBeSaved:function(){var e=this.get("buyLink");return{purchase_url:e?r(19).normalize(e):"",purchase_title:this.get("buyTitle")||"",description:this.get("description")||""}},cancel:function(){this.set("errorMessage",""),this.set(this.getAttributesFromModel()),this.markFieldsClean(),this.trigger("canceled")},saveCleanup:function(e){this.markFieldsClean()}},{hashFn:function(e,t){return e.resource_id||t&&t.resource_id||e.id||null}});function n(){var e=this;this.validate().then((function(t){return t?(e.set("editing",!1),e.saveEdits()):r(6).reject()}))}function i(){this.isDirty()||this.setToModelAttributes()}function o(e){this.getAudible().set(e),this.trigger("saved")}function a(e){this.set({errorMessage:this.getErrorMessageTemplate("save",this.getAudible().get("kind"),this.extractErrorMessage(e))})}},,function(e,t,r){var n=new(r(44))("already-seen");e.exports=r(18).extend({resource_type:"announcement",defaults:{key:"",message:"",dismissable:!0},fetch:function(){0},dismiss:function(){this.trigger("destroy",this)},isAlreadySeen:function(){return 1===n.get(this.get("key"))},markAsSeen:function(){n.set(this.get("key"),1)}},{hashFn:function(e){var t=e.id,r=e.key;return t||r||null}})},,function(e,t,r){r(1786);var n=r(1787),i=r(401),o=r(1801),a=r(347),s=r(622),u=r(402),l=r(1803),c=r(623),d=r(1806),f=window,p=s.ERROR,h=s.OPEN,g=s.DATA,y=s.ACTION,m=s.DISPOSE,_=s.PUBLISH,v=s.PUBLISH_EVENT,b={withCredentials:!1,json:!1,singleConnection:!0,debug:!1,authorization:null,registrationId:void 0,heartbeatTimeoutMs:null,connected:!0},w=void 0,E="trinity-owner";e.exports={SCMessages:d,Events:s,getInstance:function(e,t,r){return w||(w=function(e,t,r){if(!e||!t)throw new Error("Need a publish & event endpoint URL");var s=i({},b,r),S=s.withCredentials,A=s.json,I=s.singleConnection,M=s.debug,T=s.authorization,k=s.registrationId,C=s.heartbeatTimeoutMs,x=s.connected,D=Math.random().toString(16).substr(2),O=a({enabled:M,buffer:!0,label:"trinity"}),R=void 0,L=void 0,N=void 0,j=!!x,F=void 0,U=!I||!function(){try{var e=f.localStorage,t=Date.now();if(e.getItem)return e.setItem(t,t),e.removeItem(t),!0}catch(e){}return!1}(),B=i({},u,{publish:ne,publishEvent:ie,dispose:V,disconnect:G,reconnect:H});z(),M&&B.on(h,O.info.bind(null,"Connection open")).on(y,O.info.bind(null,"Received action")).on(p,O.error.bind(O,"Error"));return function(){C&&B.on(y,(function(e){e===d.actions.HEARTBEAT&&Z()}))}(),function(){l.on("meta",(function(e){!0===e.connected?H():!1===e.connected&&G()}))}(),B;function z(){j&&(J()?(O("Init in single connection mode",D),C&&Z(),de(),ce()?(O("Attaching to already existing connection",ce()),l.on(g,(function(e){B.trigger(g,e)})).on(y,(function(e){B.trigger(y,e)})).on(m,(function(){window.setTimeout(z,200*Math.random())}))):(O("Becoming connection owner"),c.set(E,D),$())):(O("Init in plain mode"),$()))}function H(){if(!j){var e=15e3*Math.random();O("Reconnecting"),j=!0,F=f.setTimeout((function(){z(),se("meta",{connected:j})}),e)}}function G(){j&&(O("Disconnecting"),j=!1,f.clearTimeout(F),W(),se("meta",{connected:j}))}function V(){Y(!0),w=null}function q(){W(),z()}function W(){Y(!1)}function Y(e){O("Disposing instance: unregistering window events & clearing timeouts"),f.onbeforeunload=N,N=null,M&&delete f.SCBananaBus,f.clearTimeout(L),K()?(O("Closing connection"),R.dispose(),R=null,J()&&(O("Clearing single connection lock if it is mine"),le()&&ue(),e&&(O("Broadcasting dispose event"),se(m,null)))):de()}function Z(){f.clearTimeout(L),L=f.setTimeout(Q,C)}function Q(){O("Heartbeat timed out. Will cleanup lock & re-init..."),ue(),q()}function J(){return!U}function K(){return!!R}function X(){return!K()&&J()}function $(){if(R)throw new Error("Can't initialize client twice");(R=new o({eventUrl:t,withCredentials:S,log:O,json:A})).on(h,ee).on(g,oe).on(p,te),function(){f.onbeforeunload&&(N=f.onbeforeunload);f.onbeforeunload=re,M&&(f.SCBananaBus=B)}(),J()&&l.on(_,(function(e){ne(e)})).on(v,(function(e){ie(e)}))}function ee(e){O("Handling SSE open (first bit of event stream received)"),ae(h,R.getEventSourceReadyState())}function te(e){O.error("Handling SSE error"),ae(p,e)}function re(){N&&N(),V()}function ne(t){if("object"!=typeof t)throw new Error("BananaBus: can only publish Object-payload");var r,i;X()?se(_,t):le()?(O("Sending payload to publish endpoint:",t),r=t,i=T,n({url:e,data:JSON.stringify(r),type:"POST",dataType:"text",beforeSend:function(e){i&&e.setRequestHeader("Authorization","OAuth "+i)}})):(O.warn("Attempting to publish when not parent. Owner is %s. Giving up SSE connection.",ce()),q())}function ie(e){X()?se(v,e):ne(function(e){if(P(e))return d.createMessage(k);O("Can not generate payload for unknown event type:",e)}(e))}function oe(e){if(!le())return O.warn("Received SSE event while not owner. Owner is %s. Giving up SSE connection.",ce()),void q();var t=d.parseAction(e);O("Handling SSE message"),ae(g,e),t&&ae(y,t)}function ae(e,t){B.trigger(e,t),K()&&J()&&se(e,t)}function se(e,t){O.info("broadcasting",e,t),l.broadcast(e,t)}function ue(){c.remove(E)}function le(){return ce()===D}function ce(){return c.get(E)}function de(){l.off(_+" "+v+" "+g+" "+y+" "+m)}}(e,t,r))}};var S,A,P=(A=d.events,S=Object.keys(A).map((function(e){return A[e]})),function(e){return S.indexOf(e)>-1})},,,,,function(e,t,r){e.exports=r(18).extend({resource_type:"off-platform-track",defaults:{product_urn:null,urn:null,artists:[],metadata_language:null,performance_language:null,track_version:null,validation_errors:[]},setup:function(e){var t=this;e.urn,e.product_urn;this.sound=new(r(17))({id:this.getSoundId(),user_id:r(3).get("me").id}),this.addSubmodel(this.sound),["change","sync"].forEach((function(e){return t.listenTo(t.sound,e,(function(){return t.trigger(e)}))}))},getSoundId:function(){return r(53).getAsAttributes(this.get("urn")).id},getSound:function(){return this.sound},getAttributesToBeSaved:function(){return r(0).omit(r(0).clone(this.attributes),"product_urn","validation_errors")},hasValidationErrors:function(){return this.get("validation_errors").length>0},fetch:function(){}},{hashFn:function(e){var t=e.id,r=e.resource_id,n=e.urn,i=e.product_urn;return t||r||n+"_"+i}})},function(e,t,r){e.exports=r(30).extend(r(156),{model:r(17),getSourceInfo:function(){return{type:this.options.tracking_feature_name,queryUrn:this.options.query_urn,urn:this.options.urn,resourceId:this.options.urn,resourceType:"system-playlist"}},setup:function(){var e=this;this.on("error",(function(t,n,i){n instanceof r(223)&&e.remove(t)}))},getDuration:function(){return this.models.reduce((function(e,t){return e+(t.duration()||0)}),0)},baseUrl:function(){return this.getEndpointUrl("systemPlaylist",{urn:this.options.urn})},parse:function(e){if(this.setToFullyPopulated(),r(0).isArray(e))return e;if(r(0).isArray(e.tracks))return this.options.query_urn=e.query_urn,this.options.tracking_feature_name=e.tracking_feature_name,e.tracks;throw new Error("Could not parse system playlists track data")}},{hashFn:function(e,t){var r=t.resource_id,n=t.urn;return r||n}})},,,,,,function(e,t,r){(function(t){var n=["amex","discover","mastercard","visa","other","paypal","google-play","apple"];e.exports=r(18).extend({resource_type:"active-consumer-subscription",baseUrl:function(){return this.getEndpointUrl("paymentsConsumerSubscriptionsActive")},parse:function(e){return e.expires_at&&(e.expires_at=new Date(e.expires_at)),e},isEligible:function(){return!!this.get("is_eligible")},isFree:function(){return"free"===this.getPlan()},isRecurring:function(){return!!this.get("recurring")},isStudentPlan:function(){return"soundcloud:payments:discounts:consumer-subscription:student"===this.get("discount")},isTrial:function(){return!!this.get("trial")},isHighTier:function(){return"high"===this.getTier()},isMidTier:function(){return"mid"===this.getTier()},isPayPalPurchase:function(){return"paypal"===this.getPaymentKind()},isApplePurchase:function(){return"apple"===this.getPaymentKind()},isGooglePlayPurchase:function(){return"google-play"===this.getPaymentKind()},hasPaidPaymentKind:function(){return r(0).contains(n,this.getPaymentKind())},getPaymentKind:function(){return this.get("last_payment")&&this.get("last_payment").method.kind},getPlan:function(){return this.get("package")&&this.get("package").plan},getPrice:function(){return this.get("package")&&this.get("package").price},getPrettyPrice:function(){var e=this.getPrice();if(!e||null===e.amount)return null;var t=e.amount,n=e.currency;return r(1).priceHelper.format(t,n)},getExpiryDate:function(){return this.get("expires_at")},getTerm:function(){return this.get("package")&&this.get("package").term},getVendor:function(){return this.get("package")&&this.get("package").vendor},getTitle:function(){return this.isFree()?r(1).t("Free"):this.isHighTier()?r(1).t("SoundCloud Go+"):r(1).t("SoundCloud Go")},getTier:function(){return this.get("package")&&this.get("package").tier},isFromMothership:function(){return"mothership"===this.getVendor()},cancel:function(){var e=this;return t.ajax({url:r(29).getUrlForEndpoint("paymentsOptOutOfActiveSubscription"),type:"DELETE"}).then((function(){e.trigger("cancel:success")}),(function(){e.trigger("cancel:error")}))},invalidatePackage:function(){this.unset("package")}})}).call(this,r(13))},,,,,,,,,function(e,t,r){var n=e.exports=r(30).extend({model:r(160),currentConversationId:null,baseUrl:r(201).baseUrl,setup:function(){this.listenTo(r(8),"new-unread-messages",a).listenTo(this,"change:last_message",this.sort)},getCurrentConversationId:function(){return this.currentConversationId},fetch:function(e){var t=this;return r(30).prototype.fetch.apply(this,arguments).done((function(){e&&e.reset&&t.trigger("new-conversations-added")}))},setCurrentConversationId:function(e){e!==this.currentConversationId&&(this.currentConversationId=e,this.trigger("change:currentConversationId",{currentConversationId:e}))},comparator:function(e,t){return t.lastMessageSentAt()-e.lastMessageSentAt()}},{hashFn:function(){return 1},neverRelease:!0,send:function(e,t,n){return r(201).post(e.id,t).done(i.bind(this,e,n)).fail(o.bind(this,e))}});function i(e,t,i){var o=r(689).instances.get(i.id),a=new n;o&&o.add(i.last_message),a.add(i,{userAction:!0,merge:!0});var s=r(160).getInstance({id:i.id});s&&s.markAsRead(),r(8).trigger("new-message:sent",{recipient:e,showSuccessMessage:t}),r(11).trackV0Click(["messages","new-message-sent"])}function o(e,t){var n=t.responseText,i=function(e){return n.indexOf(e)>-1},o=n?i("confirmed their address")?"emailnotconfirmed":i("sender must be followed")?"privacy":i("receiver blocked sender")?"youareblocked":i("rate limit")?"ratelimit":i("receiver does not exist")?"receiverdoesntexist":"default":"default";r(8).trigger("new-message:failed",{errorCode:o,recipient:e})}function a(e){var t=this;e.reduce((function(e,r){return t.get(r)||(t.add({id:r},{at:0}),e++),e}),0)&&this.trigger("new-conversations-added")}},,,,,,,,,function(e,t,r){e.exports=r.p+"assets/images/loader-db80c58f.gif"},,,,,,,,,function(e,t,r){var n={};n[r(79)("toStringTag")]="z",e.exports="[object z]"===String(n)},function(e,t,r){var n=r(72),i=r(131);e.exports=function(e,t){try{i(n,e,t)}catch(r){n[e]=t}return t}},function(e,t,r){var n=r(72),i=r(110),o=n.document,a=i(o)&&i(o.createElement);e.exports=function(e){return a?o.createElement(e):{}}},function(e,t){var r=0,n=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++r+n).toString(36)}},function(e,t,r){var n=r(109);e.exports=!!Object.getOwnPropertySymbols&&!n((function(){return!String(Symbol())}))},function(e,t,r){var n=r(257),i=Function.toString;e.exports=n("inspectSource",(function(e){return i.call(e)}))},function(e,t){var r=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?n:r)(e)}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e}},function(e,t,r){var n=r(477),i=r(339).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return n(e,i)}},function(e,t){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(e,t,r){var n=r(121),i=r(784),o=r(339),a=r(260),s=r(483),u=r(332),l=r(259)("IE_PROTO"),c=function(){},d=function(){var e,t=u("iframe"),r=o.length;for(t.style.display="none",s.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),d=e.F;r--;)delete d.prototype[o[r]];return d()};e.exports=Object.create||function(e,t){var r;return null!==e?(c.prototype=n(e),r=new c,c.prototype=null,r[l]=e):r=d(),void 0===t?r:i(r,t)},a[l]=!0},function(e,t,r){var n=r(218);e.exports=function(e,t,r){if(n(e),void 0===t)return e;switch(r){case 0:return function(){return e.call(t)};case 1:return function(r){return e.call(t,r)};case 2:return function(r,n){return e.call(t,r,n)};case 3:return function(r,n,i){return e.call(t,r,n,i)}}return function(){return e.apply(t,arguments)}}},function(e,t,r){"use strict";var n=r(218),i=function(e){var t,r;this.promise=new e((function(e,n){if(void 0!==t||void 0!==r)throw TypeError("Bad Promise constructor");t=e,r=n})),this.resolve=n(t),this.reject=n(r)};e.exports.f=function(e){return new i(e)}},function(e,t,r){var n,i,o=r(72),a=r(489),s=o.process,u=s&&s.versions,l=u&&u.v8;l?i=(n=l.split("."))[0]+n[1]:a&&(!(n=a.match(/Edge\/(\d+)/))||n[1]>=74)&&(n=a.match(/Chrome\/(\d+)/))&&(i=n[1]),e.exports=i&&+i},function(e,t,r){var n=r(194);e.exports=Array.isArray||function(e){return"Array"==n(e)}},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},,function(e,t,r){"use strict";e.exports=function(){var e=d.apply(void 0,arguments),t=e.enabled,r=void 0===t||t,o=e.buffer,u=void 0!==o&&o,f=e.label,p=void 0===f?"":f,h=e.plainOutput,g=void 0!==h&&h,y=e.bufferSize,m=void 0===y?1e3:y;if(!c())return P(n.reduce((function(e,t){return e[t]=e}),(function(){})));i.CL||(i.CL={_cssCounter:0});var _=!g&&function(){if("undefined"==typeof navigator)return!1;var e=navigator.userAgent;return/chrome|firefox|opr/i.test(e)&&!/msie|edge/i.test(e)}(),v=null,b=[],w=function(e,t){return(t?"%c":"")+(e||"")}(p,_),E=_?["color: green","color: grey","color: blue","color: grey",l(p),""]:[];return i.CL[p]=P(n.reduce((function(e,t){return e[t]=S.bind(null,t),e}),S.bind(null,"log")));function S(e,t){if(r){for(var n=arguments.length,o=Array(n>2?n-2:0),a=2;a<n;a++)o[a-2]=arguments[a];"string"==typeof t?t=" "+t:(o.unshift(t),t="");var s=[A()+" | "+w+(_?"%c":"")+t].concat(E,o);u?b.push({level:e,logArgs:s})>m&&b.shift():i[e].apply(i,s)}}function A(){var e=new Date,t=null===v?0:e-v,r=_?"%c":"";return v=+e,r+function(e){return s(e.getHours())+":"+s(e.getMinutes())+":"+s(e.getSeconds())+"."+a(e.getMilliseconds(),"0",3)}(e)+(r+" (")+r+a("+"+t+"ms"," ",8)+r+")"}function P(e){return e.enable=function(){r=!0},e.disable=function(){r=!1},e.bufferOn=function(){u=!0},e.bufferOff=function(){u=!1,b.length=0},e.flush=c()?function(){b.forEach((function(e){var t=e.level,r=e.logArgs;i[t].apply(i,r)})),b.length=0}:function(){},e}};var n=["log","info","warn","error"],i="undefined"!=typeof console?console:null,o=["color:#fff","border-radius:3px","padding:2px 4px","font-family:sans-serif","text-transform:uppercase","font-size:9px"].join(";")+";";function a(e,t,r){return n=t,((i=r-(""+e).length)>0?new Array(i+1).join(n):"")+e;var n,i}function s(e){return a(e,"0",2)}var u,l=(u=["#51613C","#447848","#486E5F","#787444","#6E664E"],function(e){return e?"background:"+u[i.CL._cssCounter++%u.length]+";"+o:""});function c(){return i&&n.every((function(e){return"function"==typeof i[e]}))}function d(){var e=arguments.length<=0||void 0===arguments[0]||arguments[0],t=arguments.length<=1||void 0===arguments[1]?"":arguments[1];return"object"==typeof e&&e||{enabled:e,label:t}}},,,,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.LocalNoCreate=0]="LocalNoCreate",e[e.LocalOnly=1]="LocalOnly",e[e.ForceNetwork=2]="ForceNetwork",e[e.LocalThenNetwork=3]="LocalThenNetwork"}(t.V2LoadStrategy||(t.V2LoadStrategy={}))},,,,,,function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48dGl0bGU+Q2xvc2U8L3RpdGxlPjxwYXRoIGQ9Ik0xMCA4LjU0NUwzLjQ1NSAyIDIgMy40NTUgOC41NDUgMTAgMiAxNi41NDUgMy40NTUgMTggMTAgMTEuNDU1IDE2LjU0NSAxOCAxOCAxNi41NDUgMTEuNDU1IDEwIDE4IDMuNDU1IDE2LjU0NSAyIDEwIDguNTQ1eiIgZmlsbD0iIzMzMyIgZmlsbC1ydWxlPSJldmVub2RkIi8+PC9zdmc+Cg=="},,,,,,,function(e,t,r){var n;window,n=function(e){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=2)}([function(t,r){t.exports=e},function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var o=r(0),a=function(e){function t(t,r,n){void 0===r&&(r={}),void 0===n&&(n=2e4);var i=e.call(this)||this;if(i._responseStarted=!1,n<0)throw new Error("Invaid timeout.");if(i._timeoutTimer=window.setTimeout((function(){return i._onManualTimeout()}),n),i._xhr=new XMLHttpRequest,i._xhr.addEventListener("load",(function(){return i._onLoad()})),i._xhr.addEventListener("abort",(function(){return i._onAbort()})),i._xhr.addEventListener("error",(function(e){return i._onError(e)})),i._xhr.addEventListener("timeout",(function(){return i._onTimeout()})),i._xhr.addEventListener("loadend",(function(){return i._onLoadEnd()})),i._xhr.addEventListener("progress",(function(){return i._onProgress()})),i._xhr.open("GET",t,!0),i._xhr.timeout=n,!i._getResponseType().some((function(e){return i._xhr.responseType=e,i._xhr.responseType===e})))throw new Error("Failed setting response type.");return Object.keys(r).forEach((function(e){return i._xhr.setRequestHeader(e,r[e])})),i._signalRequestStart(),i._xhr.send(),i}return i(t,e),t.prototype._abort=function(){this._xhr.abort()},t.prototype._onAbort=function(){this.hasCompleted()||this._onTimeout()},t.prototype._onManualTimeout=function(){this.hasCompleted()||(this._signalTimeout(),this._xhr.abort())},t.prototype._onTimeout=function(){this.hasCompleted()||this._signalTimeout()},t.prototype._onLoad=function(){if(!this.hasCompleted()){if(!this._isChunkedResponse()){var e=this._xhr;this._provideStatusAndHeaders({statusCode:e.status,headers:this._parseHeaders(e.getAllResponseHeaders()||"")},e.response)}this.hasCompleted()||this._finalize()}},t.prototype._onError=function(e){switch(this.getState()){case o.loader.ResponseState.COMPLETED:case o.loader.ResponseState.ERRORED:break;case o.loader.ResponseState.PENDING:if(0===this._xhr.status){this._provideStatusAndHeaders({statusCode:0,headers:{}},this._getEmptyData()),this._finalize();break}default:this._finalize(new o.loaderErrors.LoaderError("An error occurred.",e))}},t.prototype._onLoadEnd=function(){window.clearTimeout(this._timeoutTimer),this.hasCompleted()||this._finalize(new o.loaderErrors.LoaderError("Unexpected error occurred."))},t.prototype._onProgress=function(){if(!this.hasCompleted()){var e=this._xhr;this._isChunkedResponse()&&(this._responseStarted?this._providePart(e.response):(this._responseStarted=!0,this._provideStatusAndHeaders({statusCode:e.status,headers:this._parseHeaders(e.getAllResponseHeaders()||"")},e.response)))}},t.prototype._isChunkedResponse=function(){return"moz-chunked-arraybuffer"===this._xhr.responseType},t.prototype._parseHeaders=function(e){var t={};if(!e)return t;for(var r=e.split("\r\n"),n=0,i=r.length;n<i;n++){var o=r[n],a=o.indexOf(": ");if(a>0){var s=o.substring(0,a).trim(),u=o.substring(a+2);t[s]=u}}return t},t}(o.loader.LoaderRequest);t.LoaderRequest=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.version="29.5.1",t.buildNumber=1996;var n=r(3);t.stringLoader=n.stringLoader;var i=r(5);t.arrayBufferLoader=i.arrayBufferLoader,t.ArrayBufferLoader=i.ArrayBufferLoader},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(4);t.stringLoader={request:function(e){var t=e.url,r=e.headers,i=e.timeout;return new n.StringLoaderRequest(t,r,i)}}},function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var o=r(1),a=["text"],s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype._getResponseType=function(){return a},t.prototype._getEmptyData=function(){return""},t.prototype._reduceParts=function(e){return e.join("")},t}(o.LoaderRequest);t.StringLoaderRequest=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(6),i=r(7),o=function(){function e(e){var t=(void 0===e?{}:e).fetchEnabled,r=void 0===t||t;this._fetchEnabled=r}return e.prototype.request=function(e){var t=e.url,r=e.headers,o=e.timeout;return this._fetchEnabled&&i.ArrayBufferLoaderRequest.isSupported()?new i.ArrayBufferLoaderRequest(t,r,o):new n.ArrayBufferLoaderRequest(t,r,o)},e}();t.ArrayBufferLoader=o,t.arrayBufferLoader=new o},function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var o=r(0),a=r(1),s=o.helpers.browser.getFirefoxVersion(),u=s&&s.major>=60?["moz-chunked-arraybuffer","arraybuffer"]:["arraybuffer"],l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype._getResponseType=function(){return u},t.prototype._getEmptyData=function(){return new ArrayBuffer(0)},t.prototype._reduceParts=function(e){return o.helpers.arrayBuffer.combine(e.map((function(e){return new Uint8Array(e)}))).buffer},t}(a.LoaderRequest);t.ArrayBufferLoaderRequest=l},function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var o=r(0),a=o.helpers.browser.isFirefox(),s=function(e){function t(r,n,i){void 0===n&&(n={}),void 0===i&&(i=2e4);var a=e.call(this)||this;if(!t.isSupported())throw new Error("Not supported.");var s=a._abortController=new AbortController,u=new Request(r,{headers:n,redirect:"follow",signal:s.signal});a._signalRequestStart();var l=a._abortTimer=window.setTimeout((function(){a._signalTimeout(),a._abort()}),i),c=fetch(u).then((function(e){var t={};if(e.headers.forEach((function(e,r){return t[e]=r})),a._provideStatusAndHeaders({statusCode:e.status,headers:t},new ArrayBuffer(0)),e.body){var r=e.body.getReader(),n=function(){return r.read().then((function(e){var t=e.done,r=e.value;if(!t&&!a.hasCompleted())return a._providePart(r.buffer),n()}))};return n()}return e.arrayBuffer().then((function(e){e&&a._providePart(e)}))})).then((function(){a.hasCompleted()||a._finalize()})).catch((function(e){if(!a.hasCompleted()){var t=e instanceof o.loaderErrors.LoaderError?e:new o.loaderErrors.LoaderError(e);a._finalize(t)}}));return o.helpers.always(c,(function(){return window.clearTimeout(l)})),a}return i(t,e),t.isSupported=function(){return"fetch"in window&&"Request"in window&&"AbortController"in window&&!a},t.prototype._abort=function(){window.clearTimeout(this._abortTimer),this._abortController.abort()},t.prototype._reduceParts=function(e){return o.helpers.arrayBuffer.combine(e.map((function(e){return new Uint8Array(e)}))).buffer},t}(o.loader.LoaderRequest);t.ArrayBufferLoaderRequest=s}])},e.exports=n(r(77))},,,,,,function(e,t,r){e.exports=r(18).extend({baseUrl:function(){return this.getEndpointUrl("territoriesWhichRequireExplicitRightsholder",{},{isrc:this.id})},parse:function(e){return{territories:e}}},{hashFn:function(e){var t=e.id,r=void 0===t?"":t;return e.resource_id||"isrc:"+r}})},,function(e,t,r){e.exports=r(30).extend({model:r(160),notificationType:"unreadConversations",defaults:{limit:20},setup:function(){this.listenTo(r(120)[this.notificationType],"pollIntervalChange",o).listenTo(r(8),"conversation:read",s).listenTo(r(8),"conversation:unread",u)},baseUrl:function(){return r(120)[this.notificationType].get("baseUrl")()},startPolling:function(){var e=this;if(!this._isPolling){var t=this._breaker=new(r(164))(i.call(this)),n=function n(){e._isPolling&&(window.clearTimeout(e._pollingId),e.fetch({reset:!0,remove:!0,priority:r(130).RequestPriorities.LOW}).done((function(){t.succeeded(),e._pollingId=window.setTimeout(n,t.currentDelay())})).fail((function(e){e.status>=400&&e.status<500?t.disable({autoEnable:!1}):t.failed()})))};this._isPolling=!0,this._breaker.on("enabled",n),n()}},stopPolling:function(){this._isPolling&&(window.clearTimeout(this._pollingId),this._breaker.dispose(),this._isPolling=!1,this._pollingId=this._breaker=null)},restart:function(){this.stopPolling(),this.startPolling()},parse:function(){return this.next_href=null,r(30).prototype.parse.apply(this,arguments)},reset:function(e,t){var i,o,s,u,l;t=t||{},i=r(30).prototype.reset.call(this,e,t),s=r(0).pluck(i,"id"),o=r(0).difference(t.previousModels,this.models),u=r(0).pluck(o,"id"),(l=s).length>0&&r(8).trigger("new-unread-messages",l),n.call(this,u),a.call(this)},hasAnyUnreadMessages:function(){return this.length>0}},{hashFn:function(){return 1},onCleanup:function(e){e.stopPolling()},neverRelease:!0});function n(e){var t;e.forEach((function(e){(t=r(160).getInstance({id:e}))&&t.setRead(!0)}))}function i(){var e=r(120)[this.notificationType];return{backoffRate:1.1,baseDelay:e.get("minPollInterval"),maxDelay:e.get("maxPollInterval")}}function o(){this._breaker&&this.restart()}function a(){this.trigger("anyUnreadMessages",this.hasAnyUnreadMessages())}function s(e){this.remove(e),a.call(this)}function u(e){var t=r(160).getInstance({id:e});t&&this.add(t),a.call(this)}},function(e,t,r){e.exports=r(251).extend({baseUrl:function(){return this.getEndpointUrl("trackCommentsFilterReplies",{id:this.options.sound_id})},getCommentAtTimestamp:function(e,t){return t=r(0).isNumber(t)?t:0,this.find((function(n){var i=n.get("timestamp"),o=e-i;return 0===t?i===e:o>=0&&Math.abs(o)<=t&&i!==r(83).EMPTY_TIMESTAMP}))||null},onCommentCreated:function(e){e.get("replyTo")||this.add(e,{at:0})}},{hashFn:function(e,t){return t&&t.sound_id||null}})},,function(e,t,r){e.exports=r(563).extend({model:r(32),defaults:{limit:2e3,maxModels:null},setup:function(e){var t=e.query,n=r(376).makeFilterGenerator(["username"]);this.makeFilter=function(e){return!e||e.length<1?function(){return!0}:n(e)},r(563).prototype.setup.apply(this,arguments),this.setQuery(t)},setupSource:function(){return new(r(282))}},{prefetch:function(){r(282).prefetch()}})},,,,,,,,,,,,,,,,,,,,,,,function(e,t){function r(e){if(this.size=0,this._data=[],e)for(var t=0;t<e.length;++t)this.insert(t,e[t])}function n(){this._data.push(0)}function i(){this._data.pop()}function o(e){for(var t=0;t<this._data.length;++t)this._data[t]&=e._data[t]}function a(e){for(var t=0;e;++t)e&=e-1;return t}function s(e,t,r){var n=(1<<t-e+1)-1<<e;return r||(n=~n),n}e.exports=r,r.combine=function(e){var t=e[0].clone();return t.applyAnd(e.slice(1)),t},r.prototype={get:function(e){return 0!=(this._data[e/32|0]&1<<e%32)},set:function(e,t){if(!(e<0||e>=this.size)){var r=e/32|0,n=e%32;this._data[r]^=(!t-1^this._data[r])&1<<n}},insert:function(e,t){if(!(e>this.size||e<0)){var r,i,o,a,u;if(this.size%32==0&&n.call(this),e<this.size){for(r=e/32|0,i=e%32,o=this._data[r],u=this._data.length-1;u>r;--u)this._data[u]<<=1,this._data[u-1]&1<<31&&(this._data[u]|=1);a=s(0,i-1,!1),this._data[r]=o<<1&a|o&~a}++this.size,this.set(e,t)}},remove:function(e){if(!(e>=this.size||e<0)){var t,r,n,o,a;if(e<this.size-1)for(t=e/32|0,r=e%32,n=this._data[t],o=s(0,r-1,!1),this._data[t]=n>>>1&o|n&~o,a=t+1;a<this._data.length;++a)1&this._data[a]&&(this._data[a-1]|=1<<31),this._data[a]>>>=1;--this.size%32==0&&i.call(this)}},applyAnd:function(e){for(var t=0;t<e.length;++t)o.call(this,e[t])},clearRange:function(e,t){var r,n,i,o=t/32|0;for(i=e/32|0;i<=o;++i)r=Math.max(0,e-32*i),n=Math.min(31,t-32*i),0===r&&31===n?this._data[i]=0:this._data[i]&=s(r,n,0)},clone:function(){var e=new r;return e._data=this._data.slice(),e.size=this.size,e},getIndexes:function(e){for(var t=[],r=!!e,n=0;n<this.size;++n)this.get(n)===r&&t.push(n);return t},countValuesInRange:function(e,t,r){t=t||0;var n,i,o,u=(r=void 0===r?this.size-1:r)/32|0,l=0;for(o=t/32|0;o<=u;++o)n=Math.max(0,t-32*o),i=Math.min(31,r-32*o),l+=a(0===n&&31===i?this._data[o]:this._data[o]&s(n,i,1));return e?l:r-t-l+1}}},,function(e,t,r){e.exports=r(30).extend({model:r(17),setup:function(){r(16).isLoggedIn()||this.setToFullyPopulated()},baseUrl:function(){return this.getEndpointUrl("shortcutsOwnTracks")}},{hashFn:function(){return r(3).get("me").get("id")}})},function(e,t,r){var n=r(1792),i=r(1797),o=r(621);var a=i((function(e,t,r){return r?function(e,t,r){for(var n=-1,i=o(t),a=i.length;++n<a;){var s=i[n],u=e[s],l=r(u,t[s],s,e,t);(l==l?l===u:u!=u)&&(void 0!==u||s in e)||(e[s]=l)}return e}(e,t,r):n(e,t)}));e.exports=a},,function(e,t,r){e.exports=r(18).extend({resource_type:"historicalPlay",submodelMap:{track:r(17)},setup:function(e){this.sound=new(r(17))({id:e.track_id}),this.addSubmodel(this.sound)}},{hashFn:function(e){var t=e.id,r=e.resource_id,n=e.track_id;return t||r||n}})},,,,,,,,function(e,t,r){var n=[{emitter:r(23),event:"like",getInstance:function(e,t){var r=t.origin;return e.options.userId===r},handler:function(e){var t,n=e.state,i=e.origin,o=e.target,a=e.targetType;n&&this.acceptsType(a)?this.add(r(442).getLikeModelData(i,a,o),{at:0}):(t=this.find((function(e){var t="sound"===a?e.get("track"):"playlist"===a?e.get("playlist"):null;return t&&o===t.id})))&&this.remove(t)}}];e.exports=r(140).extend(r(157).withOptions({events:n}),{model:r(442),defaults:{type:"likes"},baseUrl:function(){return this.getEndpointUrl("userLikes",{id:this.options.userId})},parse:function(e){var t=this.options.userId;return e.collection.forEach((function(e){e.user_id=t})),e.collection},audibleAt:function(e){var t=this.at(e);return t&&t.getAudible()},acceptsType:function(e){return"sound"===e||"playlist"===e}})},function(e,t,r){var n=[{emitter:r(23),event:"like",getInstance:function(e,t){var r=t.origin,n=t.targetType;return e.userId===r&&("playlist"===n||"system-playlist"===n)},handler:function(e){var t,n=e.targetType,o=e.state,a=e.origin,s=e.target;o?this.add(r(241).getModelData(a,n+"-like",s),{at:0}):(t=i.call(this,s,n))&&this.remove(t)}},{emitter:r(23),event:"createPlaylist",getInstance:function(e,t){var r=t.object;return e.userId===r.get("user_id")},handler:function(e){var t=e.object;this.add(r(241).getModelData(this.userId,"playlist",t.id),{at:0})}}];e.exports=r(140).extend(r(157).withOptions({events:n}),{model:r(241),defaults:{type:"library-playlists-and-albums"},userId:r(3).get("me").get("id"),setup:function(e){r(140).prototype.setup.call(this,e),r(16).isLoggedIn()||this.setToFullyPopulated()},baseUrl:function(){return r(3).get("rollouts").get("system_playlist_in_library")?this.getEndpointUrl("myLibraryAlbumsPlaylistsAndSystemPlaylists"):this.getEndpointUrl("myLibraryAlbumsAndPlaylists",{id:this.userId})},audibleAt:function(e){var t=this.at(e);return t&&t.getAudible()}},{hashFn:function(){return 1}});function i(e,t){return this.find((function(r){var n,i={playlist:"playlist","system-playlist":"system_playlist"}[t];return(null==(n=r.get(i))?void 0:n.id)===e}))}},function(e,t,r){e.exports=r(136).extend({readEndpoint:"myFollowingsIds",createEndpoint:"myFollowingsCreate",deleteEndpoint:"myFollowingsDelete"})},,,,function(e,t,r){e.exports=r(18).extend({resource_type:"off_platform_product_status",setup:function(){this.listenTo(r(8),"create-product:success",n),this.listenTo(r(8),"off-platform-product:distributed",i)},baseUrl:function(){return this.getEndpointUrl("offplatformProductStatus")},getDistributedProductsCount:function(){return this.get("distributed_product_count")||0},hasReachedDistributionLimit:function(){return r(141).hasReachedDistributionLimit(this.getDistributedProductsCount())}},{hashFn:function(){return 1}});function n(){this.set("product_count",this.get("product_count")+1)}function i(){this.set("distributed_product_count",this.getDistributedProductsCount()+1)}},,function(e,t,r){e.exports=r(140).extend({model:r(17),defaults:{limit:20,type:"tracks",keepBlocked:!0},baseUrl:function(){return this.getEndpointUrl("userTracks",{id:this.options.userId},{representation:this.options.keepBlocked?"owner":""})}},{hashFn:function(e,t){var r=void 0===t?{}:t,n=r.userId,i=r.resource_id;return[n||i||null,!1===r.keepBlocked?"_b":null].join("")||null}})},,function(e,t,r){e.exports=r.p+"assets/images/upsell-icon-74191f89.svg"},function(e,t,r){(function(t){var n=["amex","discover","mastercard","visa","other","paypal"];e.exports=r(18).extend({resource_type:"active-creator-subscription",baseUrl:function(){return this.getEndpointUrl("paymentsSubscriptionsActive")},parse:function(e){return e.expiry_date&&(e.expiry_date=new Date(e.expiry_date)),e},getPlan:function(){return this.get("package")&&this.get("package").plan},getPaymentKind:function(){return this.get("last_payment")&&this.get("last_payment").method.kind},isFree:function(){return"free"===this.getPlan()},isPro:function(){return"pro"===this.getPlan()},isProUnlimited:function(){return"pro-unlimited"===this.getPlan()},isRecurring:function(){return!!this.get("recurring")},isApplePurchase:function(){return"apple"===this.getPaymentKind()},isGooglePlayPurchase:function(){return"google-play"===this.getPaymentKind()},isPayPalPurchase:function(){return"paypal"===this.getPaymentKind()},isRefundable:function(){return!!this.get("refundable")},isRenewable:function(){return!this.isFree()&&(this.isRecurring()||this.isRefundable())},hasPaidPaymentKind:function(){return r(0).contains(n,this.getPaymentKind())},getPrettyPrice:function(){var e=this.get("package").price;if(!e||null===e.amount)return null;var t=e.amount,n=e.currency;return r(1).priceHelper.format(t,n)},getTitle:function(){return this.isPro()?r(1).t("SoundCloud Pro"):this.isProUnlimited()?r(1).t("SoundCloud Pro Unlimited"):r(1).t("Free")},isFromMothership:function(){return"mothership"===this.get("package").vendor},cancel:function(e){var r=this;return t.ajax({url:this.baseUrl(),type:"DELETE"}).done((function(){r.trigger("cancel:success")})).fail((function(){r.trigger("cancel:error")}))}})}).call(this,r(13))},function(e,t,r){var n=e.exports=r(18).extend({resource_type:"user_stream_item",submodelMap:{track:null,playlist:null},baseUrl:null,audible:null,createSubmodel:function(e,t){var n,i=r("track"===t?17:43),o=this.get(t);o&&(n=new i(o),this.addSubmodel(n),this.listenTo(n,"destroy",this.onSubmodelDestroy),this.audible=n)},onSubmodelDestroy:function(){this.destroy()},getEquivalencyKey:function(){var e=this.getModelData();return e.kind+"_"+e.id},getAudible:function(){return this.audible},getActionType:function(){return this.isRepost()?"repost":this.isLike()?"like":"post"},isSpotlight:function(){return this.get("type").indexOf("_spotlight")>-1},isRepost:function(){return/[_-]repost$/.test(this.get("type"))},isLike:function(){return/[_-]like$/.test(this.get("type"))},isRegular:function(){return!this.isRepost()&&!this.isLike()&&!this.isSpotlight()},toggleSpotlight:function(e){this.isRepost()||this.isLike()||(void 0===e&&(e=!this.isSpotlight()),this.set("type",this.get("type").replace(e?/$/:/_spotlight$/,e?"_spotlight":"")))},getModelData:function(){return this.get("track")||this.get("playlist")}},{convert:function(e){var t=e instanceof r(17),i=e.toJSON();return new n({type:i.kind,created_at:i.created_at,track:t?i:null,playlist:t?null:i})}})},,,function(e,t,r){var n=r(188).Roles.COMPOSER,i=r(188).Roles.PRIMARY,o=r(188).Roles.FEATURED,a=r(188).Roles.LYRICIST,s=r(0).partition(r(168).allLanguages(),r(168).isInstrumentalLanguage),u=s[0],l=s[1];e.exports=r(51).extend(r(545).withOptions({getFormFieldFromErrorField:function(e){switch(e){case"title":return"title";case"performance language":return"performance_language";case"metadata language":return"metadata_language";case"primary artist":return"artists";case"track contributors":return"contributors";case"contains music":return"publisherContainsMusic";case"isrc":return"publisherIsrc";case"explicit":return"publisherExplicit";case"track audio":case"track media":return"fileUpload";case"version":return"track_version";case"genre":return null}},translateMessages:!0,translationContext:"OPD"}),r(365),r(366),{resource_type:"off-platform-track-form",fields:{title:{defaultValue:""},metadata_language:{groups:[{links:l.map(g)}],defaultValue:r(168).emptyLanguageValue()},performance_language:{groups:[{links:u.map(g)},{links:l.map(g)}],defaultValue:r(168).emptyLanguageValue()},track_version:{defaultValue:""},hasTrackVersion:m(),artists:{defaultValue:function(){return[]}},lyricists:{defaultValue:function(){return[]}},contributors:{defaultValue:function(){return[]}},composer:{defaultValue:""},hasCollaborators:m()},constraints:{title:c(r(1).t("Enter a title.")),metadata_language:c(r(1).t("Choose language of title")),performance_language:c(r(1).t("Choose language of lyrics")),artists:[[r(445),{role:i,message:r(1).t("An artist name is required")}]],lyricists:[[r(445),{role:a,message:r(1).t("A lyricist name is required")}]],composer:c(r(1).t("Enter a composer name."))},constraintConditions:{lyricists:{fields:["performance_language"],check:r(0).negate(r(168).isInstrumentalLanguage)}},buttons:{save:{label:r(1).t("Save"),action:"save"},cancel:{label:r(1).t("Cancel"),action:"cancel"}},actions:{default:"save",save:function(){var e=this;return d.call(this).then((function(){return e.fileStatusCheck()})).always((function(){return e.saveEdits()}))},cancel:function(){this.cancelEdits()}},isEdit:!0,saveCleanup:function(){},setup:function(e,t){var n=this,o=t.resource_id;this.offPlatformTrack=new(r(296))({resource_id:o}),this.addSubmodel(this.offPlatformTrack),this.listenTo(this,"change:performance_language",f),this.listenTo(this,"change:artists",(function(e,t){var r=t.filter(y(i))[0];r&&r.name?n.set("publisherArtist",r.name):n.unset("publisherArtist")})),this.listenTo(this.offPlatformTrack,"change",p),h.call(this),this.deriveValidityFromModel(this.offPlatformTrack)},setFullName:function(e){this.set("artistFullName",e),_.call(this,e),v.call(this,e)},getAudible:function(){return this.offPlatformTrack.getSound()},saveEdits:function(){var e=this;this.offPlatformTrack.set(this.getOffPlatformTrackAttributes()),this.offPlatformTrack.getSound().set(this.getAttributesToBeSaved()).save().then((function(){return e.onAudibleSaved()}),(function(){return e.onSaveFailed()}))},cancelEdits:function(){h.call(this),this.removeUpload(),this.trigger("canceled")},onAudibleSaved:function(){r(8).trigger("sound:saved",this.getAudible()),this.markFieldsClean(),this.trigger("saved")},setToFailed:r(0).noop,hasFailed:r(0).noop,onSaveFailed:function(){},getAttributesFromModel:function(){var e=this.offPlatformTrack,t=function(t){return e.get(t)},s=e.getSound().get("title"),u=t("artists")||[],l=u.filter(y([i,o])),c=u.filter(y(a)),d=u.filter(y(n))[0],f=u.filter(y(r(188).getContributorRoles())),p=t("track_version");return{title:s,artists:l,lyricists:c,contributors:r(0).without(f,d),composer:d?d.name:"",metadata_language:t("metadata_language"),performance_language:t("performance_language"),track_version:p,hasTrackVersion:p?"yes":"no"}},getOffPlatformTrackAttributes:function(){var e=r(0).flatten([this.get("artists"),this.getLyricistsAttribute(),this.getComposerAttribute(),this.get("contributors")]).filter(Boolean).filter((function(e){var t=e.name,r=e.role;return!!t.trim()&&!!r})),t="yes"===this.get("hasTrackVersion");return{artists:e,metadata_language:this.get("metadata_language"),performance_language:this.get("performance_language"),track_version:t?this.get("track_version"):null}},hasCollaborators:function(){return"yes"===this.get("hasCollaborators")},getLyricistsAttribute:function(){return r(168).isInstrumentalLanguage(this.get("performance_language"))?[]:this.hasCollaborators()?this.get("lyricists"):{role:a,name:this.get("artistFullName")}},getComposerAttribute:function(){return this.hasCollaborators()?{role:n,name:this.get("composer")}:{role:n,name:this.get("artistFullName")}},getAttributesToBeSaved:function(){return r(0).assign({title:this.get("title")},this.getUploadAttributes())}});function c(e){return[[r(41),{message:e}]]}function d(){return this.resetAllFieldValidations(),this.validate().then((function(e){return e?r(6).resolve():r(6).reject()}))}function f(e,t){e.get("metadata_language")||r(168).isInstrumentalLanguage(t)||e.set("metadata_language",t)}function p(){this.isDirty()||h.call(this),this.deriveValidityFromModel(this.offPlatformTrack)}function h(){this.set(this.getAttributesFromModel()),this.markFieldsClean(),this.resetAllFieldValidations()}function g(e){var t=e[0];return{value:t,label:e[1],id:String(t)}}function y(e){return function(t){var n=t.role;return r(0).contains(Array.isArray(e)?e:[e],n)}}function m(){return{defaultValue:"no",datasource:function(){return[{value:"yes",label:r(1).t("Yes")},{value:"no",label:r(1).t("No")}]}}}function _(e){this.isDirty("lyricists")||(r(0).find(this.get("lyricists"),(function(e){return e.name}))||this.set("lyricists",[{role:a,name:e}]));this.isDirty("composer")||this.get("composer")||this.set("composer",e)}function v(e){var t=r(0).map(this.get("lyricists"),(function(e){return e.name}));this.get("composer")===e&&r(0).isEqual(t,[e])?this.set("hasCollaborators","no"):this.set("hasCollaborators","yes")}},,,,function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMiAyMiI+CiAgICA8ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xIC0xKSI+CiAgICAgICAgPHBhdGggZD0iTTAgMGgyNHYyNEgweiIvPgogICAgICAgIDxwYXRoIGZpbGw9IiNGRkMzMTkiIGZpbGwtcnVsZT0ibm9uemVybyIgZD0iTTEyIDNjLTQuOTY3IDAtOSA0LjAzMy05IDlzNC4wMzMgOSA5IDkgOS00LjAzMyA5LTktNC4wMzMtOS05LTl6bTAtMmM2LjA3MiAwIDExIDQuOTI4IDExIDExcy00LjkyOCAxMS0xMSAxMVMxIDE4LjA3MiAxIDEyIDUuOTI4IDEgMTIgMXoiLz4KICAgICAgICA8cGF0aCBmaWxsPSIjRkZDMzE5IiBmaWxsLXJ1bGU9Im5vbnplcm8iIGQ9Ik0xMi41IDEzaC0xYS41LjUgMCAwIDEtLjUtLjVWNy43YS41LjUgMCAwIDEgLjUtLjVoMWEuNS41IDAgMCAxIC41LjV2NC44YS41LjUgMCAwIDEtLjUuNXoiLz4KICAgICAgICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjE1LjUiIHI9IjEuNSIgZmlsbD0iI0ZGQzMxOSIgZmlsbC1ydWxlPSJub256ZXJvIi8+CiAgICA8L2c+Cjwvc3ZnPgo="},,,,,,function(e,t,r){e.exports=r(30).extend({model:r(446),defaults:{type:"web-profiles"},url:function(){return this.getEndpointUrl("userWebProfiles",{urn:r(53).generate("user",this.options.userId)})},parse:function(e){return e.forEach((function(e){var t=e.url,r=e.network,n=e.title;e.id=t+"_"+r+"_"+n})),e},getProfileByName:function(e){return this.find((function(t){return t.get("network")===e}))}},{hashFn:function(e,t){return t.userId}})},,,,function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMiAyMiI+CiAgICA8ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xIC0xKSI+CiAgICAgICAgPHBhdGggZD0iTTAgMGgyNHYyNEgweiIvPgogICAgICAgIDxwYXRoIGZpbGw9IiNDRjAwMDAiIGZpbGwtcnVsZT0ibm9uemVybyIgZD0iTTEyIDNjLTQuOTY3IDAtOSA0LjAzMy05IDlzNC4wMzMgOSA5IDkgOS00LjAzMyA5LTktNC4wMzMtOS05LTl6bTAtMmM2LjA3MiAwIDExIDQuOTI4IDExIDExcy00LjkyOCAxMS0xMSAxMVMxIDE4LjA3MiAxIDEyIDUuOTI4IDEgMTIgMXoiLz4KICAgICAgICA8cGF0aCBmaWxsPSIjQ0YwMDAwIiBmaWxsLXJ1bGU9Im5vbnplcm8iIGQ9Ik0xMi41IDEzaC0xYS41LjUgMCAwIDEtLjUtLjVWNy43YS41LjUgMCAwIDEgLjUtLjVoMWEuNS41IDAgMCAxIC41LjV2NC44YS41LjUgMCAwIDEtLjUuNXoiLz4KICAgICAgICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjE1LjUiIHI9IjEuNSIgZmlsbD0iI0NGMDAwMCIgZmlsbC1ydWxlPSJub256ZXJvIi8+CiAgICA8L2c+Cjwvc3ZnPgo="},,function(e,t,r){e.exports=r(18).extend({resource_type:"like",submodelMap:{track:r(17),playlist:r(43)},url:null,setup:function(e){0},getAudible:function(){var e,t;return(e=this.get("track"))?(t=r(17).instances.get(e.id))||window.console.error("Could not find sound with id "+e.id,e):(e=this.get("playlist"))?(t=r(43).instances.get(e.id))||window.console.error("Could not find playlist with id "+e.id,e):window.console.error("No track or playlist data found",this.attributes),t},isPlaylist:function(){return!this.get("track")},isSound:function(){return!!this.get("track")}},{hashFn:function(e){return e.id||[e.user_id,e.track?"s":"p",(e.track||e.playlist).id].join("_")},getLikeModelData:function(e,t,r){var n={user_id:e,created_at:(new Date).toISOString(),kind:"like"};return"sound"===t?(n.track={id:r},n.playlist=null):(n.playlist={id:r},n.track=null),n}})},function(e,t,r){var n=e.exports=r(30).extend(r(156),{getSourceInfo:function(){return{type:"history"}},model:r(403),baseUrl:function(){return this.getEndpointUrl("playHistoryTracks")},setup:function(){this.listenTo(r(23),"addToPlayHistory",i),this.listenTo(r(23),"clearPlayHistory",o)},audibleAt:function(e){var t=this.at(e);return t&&t.sound}},{hashFn:function(){return 1}});function i(e){var t=e.target,n=this.find((function(e){return e.get("track_id")===t}));n&&this.remove(n);var i=new(r(403))({track_id:t,played_at:Date.now()});i.release(),this.add(i,{at:0})}function o(){this.reset([])}r(628).applyTo(n,{fields:["track.title","track.genre","track.user.username"],mixins:[r(156)]})},,,function(e,t,r){var n={bandpage:"BandPage",bandcamp:"Bandcamp",bandsintown:"Bandsintown",beatport:"Beatport",berklee:"Berklee",ccmixter:"ccMixter",discogs:"Discogs",facebook:"Facebook",flavors:"flavors.me",flickr:"Flickr",foursquare:"Foursquare",freesound:"Freesound",gigatools:"Gigatools",google_plus:"Google+",hypem:"Hype Machine",instagram:"Instagram",itunes_podcast:"iTunes Podcast",lastfm:"Last.fm",mixcloud:"Mixcloud",myspace:"MySpace",ning:"Ning",pinterest:"Pinterest",purevolume:"PureVolume",residentadvisor:"Resident Advisor",residentadvisorlabel:"Resident Advisor",reverbnation:"ReverbNation",snapchat:"Snapchat",songkick:"Songkick",soundcloud:"SoundCloud",spotify:"Spotify",thedjlist:"The DJ List",tumblr:"Tumblr",twitter:"Twitter",vimeo:"Vimeo",virb:"Virb",vkontakte:"VK",whatpeopleplay:"Whatpeopleplay",wordpress:"Wordpress",youtube:"YouTube",zeroinch:"zero"};e.exports=r(18).extend({resource_type:"web-profile",getUserId:function(){return this.collection?this.collection.resource_id:this.options.userId},getNetworkName:function(){var e=this.pick("network","title","url"),t=e.network,r=e.title,i=e.url;return r||("personal"===t||"other"===t?i.replace(/^https?:\/\//,""):"email"===t?i:n[t]||"")},isEmail:function(){return r(95).isEmail(this.get("url"))},getNetworkClassName:function(){return(this.get("network")||"").replace(/[^a-z]/g,"")}},{hashFn:function(e,t){return e.id}})},,,,,function(e,t,r){var n=r(3).get("systemUserId");e.exports=r(18).extend({resource_type:"conversation_message",_messageSentAt:null,getSenderId:function(){var e=this.get("sender_urn");return e?r(53).getAsAttributes(e).id:null},setup:function(){this.set("audibleInformation",[]),i.call(this)},sentAt:function(){return this._messageSentAt},fetchAudibles:function(){o.call(this)},getAudible:function(){var e=this.get("audibleInformation");return e&&e[0]&&e[0].model},hasDataForView:function(){return!0},getPossibleAudibleLinks:function(){return(this.get("content")?this.get("content"):"").match(r(95).scLinksRegexGlobal)},isFromSoundCloud:function(){return this.getSenderId()===n},isFromMissingUser:function(){var e=this.get("sender");return e&&"missing_user"===e.kind}},{hashFn:function(e){return e.id||[e.conversation_id,e.sent_at].join("_")}});function i(){this._messageSentAt=new Date(this.get("sent_at"))}function o(){var e=this,t=this.getPossibleAudibleLinks();t&&r(95).getAudibleModels(t).done((function(t){t.forEach((function(e){e&&a.call(this,e.audible,e.link)}),e),e.trigger("audibleFinishedResolving")}))}function a(e,t){var n=r(19).parse(e.getShareURL()).path;if(-1!==t.indexOf(n)){var i={link:t,model:e};this.addSubmodel(i.model),s.call(this,i)}}function s(e){var t=this.get("audibleInformation");t.push(e),this.set("audibleInformation",t),this.trigger("audibleInformationUpdated",{audibleInformation:e,timestamp:this.sentAt()})}},function(e,t,r){e.exports=r(453).extend(r(690),{notificationType:"activities",parse:function(e){var t=e.collection;return t&&t.forEach((function(e){e.comment&&!e.comment.user&&(e.comment.user=e.user,e.comment.user_id=e.user.user_id),e.user&&(delete e.user.cpp,delete e.user.default_tracks_feedable),e.resource&&(delete e.resource.cpp,delete e.resource.default_tracks_feedable)})),t}},{hashFn:function(){return 1}})},,,,,,,,,,,,,,,,,function(e,t,r){var n=r(330),i=r(172),o=r(776);n||i(Object.prototype,"toString",o,{unsafe:!0})},function(e,t,r){var n=r(150),i=r(109),o=r(332);e.exports=!n&&!i((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},function(e,t,r){var n=r(334);e.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol()},function(e,t,r){var n=r(330),i=r(194),o=r(79)("toStringTag"),a="Arguments"==i(function(){return arguments}());e.exports=n?i:function(e){var t,r,n;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),o))?r:a?i(t):"Object"==(n=i(t))&&"function"==typeof t.callee?"Arguments":n}},function(e,t,r){"use strict";var n=r(173),i=r(782),o=r(481),a=r(785),s=r(196),u=r(131),l=r(172),c=r(79),d=r(193),f=r(217),p=r(480),h=p.IteratorPrototype,g=p.BUGGY_SAFARI_ITERATORS,y=c("iterator"),m=function(){return this};e.exports=function(e,t,r,c,p,_,v){i(r,t,c);var b,w,E,S=function(e){if(e===p&&T)return T;if(!g&&e in I)return I[e];switch(e){case"keys":case"values":case"entries":return function(){return new r(this,e)}}return function(){return new r(this)}},A=t+" Iterator",P=!1,I=e.prototype,M=I[y]||I["@@iterator"]||p&&I[p],T=!g&&M||S(p),k="Array"==t&&I.entries||M;if(k&&(b=o(k.call(new e)),h!==Object.prototype&&b.next&&(d||o(b)===h||(a?a(b,h):"function"!=typeof b[y]&&u(b,y,m)),s(b,A,!0,!0),d&&(f[A]=m))),"values"==p&&M&&"values"!==M.name&&(P=!0,T=function(){return M.call(this)}),d&&!v||I[y]===T||u(I,y,T),f[t]=T,p)if(w={values:S("values"),keys:_?T:S("keys"),entries:S("entries")},v)for(E in w)!g&&!P&&E in I||l(I,E,w[E]);else n({target:t,proto:!0,forced:g||P},w);return w}},function(e,t,r){"use strict";var n={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,o=i&&!n.call({1:2},1);t.f=o?function(e){var t=i(this,e);return!!t&&t.enumerable}:n},function(e,t,r){var n=r(109),i=r(194),o="".split;e.exports=n((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==i(e)?o.call(e,""):Object(e)}:Object},function(e,t,r){var n=r(105),i=r(779),o=r(261),a=r(132);e.exports=function(e,t){for(var r=i(t),s=a.f,u=o.f,l=0;l<r.length;l++){var c=r[l];n(e,c)||s(e,c,u(t,c))}}},function(e,t,r){var n=r(105),i=r(195),o=r(780).indexOf,a=r(260);e.exports=function(e,t){var r,s=i(e),u=0,l=[];for(r in s)!n(a,r)&&n(s,r)&&l.push(r);for(;t.length>u;)n(s,r=t[u++])&&(~o(l,r)||l.push(r));return l}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,r){var n=r(109),i=/#|\.prototype\./,o=function(e,t){var r=s[a(e)];return r==l||r!=u&&("function"==typeof t?n(t):!!t)},a=o.normalize=function(e){return String(e).replace(i,".").toLowerCase()},s=o.data={},u=o.NATIVE="N",l=o.POLYFILL="P";e.exports=o},function(e,t,r){"use strict";var n,i,o,a=r(481),s=r(131),u=r(105),l=r(79),c=r(193),d=l("iterator"),f=!1;[].keys&&("next"in(o=[].keys())?(i=a(a(o)))!==Object.prototype&&(n=i):f=!0),null==n&&(n={}),c||u(n,d)||s(n,d,(function(){return this})),e.exports={IteratorPrototype:n,BUGGY_SAFARI_ITERATORS:f}},function(e,t,r){var n=r(105),i=r(264),o=r(259),a=r(783),s=o("IE_PROTO"),u=Object.prototype;e.exports=a?Object.getPrototypeOf:function(e){return e=i(e),n(e,s)?e[s]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?u:null}},function(e,t,r){var n=r(477),i=r(339);e.exports=Object.keys||function(e){return n(e,i)}},function(e,t,r){var n=r(174);e.exports=n("document","documentElement")},function(e,t,r){var n=r(72);e.exports=n.Promise},function(e,t,r){var n=r(121),i=r(795),o=r(263),a=r(341),s=r(796),u=r(797),l=function(e,t){this.stopped=e,this.result=t};(e.exports=function(e,t,r,c,d){var f,p,h,g,y,m,_,v=a(t,r,c?2:1);if(d)f=e;else{if("function"!=typeof(p=s(e)))throw TypeError("Target is not iterable");if(i(p)){for(h=0,g=o(e.length);g>h;h++)if((y=c?v(n(_=e[h])[0],_[1]):v(e[h]))&&y instanceof l)return y;return new l(!1)}f=p.call(e)}for(m=f.next;!(_=m.call(f)).done;)if("object"==typeof(y=u(f,v,_.value,c))&&y&&y instanceof l)return y;return new l(!1)}).stop=function(e){return new l(!0,e)}},function(e,t,r){var n=r(121),i=r(218),o=r(79)("species");e.exports=function(e,t){var r,a=n(e).constructor;return void 0===a||null==(r=n(a)[o])?t:i(r)}},function(e,t,r){var n,i,o,a=r(72),s=r(109),u=r(194),l=r(341),c=r(483),d=r(332),f=r(488),p=a.location,h=a.setImmediate,g=a.clearImmediate,y=a.process,m=a.MessageChannel,_=a.Dispatch,v=0,b={},w=function(e){if(b.hasOwnProperty(e)){var t=b[e];delete b[e],t()}},E=function(e){return function(){w(e)}},S=function(e){w(e.data)},A=function(e){a.postMessage(e+"",p.protocol+"//"+p.host)};h&&g||(h=function(e){for(var t=[],r=1;arguments.length>r;)t.push(arguments[r++]);return b[++v]=function(){("function"==typeof e?e:Function(e)).apply(void 0,t)},n(v),v},g=function(e){delete b[e]},"process"==u(y)?n=function(e){y.nextTick(E(e))}:_&&_.now?n=function(e){_.now(E(e))}:m&&!f?(o=(i=new m).port2,i.port1.onmessage=S,n=l(o.postMessage,o,1)):!a.addEventListener||"function"!=typeof postMessage||a.importScripts||s(A)?n="onreadystatechange"in d("script")?function(e){c.appendChild(d("script")).onreadystatechange=function(){c.removeChild(this),w(e)}}:function(e){setTimeout(E(e),0)}:(n=A,a.addEventListener("message",S,!1))),e.exports={set:h,clear:g}},function(e,t,r){var n=r(489);e.exports=/(iphone|ipod|ipad).*applewebkit/i.test(n)},function(e,t,r){var n=r(174);e.exports=n("navigator","userAgent")||""},function(e,t,r){var n=r(121),i=r(110),o=r(342);e.exports=function(e,t){if(n(e),i(t)&&t.constructor===e)return t;var r=o.f(e);return(0,r.resolve)(t),r.promise}},function(e,t){e.exports=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}}},function(e,t,r){var n=r(110),i=r(344),o=r(79)("species");e.exports=function(e,t){var r;return i(e)&&("function"!=typeof(r=e.constructor)||r!==Array&&!i(r.prototype)?n(r)&&null===(r=r[o])&&(r=void 0):r=void 0),new(void 0===r?Array:r)(0===t?0:t)}},function(e,t,r){var n=r(79);t.f=n},function(e,t){var r=e.exports={delimiters:{thousands:",",decimal:"."},relativeTime:{justNow:"Just now",rightNow:"Right now",future:"in %s",past:"%s ago",sec:n(["1 second","%d seconds"]),min:n(["1 minute","%d minutes"]),hour:n(["1 hour","%d hours"]),day:n(["1 day","%d days"]),month:n(["1 month","%d months"]),year:n(["1 year","%d years"])},dateFormats:{readable:"DD MMMM YYYY",readableTime:"DD MMMM YYYY HH:mm",readableAbbreviated:"MMM DD, YYYY",readableWithWeekday:"DDDD, DD MMMM YYYY",default:"DD/MM/YYYY"},dates:{months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortWeekdays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],minWeekdays:["Su","Mo","Tu","We","Th","Fr","Sa"]},d3:{grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"]},datePicker:{closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",weekHeader:"Wk",dateFormat:"dd/mm/yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},pluralForm:function(e){return 1!==e?1:0}};function n(e,t){return function(t){return e[r.pluralForm(t)].replace(/%d/i,t)}}},,function(e,t,r){var n,i,o;i=[t,r(0)],void 0===(o="function"==typeof(n=function(e,t){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function n(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function i(e){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var u;Object.defineProperty(e,"__esModule",{value:!0}),e.Mixin=void 0,t=(u=t)&&u.__esModule?u:{default:u};var l=["before","after","around","requires","override","defaults","applyTo","requirePrototype","merge"],c=function(){function e(){a(this,e),this.mixins=t.default.initial(arguments),this.properties=t.default.last(arguments)}var r,n,i;return r=e,(n=[{key:"applyTo",value:function(e,r){var n=this,i=this.properties;this.defaults(e,i.defaults),this.extend(e,i),this.merge(e,i.merge),t.default.invoke(this.mixins,"applyTo",e),["requires","requirePrototype","override","before","after","around"].forEach((function(t){n[t](e,i[t])})),i.applyTo&&i.applyTo.call(this,e,r)}},{key:"withOptions",value:function(e){return new d(this,e)}},{key:"before",value:function(r,n){t.default.each(n,(function(t,n){e.debug&&h(r,n);var i=r[n];r[n]=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return t.apply(this,r),i.apply(this,r)}}))}},{key:"after",value:function(r,n){t.default.each(n,(function(t,n){e.debug&&h(r,n);var i=r[n];r[n]=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var o=i.apply(this,r);return t.apply(this,r),o}}))}},{key:"around",value:function(r,n){t.default.each(n,(function(t,n){e.debug&&h(r,n);var i=r[n];r[n]=function(){var e=[i.bind(this)].concat(Array.prototype.slice.call(arguments));return t.apply(this,e)}}))}},{key:"override",value:function(e,r){t.default.extend(e,r)}},{key:"defaults",value:function(e,r){t.default.each(r,(function(t,r){e.hasOwnProperty(r)||(e[r]=t)}))}},{key:"merge",value:function(r,n){t.default.each(n,(function(n,i){if(null!=n){e.debug&&function(e){if(!t.default.isObject(e)&&!t.default.isString(e)||["isRegExp","isDate","isFunction"].some((function(r){return t.default[r](e)})))throw new Error("Unsupported data type for merge")}(n);var o=r[i];r[i]=t.default.isArray(n)?f(o,n):t.default.isString(n)?function(e,t){return null==e?t:f(p(e),p(t)).join(" ")}(o,n):function(e,r){return t.default.extend({},r,e)}(o,n)}}))}},{key:"extend",value:function(r,n){var i=t.default.omit(n,l);e.debug&&Object.keys(i).forEach((function(e){if(null!=r[e])throw new Error('Mixin overrides existing property "'.concat(e,'"'))})),t.default.extend(r,i)}},{key:"requires",value:function(r,n){if(e.debug&&n){if(!t.default.isArray(n))throw new Error("requires should be an array of required property names");var i=t.default.compact(n.map((function(e){if(!(e in r))return e})));if(i.length)throw new Error('Object is missing required properties: "'.concat(i.join('", "'),'"'))}}},{key:"requirePrototype",value:function(r,n){if(e.debug&&n){if(!t.default.isObject(n))throw new Error("requirePrototype should be an object");if(n!==r&&!n.isPrototypeOf(r))throw new Error("Object does not inherit from required prototype")}}}])&&s(r.prototype,n),i&&s(r,i),e}();e.Mixin=c;var d=function(e){function t(e,r){var o;return a(this,t),(o=n(this,i(t).call(this,e,r))).applyTo=function(t){e.applyTo(t,r)},o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(t,e),t}(c);function f(e,r){return null==e?r.slice():(n=function(e){return t.default.isArray(e)?e:[e]}(e),i=r,n.concat(t.default.difference(i,n)));var n,i}function p(e){return t.default.compact(e.split(/\s+/))}function h(e,r){if(!t.default.isFunction(e[r]))throw new Error('Object is missing function property "'.concat(r,'"'))}})?n.apply(t,i):n)||(e.exports=o)},,,function(e,t,r){e.exports=r(18).extend({setup:function(){this.set("restoreToSound",null)}},{hashFn:function(){return 1}})},function(e,t){var r,n,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(r===setTimeout)return setTimeout(e,0);if((r===o||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:o}catch(e){r=o}try{n="function"==typeof clearTimeout?clearTimeout:a}catch(e){n=a}}();var u,l=[],c=!1,d=-1;function f(){c&&u&&(c=!1,u.length?l=u.concat(l):d=-1,l.length&&p())}function p(){if(!c){var e=s(f);c=!0;for(var t=l.length;t;){for(u=l,l=[];++d<t;)u&&u[d].run();d=-1,t=l.length}u=null,c=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function g(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];l.push(new h(e,t)),1!==l.length||c||s(p)},h.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=g,i.addListener=g,i.once=g,i.off=g,i.removeListener=g,i.removeAllListeners=g,i.emit=g,i.prependListener=g,i.prependOnceListener=g,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},,,,function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var o=r(505),a=r(176),s=r(506),u=r(271),l=function(e){function t(){var t=e.call(this)||this;return t._memStoreKey=Symbol("MemoryStore"),t._nextMemStoreId=function(){return""+t._nextId++},t._store=new Map,t._idIndex=new o.IdIndex,t._nextId=0,t}return i(t,e),t.prototype.getEntry=function(e){var t=e.context.get(this._memStoreKey);return void 0===t&&(t=this._idIndex.getOrUpdate(e.desc,e.properties,this._nextMemStoreId)),e.context.set(this._memStoreKey,t),this._store.get(t)||u.missing(e)},t.prototype.handlePush=function(e){if((e.status===a.Status.Valid||e.status===a.Status.Created)&&null!==e.data){var t=e.context.get(this._memStoreKey);void 0!==t?this._idIndex.updateEntity(e.entityDesc,t,e.data):(t=this._idIndex.getOrUpdate(e.entityDesc,e.data,this._nextMemStoreId),e.context.set(this._memStoreKey,t)),this._store.set(t,e)}this.push(e)},t}(s.BaseStore);t.MemoryStore=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){this._idIndex=new Map,this._idLookup=new Map}return e.prototype.getOrUpdate=function(e,t,r){var n=this._idIndex.get(e.entityName);void 0===n&&(n=new Map,this._idIndex.set(e.entityName,n));for(var i=void 0,o={},a=e.indexedKeys.length,s={},u=0;u<a;++u){var l=e.indexedKeys[u],c=t[l];if(s[l]=c,null!=c){var d=n.get(l);void 0===d&&(d=new Map,n.set(l,d));var f=d.get(c);o[l]=d,void 0===i&&void 0!==f?i=f:void 0!==i&&f!==i&&d.set(c,i)}}if(void 0!==i){var p=this._idLookup.get(i);return Object.assign(p,s),i}var h=r();return Object.keys(o).forEach((function(e){return o[e].set(t[e],h)})),this._idLookup.set(h,s),h},e.prototype.updateEntity=function(e,t,r){var n=this._idIndex.get(e.entityName),i=this._idLookup.get(t);void 0===i&&(i={},this._idLookup.set(t,i)),void 0===n&&(n=new Map,this._idIndex.set(e.entityName,n));for(var o=e.indexedKeys.length,a=0;a<o;++a){var s=e.indexedKeys[a],u=r[s];if(null!=u){var l=n.get(s);void 0===l&&(l=new Map,n.set(s,l)),l.set(u,t),i[s]!==u&&(l.delete(i[s]),i[s]=u)}}},e}();t.IdIndex=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(271),i=function(){function e(){this._pushHandlers=[]}return e.prototype.onPush=function(e){this._pushHandlers.push(e)},e.prototype.push=function(e){this._pushHandlers.forEach((function(t){try{t(e)}catch(e){}}))},e.prototype.createEntry=function(e){return n.created(e)},e.prototype.handleCreate=function(e){this.handlePush(e)},e}();t.BaseStore=i},function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var o=r(506),a=r(271),s=r(271),u=function(e){function t(t){var r=e.call(this)||this;return r._endpoints=t.endpoints,r._getNow=t.now||Date.now,r}return i(t,e),t.prototype.getEntry=function(e){var t=this,r=null;e.desc.getEndpoint&&(r=e.desc.getEndpoint(e.properties));var n=r&&r.parseResponse?r.parseResponse:function(e,t){t(e)};return null===r?a.missing(e):(this._endpoints.callEndpoint(r.name,r.pathParams,r.queryParams,r.headers,r.data).then((function(r){return n(r.data,(function(n,i){var o={fetchTime:t._getNow(),status:r.statusCode};r.statusCode>=200&&r.statusCode<300?t.pushEntity(a.valid(e,n,o)):t.pushEntity(a.missing(e,o))})),r})).catch((function(r){var n={fetchTime:t._getNow(),status:0,message:r.toString()};t.pushEntity(a.missing(e,n))})),s.deferred(e))},t.prototype.pushEntity=function(e){this.push(e)},t.prototype.handlePush=function(e){},t}(o.BaseStore);t.NetworkStore=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(176);t.loadStrategyWrapperStore=function(e){var t=e.Store,r=e.strategies;return function(){function e(e){var r=this.wrappedStore=new t(e);this._nextStore=e.nextStore||null,this._nextStore&&this._nextStore.onPush(r.handlePush.bind(r))}return e.prototype.get=function(e){var t=this,n=r[""+e.loadStrategy];if(!n)throw new Error("No handler for strategy "+e.loadStrategy);return n({get:function(){return t.wrappedStore.getEntry(e)},next:function(){return t._nextStore&&t._nextStore.get(e)||t._missing(e)},create:function(){return t._create(e)}})},e.prototype.updateEntry=function(e){this.wrappedStore.handlePush(e),this._nextStore&&this._nextStore.updateEntry(e)},e.prototype.onPush=function(e){this.wrappedStore.onPush(e)},e.prototype._create=function(e){var t=this.wrappedStore.createEntry(e);return this.wrappedStore.handleCreate(t),t},e.prototype._missing=function(e){return{status:n.Status.Missing,entityDesc:e.desc,context:e.context,metaData:{fetchTime:null,status:null}}},e}()}},,,function(e,t,r){var n,i;function o(e,t,n){return void 0===n&&(n=!1),function(n){return n.error===r(60).RECAPTCHA_REQUIRED?(e.toggleRecaptcha(t,!0),r(6).reject()):n}}function a(e,t){return function(){var r=this;return e().then((function(e){return r.getValidFieldValues(["age","gender","genderCustom"]).then((function(t,r,n){return{token:e,birthday:t,gender:u(r,n)}}))})).then(t)}}function s(e){return r(6).resolve(e.body||{})}function u(e,t){return"custom"===e?t:e}e.exports=r(51).extend(r(682),r(919).withOptions({recaptchas:["check_identifier_recaptcha","signup_with_email_recaptcha","signin_with_password_recaptcha"]}),{resource_type:"signin-form",fields:r(0).mapObject({identifier:"",password:"",age:null,username:"",reset_password_addresses:null},(function(e){return{defaultValue:e}})),constraints:{identifier:[[r(41),{message:r(1).t("Enter a valid email address or profile URL.")}]],password:[[r(41),{message:r(1).t("Enter a password.")}],[r(920),{minLength:6,message:r(1).t("Use at least [[minLength]] characters.")}]],age:[[r(41),{message:r(1).t("Enter your age.")}]],username:[[r(41),{message:r(1).t("Enter your display name. You can change it later.")}],[r(68),{maxLength:50,message:r(1).t("Enter a display name that is up to [[maxLength]] characters.")}]]},buttons:r(0).mapObject({checkIdentifier:{label:r(1).t("Continue")},signinWithPassword:{label:r(1).t("Sign in")},checkPassword:{label:r(1).t("Accept & continue")},signupWithFacebook:{label:r(1).t("Accept & continue")},addUserInformation:{label:r(1).t("Get started")},signupWithAgeAndGender:{label:r(1).t("Continue")},promptPasswordReset:{label:r(1).t("Request a password reset")},signupWithGoogleAddAgeAndGender:{label:r(1).t("Continue")},signupWithFacebookAddAgeAndGender:{label:r(1).t("Continue")}},(function(e,t){return r(0).assign(e,{action:t})})),actions:{checkIdentifier:function(){return this.getValidFieldValues(["identifier","check_identifier_recaptcha"]).then(r(134).checkIdentifier).then(o(this,"check_identifier_recaptcha"))},signinWithGoogle:function(){return r(165).getGoogleToken().then(r(134).signinWithGoogle)},signinWithFacebook:function(){return r(96).getFacebookToken().then(r(134).signinWithFacebook)},signinWithPassword:function(){var e="signin_with_password_recaptcha";return this.getValidFieldValues(["identifier","password",e]).then(r(134).signinWithPassword).then(o(this,e))},signupWithFacebook:(n=r(96).receiveBirthdayAndFacebookToken,i=r(134).signupWithFacebook,function(){return n().then((function(e){var t=e.token,r=e.birthday,n=e.gender;return i({token:t,birthday:r,gender:n})}),(function(){return r(6).resolve({error:"age_not_provided"})}))}),addUserInformation:function(){return this.getValidFieldValues(["username"]).then((function(e){var t=r(3).get("me"),n={username:e};return t&&t.set(n),r(6).mapEither(s,r(29).callEndpoint("meUpdate",null,null,null,n))}))},signupWithAgeAndGender:function(){return this.getValidFieldValues(["identifier","password","age","signup_with_email_recaptcha","gender","genderCustom"]).then((function(e,t,r,n,i,o){return{email:e,password:t,age:r,recaptcha:n,gender:u(i,o)}})).then(r(134).signupWithEmail).then(o(this,"signup_with_email_recaptcha"))},promptPasswordReset:function(){return this.getValidFieldValues(["identifier"]).then((function(e){return r(6).mapEither(s,r(29).callEndpoint("resetPassword",null,{email:e}))}))},checkPassword:function(){return this.getValidFieldValues(["password","signup_with_email_recaptcha"])},signupWithGoogleAddAgeAndGender:a(r(165).getGoogleToken,r(134).signupWithGoogle),signupWithFacebookAddAgeAndGender:a(r(96).getFacebookToken,r(134).signupWithFacebook)},setup:function(){r(96).loadFacebookSDK(),r(165).loadGoogleAuthSDK(),this.toggleRecaptcha("signup_with_email_recaptcha",!0)}})},,,function(e,t,r){e.exports=r(136).extend({readEndpoint:"userBlockingsIds",createEndpoint:"userBlockingsCreate",deleteEndpoint:"userBlockingsDelete",getDeleteEndpointPathParams:function(e){return{urn:r(53).fromComponents({collection:"users",id:e})}},getCreateEndpointPathParams:function(e){return{urn:r(53).fromComponents({collection:"users",id:e})}},getCreateEndpointQueryParams:function(e,t){var r=void 0===t?{}:t;return{reported:r.reported?"true":null,remove_activities:r.remove_activities?"true":null}}})},function(e,t,r){e.exports=r(136).extend({maxResults:1e3,readOnly:!0,readEndpoint:"myFollowersIds"})},function(e,t,r){e.exports=r(136).extend({readEndpoint:"likedStationIds",createEndpoint:"likeStation",deleteEndpoint:"unlikeStation"})},function(e,t,r){e.exports=r(136).extend({readEndpoint:"playlistLikesIds",createEndpoint:"playlistLikesCreate",deleteEndpoint:"playlistLikesDelete"})},function(e,t,r){e.exports=r(136).extend({readEndpoint:"playlistRepostsIds",createEndpoint:"playlistRepostsCreate",deleteEndpoint:"playlistRepostsDelete",getReadEndpointQueryParams:function(){return{limit:200}}})},function(e,t,r){e.exports=r(136).extend({readEndpoint:"soundLikesIds",createEndpoint:"soundLikesCreate",deleteEndpoint:"soundLikesDelete",getReadEndpointQueryParams:function(){return{limit:200}}})},function(e,t,r){e.exports=r(136).extend({readEndpoint:"soundRepostsIds",createEndpoint:"soundRepostsCreate",deleteEndpoint:"soundRepostsDelete",getReadEndpointQueryParams:function(){return{limit:200}}})},function(e,t,r){var n=function(e){return{urn:e,userId:r(16).currentUserId()}};e.exports=r(136).extend({readEndpoint:"systemPlaylistLikesUrns",createEndpoint:"systemPlaylistLikesCreate",deleteEndpoint:"systemPlaylistLikesDelete",getCreateEndpointPathParams:n,getDeleteEndpointPathParams:n})},,,,,,,,,,,,function(e,t,r){e.exports=r(995)},,,,,,function(e,t,r){var n;window,n=function(e){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=12)}([function(t,r){t.exports=e},function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t,r){return void 0===t&&(t="An error occurred when activating web audio."),e.call(this,t,r)||this}return i(t,e),t.prototype.getCode=function(){return"HTML5_PLAYER.WEB_AUDIO_ACTIVATION_ERROR"},t}(r(0).errors.PlayerFatalError);t.WebAudioActivationError=o},function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t,r){return void 0===t&&(t="An error occurred when initializing web audio."),e.call(this,t,r)||this}return i(t,e),t.prototype.getCode=function(){return"HTML5_PLAYER.WEB_AUDIO_INITIALIZE_ERROR"},t}(r(0).errors.PlayerError);t.WebAudioInitializeError=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0);t.buildMimeTypeFromFormat=function(e,t){void 0===t&&(t={});var r=e.mimeType||t.mimeType;if(!r)return null;var i=e.audioCodec||t.audioCodec,o=e.videoCodec||t.videoCodec,a=n.helpers.compact([i,o]);return r+(a.length>0?'; codecs="'+a.map((function(e){return e.id})).join(",")+'"':"")}},function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var o=r(0),a=r(5),s=r(13),u=r(6),l=r(7),c=r(8),d=r(14),f=r(9),p=r(2),h=r(10),g=r(1),y=r(11),m=r(3),_=o.helpers.deferred.buildDeferred,v=o.helpers.url.getExtension,b=o.helpers.time.now,w=o.helpers.Promise,E=o.helpers.browser,S=o.logger.prefixLogger,A=o.errors.NotSupportedError,P=o.errors.PlayerFatalError,I=new Error("Media element was revoked."),M=[],T=new o.helpers.SCWeakMap,k=null,C=o.helpers.retry.buildExponentialDelayCalculator({jitter:0,timeBase:50});function x(e){try{return!!document.createElement("audio").canPlayType(e)}catch(e){return!1}}var D=function(e){function t(t){var r=e.call(this,t)||this;r._duration=null,r._stallDetected=!1,r._fadeManagers=null,r._shouldCoverGlitch=!0,r._initialized=!1,r._muted=!1,r._volume=1,r._deferredProvideMediaElementCallback=null,r._playInProgress={inProgress:!1},r._lastStallCheckPos=null,r._stallCheckTimerId=null,r._timeWhenPositionChanged=0,r._endedOverride=!1,r._pauseEventTimer=null,r._positionWhenMediaElementRevoked=0,r._playingWhenMediaElementRevoked=!1,r._provideMediaElementDeferred=null,r._mediaElementAndState=null,r._listeners=[],r._currentSeek=null,r._playDetectionPosition=0,r._playDetectionTimer=null,r._playDetectionTimerNumAttempts=0,r._fadeRate=null,r._seekFadeRate=null,r._lastSeek=null,r._webAudioOrchestration=null,r._fadeEndedHandle=null,r._onSeekFadeOutCompleted=null,r._fadeRateAfterSeek=1/0,r._mediaElPlayShouldBeAborted=new o.helpers.SCWeakMap,r._mediaElPaused=new o.helpers.SCWeakMap,r._mediaElPlayTracker=null,r._logger=S(r._logger,"HTML5PlayerBase"),r._playerDependencies=t,r._webAudioContext=t.webAudioContext||k||(k=new y.WebAudioContext),r._addCachedCurrentTimeListeners();var n=r._webAudioOrchestration=t.fadeSupportEnabled?r._initWebAudio():null;n&&(r._logger.debug("Fading supported."),r._fadeManagers={pausePlay:new s.FadeManager(n.context,n.gainNodes.pausePlay),seek:new s.FadeManager(n.context,n.gainNodes.seek)}),r._handleDurationUpdates();var i=void 0!==t.mediaElement?t.mediaElement:r._createDefaultMediaElement();i&&r.provideMediaElement(i).catch((function(e){e!==I?r._triggerError(new d.InitializeError(e)):r._logger.debug("Initial provideMediaElement() call was aborted.")}));var a=r._fadeManagers;return a&&r.onChange.subscribe((function(e){var t=e.stalled,n=e.seek;if(e.ended&&a.seek.getDirection()===s.FadeDirection.UP&&a.seek.isFading())r._logger.debug("Completing fade in after seek early because reached end."),a.seek.performFade(1/0),r._notifyFadingForSeek(!1);else{var i=r.getSeekState(),o=i&&"COMPLETED"===i.state,u=n&&"COMPLETED"===n.state;(!1===t&&o||u&&!r.isStalled())&&a.seek.getDirection()===s.FadeDirection.DOWN&&(r._logger.debug("Fading in after seek.",r._fadeRateAfterSeek),a.seek.performFade(r._fadeRateAfterSeek,(function(){return r._notifyFadingForSeek(!1)})))}})),r._logger.info("Checking if the player can play the provided descriptor."),r._canPlayTimer=window.setTimeout((function(){r._canPlay().then((function(e){if(!r.isDead())return e instanceof o.errors.NotSupportedError?(r._logger.info("Player not supported.",e),void r._triggerError(e)):e?(r._logger.info("Player supported."),void r._initialize()):(r._logger.info("Player not supported."),void r._triggerError(new A))})).catch((function(e){r._logger.error("Unexpected error during can play check.",e),r._triggerError(new P("An unexpected error occured during initialization.",e))}))}),0),r}return i(t,e),t.isFormatSupported=function(e){var t=m.buildMimeTypeFromFormat(e);return!!t&&x(t)},t.prototype.getMediaElement=function(){return this._mediaElementAndState&&this._mediaElementAndState.element},t.prototype.provideMediaElement=function(e){var t=this;if(this._ensureNotDead(),this._mediaElementAndState)throw new Error("Already have a media element.");if(M.indexOf(e)>=0)throw new Error("The same media element is currently being used in another player.");if(!this._webAudioOrchestration&&T.has(e))throw new Error("The same media element has been used in another player with fading enabled.");M.push(e);var r=this._provideMediaElementDeferred=_();return this._update((function(){t._logger.debug("provideMediaElement() called.",e),t._initMediaElementLocal(e,!1);var n=t._mediaElementAndState={element:e,state:"INITIALIZING"},i=function(){t._logger.debug("Initializing media element."),t._initMediaElement(e,!0),t._addPausedHandlers(e),t._attachListeners();var i=t._listenToOnce("error",(function(){t._provideMediaElementDeferred=null;var n=e.error,i=n?n.code:"unknown";t._logger.error("Error whilst initializing media element.",i),t.revokeMediaElement(),r.reject(new Error("Error when initializing media element. Error: "+i))}),{earlyAttach:!0}),o=function(){null===t._getQueuedSeekPosition()&&t._positionWhenMediaElementRevoked>0?(t._logger.debug("Seeking to expected position..."),t._performSeek(t._positionWhenMediaElementRevoked,(function(e){if(void 0!==e)return t._provideMediaElementDeferred=null,t._logger.error("An error occurred when trying to seek to the expected position."),t.revokeMediaElement(),void r.reject(new Error("An error occurred when trying to restore the position."));t._logger.debug("Seeked to expected position."),a()}))):a()},a=function(){t.isPlaying()===t.isActuallyPlaying()&&t._playingWhenMediaElementRevoked?(t._logger.debug("Calling play to match previous state..."),t._mediaElementPlay().catch((function(e){t._provideMediaElementDeferred=null,t._logger.error("An error occurred when trying to play.",e),n===t._mediaElementAndState&&t.revokeMediaElement(),r.reject(new Error("Browser refused play() request on media element."))})),t._listenToOnce("play",(function(){t._logger.debug("Play succeeded."),s()}),{earlyAttach:!0})):s()},s=function(){t._mediaElementAndState===n?(t._provideMediaElementDeferred=null,i.remove(),r.resolve(void 0),t._mediaElementAndState.state="STABLE",t._logger.debug("Finished putting element in expected state."),t._shouldCoverGlitch=!0,null!==t._duration&&t._update((function(){t.isReady()||t._signalReady(),t._handleDeferredPauseAndSeek()}))):t._triggerError(new P("Media element switched unexpectedly."))};t._listenToOnce("emptied",(function(){t._logger.debug("Got emptied event from media element."),t._logger.debug("Putting media element in the state that is expected..."),o()}),{earlyAttach:!0})};t._initialized?i():t._deferredProvideMediaElementCallback=i})),r.promise},t.prototype.revokeMediaElement=function(){var e=this;if(!this._mediaElementAndState)throw new Error("There is no media element to revoke.");this._deferredProvideMediaElementCallback=null,this._provideMediaElementDeferred&&(this._provideMediaElementDeferred.reject(I),this._provideMediaElementDeferred=null),this._logger.debug("revokeMediaElement() called."),this._detachListeners();var t=this._mediaElementAndState.element,r=M.indexOf(t);r>=0&&M.splice(r,1),this._onSeekFadeOutCompleted=null,this.isDead()||(this._positionWhenMediaElementRevoked=this.getPosition(),this._playingWhenMediaElementRevoked=this.isPlaying()),this._mediaElementAndState=null,this._initMediaElement(t,!1),this._removePausedHandlers(t),this._completeCurrentFade(),this._completeSeekFadeOutAndIn(),this._update((function(){e.isDead()||(!e.isPlaying()&&e.isActuallyPlaying()&&e._notifyPlaying(!1),e._handleStalled())}))},t.prototype.getBufferedTimeRanges=function(){return this._mediaElementAndState&&"USABLE"===this._mediaElementAndState.state?a.buildTimeRanges(this._mediaElementAndState.element.buffered):[]},t.prototype.getMaxBufferLength=function(){return null},t.prototype._hasInitialized=function(){return this._initialized},t.prototype._inferFormat=function(e){switch(v(e)){case"mp3":return{mimeType:"audio/mpeg"};case"opus":return{mimeType:"audio/ogg",audioCodec:{id:"opus"}};case"mp4":return{mimeType:"video/mp4"};case"m4a":return{mimeType:"audio/mp4"};case"m3u8":return{mimeType:"application/x-mpegURL"};default:return{}}},t.prototype._canPlayType=function(e){return x(e)},t.prototype._initialize=function(){var e=this;this._initialized=!0,this._listenTo("error",(function(){if("INITIALIZING"!==e._mediaElementAndState.state){var t=e._mediaElementAndState.element.error;switch(t&&t.code){case 2:e._triggerError(new u.NetworkError);break;case 3:e._triggerError(new l.DecodeError);break;default:e._logger.error("Unexpected error from media element.",t&&t.code,t&&t.message),e._triggerError(new c.MediaElementError(t))}}else e._logger.debug("An error occurred, but the media element is initializing, so ignoring...")}),{earlyAttach:!0}),this._listenTo("play",(function(){e._logger.debug("Media element play event."),e._updateCachedCurrentTime(),e.isPlaying()||e.isActuallyPlaying()||!e._mediaElementAndState||e._isMediaElementPaused(e._mediaElementAndState.element)||(e._logger.debug("Calling play() because something external called play() on media element."),e.play())})),this._listenTo("playing",(function(){e._logger.debug("Media element playing event."),e._updateCachedCurrentTime(),e._mediaElementAndState&&!e._isMediaElementPaused(e._mediaElementAndState.element)?e._handlePlayingEvent():e._logger.debug("Ignoring playing event because media element is reporting it is paused.")})),this._listenTo("timeupdate",(function(){e._updateCachedCurrentTime(),e._determineIfPlaying()})),this._listenTo("pause",(function(){e._logger.debug("Media element pause event."),e._updateCachedCurrentTime(),e._mediaElementAndState&&e._isMediaElementPaused(e._mediaElementAndState.element)?e._handlePauseEvent():e._logger.debug("Ignoring pause event because media element is reporting it is not paused.")})),this._listenTo("seeking",(function(){if(null===e._getQueuedSeekPosition()&&(e._logger.debug("Media element seeking event."),e._mediaElementAndState&&"USABLE"===e._mediaElementAndState.state)){var t=1e3*e._mediaElementAndState.element.currentTime,r=e._lastSeek;if(r&&(null===r.unstallTime||r.unstallTime+500>b())&&Math.abs(r.position-t)<=500)return void e._logger.debug("Ignoring seeking event because we seeked recently to somewhere near.");var n=e._mediaElementAndState.cachedMediaElTime.elTime;e._logger.debug("Reverting seek on media element to "+n+"."),e._mediaElementAndState.element.currentTime=n/1e3,e._updateCachedCurrentTime(),e._lastSeek={unstallTime:b(),position:n},e.seek(t,{fadeOutDuration:0}).catch((function(r){e._logger.warn("Error when trying to seek to "+t+" whilst handling seeking event",r)}))}})),this._listenTo("ended",(function(){e._logger.debug("Media element ended event."),e._mediaElementAndState&&e._mediaElementAndState.element.ended?e._handleEndedEvent():e._logger.debug("Ignoring ended event because media element is reporting it is not ended.")})),this._listenTo("stalled",(function(){e._logger.debug("Media element stalled event."),e._checkIfStalled()})),this._listenTo("volumechange",(function(){e._mediaElementAndState&&e._notifyVolumeChangeFromMediaEl(e._mediaElementAndState.element)})),this._stallCheckTimerId=window.setInterval((function(){return e._checkIfStalled()}),400),this._deferredProvideMediaElementCallback&&this._deferredProvideMediaElementCallback()},t.prototype._handleDurationChange=function(){var e=this,t=this._duration;null!==t&&this._update((function(){e._provideDuration(t),e._mediaElementAndState&&"STABLE"===e._mediaElementAndState.state&&(e.isReady()||e._signalReady(),e._handleDeferredPauseAndSeek())}))},t.prototype._createDefaultMediaElement=function(){return document.createElement(this._playerDependencies.mediaElementType||"audio")},t.prototype._handlePauseEvent=function(){var e=this;if(!this._mediaElementAndState)throw new Error("Media element should exist.");var t=this._mediaElementAndState.element;this.isActuallyPlaying()&&this._update((function(){t.ended||(e._notifyNotStalled(),e._completeCurrentFade(),e._completeSeekFadeOutAndIn(),e._notifyPlaying(!1))}))},t.prototype._handlePlayingEvent=function(){var e=this,t=this._duration;if(null===t)throw new Error("Expecting duration to exist.");var r=this._getTruePosition();r>=t?this._logger.warn("Got a media element playing event and the positon was >= the duration.",r,t):this.isEnded()||this._shouldBeEnded()?this._logger.warn("Got a media element playing event when the player is/should be ended."):this._update((function(){e._notifyNotStalled(),e._determineIfPlaying(),e.isActuallyPlaying()||(e._playDetectionTimerNumAttempts=0,e._playDetectionTimer||(e._playDetectionTimer=window.setInterval((function(){return e._determineIfPlaying()}),10)))}))},t.prototype._handleEndedEvent=function(){null===this._getQueuedSeekPosition()?this._update():this._logger.warn("Got a media element ended event but ignoring because a seek is in progress.")},t.prototype._shouldBeEnded=function(){return this._endedOverride||this._mediaElementReportingEnded()},t.prototype._mediaElementReportingEnded=function(){return!!(this._mediaElementAndState&&this._mediaElementAndState.element.ended&&this._mediaElementAndState.element.paused)},t.prototype._handleDurationUpdates=function(){var e=this;this._listenToOnce("loadedmetadata",(function(){return e._updateDurationFromMediaElement()}),{reattach:!0,earlyAttach:!0}),this._listenTo("durationchange",(function(){return e._updateDurationFromMediaElement()}))},t.prototype._updateDurationFromMediaElement=function(){var e=this._mediaElementAndState;e&&(this._duration=1e3*e.element.duration,this._handleDurationChange())},t.prototype._handlePlayPauseChange=function(e,t){var r=this,n=t.fadeRate;this._fadeRate=n||null;var i=function(){r._mediaElementAndState&&"USABLE"===r._mediaElementAndState.state&&r._callMediaElementPause(r._mediaElementAndState.element),r._notifyFading(!1),r._completeSeekFadeOutAndIn(),r._notifyPlaying(!1)};if(this.isEnded())e?this._notifyPlaying(!0):i();else if(this._mediaElementAndState&&"USABLE"===this._mediaElementAndState.state){var o=this._playInProgress.inProgress||!this._isMediaElementPaused(this._mediaElementAndState.element);e&&!o?(this._fadeManagers&&this._fadeManagers.pausePlay.performFade(-1/0),this._playDetectionPosition=this._getTruePosition(),this._play((function(e){return r._notifyPlayRejection(e)}))):!e&&o?this._update((function(){r._fadeManagers&&r._fadeManagers.pausePlay.getDirection()===s.FadeDirection.UP?(r._notifyFading(!0),r._fadeManagers.pausePlay.performFade(n||-1/0,(function(){return i()}))):i()})):e&&o?this._update((function(){r._fadeManagers&&r._fadeManagers.pausePlay.getDirection()===s.FadeDirection.DOWN&&r._fadeManagers.pausePlay.performFade(n||1/0,(function(){return r._notifyFading(!1)})),r._notifyPlaying(!0)})):this._notifyPlaying(e)}},t.prototype._handleVolumeChange=function(e,t){if(this._mediaElementAndState){var r=this._mediaElementAndState.element;r.muted=t,r.volume=e,this._notifyVolumeChangeFromMediaEl(r)}else this._muted=t,this._volume=e,this._notifyVolumeChange(e,t)},t.prototype._handleSeekChange=function(e,t){var r=this,n=t.fadeRate;this._seekFadeRate=n,this._fadeRateAfterSeek=n.afterSeek||1/0;var i=this._mediaElementAndState;if(i&&"USABLE"===i.state){this._onSeekFadeOutCompleted=function(){r._onSeekFadeOutCompleted=null,u&&u.remove(),a&&a.seek.getDirection()===s.FadeDirection.DOWN&&(r._logger.debug("Fade out for seek completed.",e,n),a.seek.performFade(-1/0),r._notifyFadingForSeek(!1));var t=r._mediaElementReportingEnded();r._endedOverride=!1;var i=r._lastSeek={position:e,unstallTime:null};r._performSeek(e,(function(t){void 0===t?(e===r._duration&&(r._endedOverride=!0),r._update((function(){if(r.isActuallyPlaying()&&r._assumeStalled(),r._updateCachedCurrentTime(!0),r._signalSeekComplete(),r.isStalled())var e=r.onChange.subscribe((function(t){var r=t.dead,n=t.stalled;r?e.remove():n||(i.unstallTime=b(),e.remove())}));else i.unstallTime=b();a&&(!r.isActuallyPlaying()||r._fadeRateAfterSeek===1/0||r.isEnded()?a.seek.performFade(1/0):r._notifyFadingForSeek(!0))}))):r._triggerError(new o.errors.PlayerFatalError("An error occurred when trying to seek.",t))})),t&&r.isPlaying()&&r._play((function(e){r._triggerError(new o.errors.PlayerFatalError("Error when trying to play after seek from end.",e))}))},this._fadeEndedHandle&&(this._fadeEndedHandle.remove(),this._fadeEndedHandle=null);var a=this._fadeManagers,u=null,l=function(){r._onSeekFadeOutCompleted&&r._onSeekFadeOutCompleted()};this._update((function(){a&&(n.beforeSeek||n.afterSeek)?(r._logger.debug("Fading out ready for seek.",e,n),(a.seek.getDirection()===s.FadeDirection.UP||a.seek.isFading())&&r.isActuallyPlaying()&&n.beforeSeek&&!r._mediaElementReportingEnded()?(r._notifyFadingForSeek(!0),u=r._fadeEndedHandle=r._listenToOnce("ended",l),a.seek.performFade(n.beforeSeek||-1/0,l)):(a.seek.performFade(-1/0),l())):l()}))}},t.prototype._performSeek=function(e,t){var r=this,n=this._mediaElementAndState;if(!n)throw new Error("Media element does not exist.");var i=this._currentSeek;i&&(this._currentSeek=null,i.abort());var o=n.element,a=0,s=e,u=function(){var n=[];try{o.currentTime=s/1e3}catch(t){r._logger.warn("Error when trying to seek.",t,e,s)}r._playDetectionPosition=1e3*o.currentTime;var i=window.setTimeout((function(){r._logger.warn("Seek attempt failed. Retrying...",e,s,a),l(),s+=.001,u()}),C(++a));n.push(r._listenToOnce("seeked",(function(){var n=1e3*o.currentTime;Math.abs(n-s)<=100?(r._currentSeek&&(r._currentSeek.abort(),r._currentSeek=null),t()):(r._logger.warn("Seek attempt failed. Incorect position. Retrying...",n,e,s),l(),u())}),{earlyAttach:!0}));var l=function(){n.forEach((function(e){return e.remove()})),window.clearTimeout(i)};r._currentSeek={abort:l}};u()},t.prototype._getPosition=function(){var e=null!==this._duration?this._duration:1/0;if(!this._mediaElementAndState||"USABLE"!==this._mediaElementAndState.state)return this._positionWhenMediaElementRevoked;this._determineIfPlaying();var t=Math.min(this._getTruePosition(),e);return this._shouldBeEnded()?e:t},t.prototype._getTruePosition=function(){if(!this._mediaElementAndState||"USABLE"!==this._mediaElementAndState.state)throw new Error("Media element does not exist or is in invalid state.");var e=this._mediaElementAndState.cachedMediaElTime,t=e.elTime,r=e.systemTime;return this.isStalled()||!this.isActuallyPlaying()?t:t+(b()-r)},t.prototype._kill=function(){window.clearTimeout(this._canPlayTimer),this._playDetectionTimer&&window.clearInterval(this._playDetectionTimer),this._mediaElementAndState&&this.revokeMediaElement(),this._stallCheckTimerId&&window.clearInterval(this._stallCheckTimerId),this._webAudioOrchestration&&this._webAudioOrchestration.gainNodes.glitchCoverup.disconnect(this._webAudioOrchestration.context.destination),this._listeners=[]},t.prototype._listenToOnce=function(e,t,r){void 0===r&&(r={});var n=r.reattach,i=r.earlyAttach;void 0===n&&(n=!1),void 0===i&&(i=!1);var o=this._listenTo(e,(function(e){o.remove(),t(e)}),{reattach:n,earlyAttach:i});return o},t.prototype._listenTo=function(e,t,r){var n=this;void 0===r&&(r={});var i=r.reattach,o=r.earlyAttach;void 0===i&&(i=!0),void 0===o&&(o=!1);var a=function(r){if(s.attachedToElement)switch(e){case"play":var i=n._mediaElPlayShouldBeAborted.get(s.attachedToElement);if(n._mediaElPlayShouldBeAborted.delete(s.attachedToElement),i){n._logger.warn("Calling pause() on media element because the play request should have been rejected."),s.attachedToElement.pause();break}default:t(r)}else n._logger.warn("Got media element event after handler was removed. Ignoring.",r)},s={attachedToElement:null,handler:a,eventType:e,once:!1,reattach:i,earlyAttach:o};if(this._listeners.push(s),!this._mediaElementAndState||"USABLE"!==this._mediaElementAndState.state&&!o)return{remove:function(){var e=n._listeners.indexOf(s);e>=0&&n._listeners.splice(e,1)}};var u=this._mediaElementAndState.element;return u.addEventListener(e,a,!1),s.attachedToElement=u,{remove:function(){var t=n._listeners.indexOf(s);t>=0&&(n._listeners.splice(t,1),s.attachedToElement=null,u.removeEventListener(e,a,!1))}}},t.prototype._notifyNotStalled=function(){this._stallDetected=!1,this._lastStallCheckPos=null,this._handleStalled()},t.prototype._assumeStalled=function(){this._mediaElementAndState&&"USABLE"===this._mediaElementAndState.state&&(this._lastStallCheckPos=1e3*this._mediaElementAndState.element.currentTime,this._timeWhenPositionChanged=0,this._stallDetected=!0,this._handleStalled())},t.prototype._initMediaElement=function(e,t){this._initMediaElementLocal(e,t)},t.prototype._callMediaElementPlay=function(e){var t=this;E.isEdge()&&this._mediaElPlayShouldBeAborted.set(e,!1);var r=this._mediaElPaused.get(e);r&&(r.paused=!1);var n=this._mediaElPlayTracker={},i=e.play();return r&&i&&i.catch&&i.catch((function(){n===t._mediaElPlayTracker&&(r.paused=!0)})),i},t.prototype._callMediaElementPause=function(e){this._playInProgress.inProgress=!1,E.isEdge()&&this._mediaElPlayShouldBeAborted.has(e)&&this._mediaElPlayShouldBeAborted.set(e,!0);var t=this._mediaElPaused.get(e);t&&(t.paused=!0),e.pause()},t.prototype._isMediaElementPaused=function(e){var t=this._mediaElPaused.get(e);return!t||t.paused},t.prototype._completeCurrentFade=function(){var e=this._fadeManagers;e&&(e.pausePlay.performFade(this.isPlaying()?1/0:-1/0),this.isDead()||this._notifyFading(!1))},t.prototype._completeSeekFadeOutAndIn=function(){var e=this,t=this._fadeManagers;t&&this._update((function(){t.seek.performFade(1/0),e.isDead()||(e._notifyFadingForSeek(!1),e._onSeekFadeOutCompleted&&e._onSeekFadeOutCompleted())}))},t.prototype._determineIfPlaying=function(){var e=this;this._playDetectionTimer&&(!this.isPlaying()||++this._playDetectionTimerNumAttempts>=200)&&(window.clearInterval(this._playDetectionTimer),this._playDetectionTimer=null),this._update((function(){e._mediaElementAndState&&"USABLE"===e._mediaElementAndState.state&&(e.isDead()||!e.isReady()||!e.isPlaying()||e.isActuallyPlaying()||e._isMediaElementPaused(e._mediaElementAndState.element)||e._getTruePosition()===e._playDetectionPosition||(e._logger.debug("Detected that playback has started."),e._playDetectionTimer&&(window.clearInterval(e._playDetectionTimer),e._playDetectionTimer=null),e._notifyPlaying(!0),e._fadeManagers&&(e._notifyFading(!0),e._fadeManagers.pausePlay.performFade(e._fadeRate||1/0,(function(){return e._notifyFading(!1)})))))}))},t.prototype._updateCachedCurrentTime=function(e){void 0===e&&(e=!1),!this._mediaElementAndState||"USABLE"!==this._mediaElementAndState.state||!e&&this._mediaElementAndState.element.seeking||(this._mediaElementAndState.cachedMediaElTime={elTime:1e3*this._mediaElementAndState.element.currentTime,systemTime:b()})},t.prototype._addCachedCurrentTimeListeners=function(){var e=this;this.onChange.subscribe((function(t){var r=t.actuallyPlaying,n=t.stalled;void 0===r&&void 0===n||e._updateCachedCurrentTime()}))},t.prototype._initMediaElementLocal=function(e,t){if(e.setAttribute("msAudioCategory","BackgroundCapableMedia"),e.mozAudioChannelType="content",e.removeAttribute("src"),function(e){e.load()}(e),this._activateWebAudio(),this._pauseEventTimer&&(this._logger.debug("Clearing pause event timer."),window.clearTimeout(this._pauseEventTimer),this._pauseEventTimer=null),this._webAudioOrchestration&&this._webAudioOrchestration.mediaElementSource&&(this._logger.debug("Disconnecting media element from gain node."),this._webAudioOrchestration.mediaElementSource.disconnect(this._webAudioOrchestration.gainNodes.pausePlay),this._webAudioOrchestration.mediaElementSource=void 0),this._currentSeek&&(this._logger.debug("Aborting seek attempt."),this._currentSeek.abort(),this._currentSeek=null),t){this._webAudioOrchestration&&(this._logger.debug("Adding crossorigin attribute to media element because fading enabled."),e.setAttribute("crossorigin","anonymous"));var r=this._getUrlForMediaElement();if(this._logger.debug("Setting media element src.",r),e.src=r,e.volume=this._volume,e.muted=this._muted,this._webAudioOrchestration&&this._fadeManagers){this._logger.debug("Creating media element source node...");var n=T.get(e);if(n?this._logger.debug("Reusing media element source node."):(n=this._webAudioOrchestration.context.createMediaElementSource(e),T.set(e,n)),this._webAudioOrchestration.mediaElementSource=n,n.connect(this._webAudioOrchestration.gainNodes.pausePlay),this._logger.debug("Created media element source node."),this._shouldCoverGlitch){var i=this._webAudioOrchestration.context.currentTime,o=this._webAudioOrchestration.gainNodes.glitchCoverup;o.gain.setValueAtTime(0,i),o.gain.setValueAtTime(1,i+.1),this._shouldCoverGlitch=!1}}}e.playbackRate=1,e.setAttribute("preload","metadata"),this._callMediaElementPause(e),e.load()},t.prototype._addPausedHandlers=function(e){var t={removeListeners:function(){e.removeEventListener("play",r),e.removeEventListener("playing",r),e.removeEventListener("pause",r),e.removeEventListener("ended",r)},paused:!1},r=function(){t.paused=e.paused};r(),e.addEventListener("play",r),e.addEventListener("playing",r),e.addEventListener("pause",r),e.addEventListener("ended",r),this._mediaElPaused.set(e,t)},t.prototype._removePausedHandlers=function(e){var t=this._mediaElPaused.get(e);t&&t.removeListeners(),this._mediaElPaused.delete(e)},t.prototype._checkIfStalled=function(){if(this._mediaElementAndState&&"USABLE"===this._mediaElementAndState.state&&this.isActuallyPlaying()){var e=this._mediaElementAndState.element,t=1e3*e.currentTime,r=o.helpers.time.now();t!==this._lastStallCheckPos&&(this._timeWhenPositionChanged=r),this._stallDetected=e.readyState<=2||this._timeWhenPositionChanged<=r-500,this._lastStallCheckPos=t,this._handleStalled()}},t.prototype._handleStalled=function(){this._shouldBeEnded()&&null===this._getQueuedSeekPosition()?this.isEnded()||(this._logger.debug("Updating because stalled near end."),this._update()):this._notifyStalled(this._stallDetected||!this._mediaElementAndState||"USABLE"!==this._mediaElementAndState.state)},t.prototype._play=function(e){var t=this,r=this._activateWebAudio(),n={inProgress:!0};this._playInProgress=n,this._mediaElementPlay().then((function(){n.inProgress=!1,r.catch((function(e){t._logger.error("Error activating web audio.",e),e===y.WEB_AUDIO_ACTIVATION_TIMEOUT_ERROR?t._triggerError(new f.WebAudioActivationTimeoutError):t._triggerError(new g.WebAudioActivationError)}))})).catch((function(r){t._playInProgress===n?(n.inProgress=!1,e&&e(r)):t._logger.debug("Ignoring play error because paused since.",r)}))},t.prototype._mediaElementPlay=function(){var e=this;if(!this._mediaElementAndState)throw new Error("Media element doesn't exist.");if(this._mediaElementReportingEnded())return this._logger.debug("Not calling play() because we are at the end. It will be called after a seek."),w.resolve();var t=this._mediaElementAndState.element,r=this._callMediaElementPlay(t);return new w((function(t,n){r?(r=r.then((function(){return t()}))).catch&&(r=r.catch((function(r){"AbortError"===r.name?(e._logger.debug("Media element play() promise rejected with AbortError."),t()):n(r)}))):t()}))},t.prototype._notifyVolumeChangeFromMediaEl=function(e){this._volume=e.volume,this._muted=e.muted,this._notifyVolumeChange(e.volume,e.muted)},t.prototype._initWebAudio=function(){try{var e=this._webAudioContext.getAudioContextWithSuspender();if(!e)return this._logger.debug("WebAudio not supported/enabled."),null;this._logger.debug("WebAudio supported.");var t=e.context,r=e.suspender;r.watchPlayer(this);var n=t.createGain(),i=t.createGain(),o=t.createGain();return n.connect(i),i.connect(o),o.connect(t.destination),{context:t,suspender:r,gainNodes:{glitchCoverup:o,pausePlay:n,seek:i}}}catch(e){return e===y.WEB_AUDIO_NO_OUTPUT_CHANNELS_ERROR?this._triggerError(new h.WebAudioInitializeNoChannelsError(e)):this._triggerError(new p.WebAudioInitializeError(e)),this._logger.error("Failed initializing web audio.",e),null}},t.prototype._activateWebAudio=function(){return this._webAudioOrchestration?this._webAudioContext.activate():w.resolve(void 0)},t.prototype._handleDeferredPauseAndSeek=function(){var e=this;if(!this._mediaElementAndState||"STABLE"!==this._mediaElementAndState.state)throw new Error("Media element must be in the STABLE state.");this._logger.debug("Handling deferred pause and seek...");var t=this._mediaElementAndState.element;this._mediaElementAndState={state:"USABLE",element:t,cachedMediaElTime:{systemTime:b(),elTime:1e3*t.currentTime}},this._attachListeners(),this._update((function(){e._handleStalled();var t=e._getQueuedSeekPosition();if(null!==t){var r=e._seekFadeRate?e._seekFadeRate.afterSeek:void 0;e._handleSeekChange(t,{fadeRate:{afterSeek:r}})}e.isPlaying()!==e.isActuallyPlaying()&&e._handlePlayPauseChange(e.isPlaying(),{fadeRate:e._fadeRate||void 0})}))},t.prototype._detachListeners=function(){if(!this._mediaElementAndState)throw new Error("Media element doesn't exist.");var e=this._mediaElementAndState.element;this._listeners.forEach((function(t){t.attachedToElement&&(t.attachedToElement=null,e.removeEventListener(t.eventType,t.handler,!1))})),this._listeners=this._listeners.filter((function(e){return e.reattach}))},t.prototype._attachListeners=function(){if(!this._mediaElementAndState)throw new Error("Media element doesn't exist.");this._logger.debug("Attaching listeners...");var e=this._mediaElementAndState,t=e.element,r=e.state;this._listeners.forEach((function(e){e.attachedToElement||!e.reattach||"USABLE"!==r&&!e.earlyAttach||(t.addEventListener(e.eventType,e.handler,!1),e.attachedToElement=t)})),this._logger.debug("Attached listeners.")},t}(o.BasePlayer);t.HTML5PlayerBase=D},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0);t.buildTimeRanges=function(e){for(var t=[],r=e.length,i=0;i<r;i++)t.push({end:1e3*e.end(i),start:1e3*e.start(i)});return n.TimeRange.normalizeRawTimeRanges(t).map((function(e){return new n.TimeRange(e.start,e.end-e.start)}))}},function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(){return e.call(this,"An unrecoverable network error occurred.")||this}return i(t,e),t.prototype.getCode=function(){return"HTML5_PLAYER.NETWORK_ERROR"},t}(r(0).errors.PlayerFatalError);t.NetworkError=o},function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(){return e.call(this,"An unrecoverable error occurred whilst decoding.")||this}return i(t,e),t.prototype.getCode=function(){return"HTML5_PLAYER.DECODE_ERROR"},t}(r(0).errors.PlayerFatalError);t.DecodeError=o},function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t){var r=e.call(this,"Unexpected error from media element.",t)||this;return r._error=t,r}return i(t,e),t.prototype.getCode=function(){return"HTML5_PLAYER.UNEXPECTED_MEDIA_ELEMENT_ERROR_"+(this._error&&this._error.code||"UNKNWON")},t}(r(0).errors.PlayerFatalError);t.MediaElementError=o},function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t){return e.call(this,"We timed out when trying to activate web audio.",t)||this}return i(t,e),t.prototype.getCode=function(){return"HTML5_PLAYER.WEB_AUDIO_ACTIVATION_TIMEOUT_ERROR"},t}(r(1).WebAudioActivationError);t.WebAudioActivationTimeoutError=o},function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t){return e.call(this,"Web audio found no channels.",t)||this}return i(t,e),t.prototype.getCode=function(){return"HTML5_PLAYER.WEB_AUDIO_INITIALIZE_NO_CHANNELS_ERROR"},t}(r(2).WebAudioInitializeError);t.WebAudioInitializeNoChannelsError=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),i=r(15),o=n.helpers.browser.getFirefoxVersion();t.WEB_AUDIO_ACTIVATION_TIMEOUT=5e3,t.WEB_AUDIO_ACTIVATION_TIMEOUT_ERROR=new Error("Web audio activation timed out."),t.WEB_AUDIO_NO_OUTPUT_CHANNELS_ERROR=new Error("Web audio found no output channels.");var a=null;function s(){return"AudioContext"in window&&(n.helpers.browser.isChrome()||o&&o.major>=48||n.helpers.browser.isEdge())}function u(){if(a)return a;if(!s())throw new Error("Web audio is not enabled.");var e=new window.AudioContext;if(!e.destination.maxChannelCount)throw t.WEB_AUDIO_NO_OUTPUT_CHANNELS_ERROR;return a={context:e,suspender:new i.WebAudioContextSuspender(e)}}var l=function(){function e(){}return e.prototype.getAudioContextWithSuspender=function(){return s()?u():null},e.prototype.activate=function(){if(!s())return n.helpers.Promise.resolve(void 0);try{var e=u().context;return((r=e).state&&r.resume&&"running"!==r.state?n.helpers.promiseWithTimeout(r.resume(),t.WEB_AUDIO_ACTIVATION_TIMEOUT,t.WEB_AUDIO_ACTIVATION_TIMEOUT_ERROR):n.helpers.Promise.resolve())}catch(e){return n.helpers.Promise.reject(e)}var r},e}();t.WebAudioContext=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.version="29.5.1",t.buildNumber=1996;var n=r(4);t.HTML5PlayerBase=n.HTML5PlayerBase;var i=r(16);t.HTML5Player=i.HTML5Player;var o=r(17);t.errors=o.errors;var a=r(18);t.helpers=a.helpers;var s=r(11);t.WebAudioContext=s.WebAudioContext},function(e,t,r){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.UP=0]="UP",e[e.DOWN=1]="DOWN"}(n=t.FadeDirection||(t.FadeDirection={}));var i=function(){function e(e,t){this._context=e,this._gain=t,this._currentFade={startTime:0,startValue:1,rate:0},this._fadeEndTimer=null}return e.prototype.isFading=function(){return!!this._fadeEndTimer},e.prototype.getDirection=function(){var e=this._currentFade,t=e.rate,r=e.startValue;return 0===t?0===r?n.DOWN:n.UP:t<0?n.DOWN:n.UP},e.prototype.performFade=function(e,t){var r=this;if(0===e)throw new Error("Rate cannot be 0.");this._fadeEndTimer&&window.clearTimeout(this._fadeEndTimer);var n,i,o,a=this._context.currentTime,s=this._gain;if(e===1/0||e===-1/0){s.gain.cancelScheduledValues(a);var u=e===1/0?1:0;s.gain.setValueAtTime(u,a),this._currentFade={startTime:a,startValue:u,rate:0},this._fadeEndTimer=null,t&&t()}else{var l=this._currentFade,c=(n=0,i=1,o=l.startValue+1e3*l.rate*(a-l.startTime),Math.min(i,Math.max(n,o))),d=(e>0?1-c:c)*(1/Math.abs(1e3*e)),f=a+d;this._currentFade={startTime:a,rate:e,startValue:c},s.gain.cancelScheduledValues(a),s.gain.setValueAtTime(c,a),s.gain.linearRampToValueAtTime(e>0?1:0,f),this._fadeEndTimer=window.setTimeout((function(){r._fadeEndTimer=null,t&&t()}),1e3*d)}},e}();t.FadeManager=i},function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t){return e.call(this,"An error occurred when initializing the media element.",t)||this}return i(t,e),t.prototype.getCode=function(){return"HTML5_PLAYER.INITIALIZE_ERROR"},t}(r(0).errors.PlayerFatalError);t.InitializeError=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=2e4,i=function(){function e(e,t){void 0===t&&(t=n),this._audioContext=e,this._idleTime=t,this._players=[],this._prevPlayingCount=0,this._playingCount=0,this._timerId=null,this._suspendTimerId=null,this._suspendSupported="function"==typeof e.suspend}return e.prototype.watchPlayer=function(e){var t=this;!this._suspendSupported||e.isDead()||this._players.indexOf(e)>=0||(e.onChange.subscribe((function(r){var n=r.dead,i=r.playing;if(void 0!==i&&t._handleCountChange(i),n){var o=t._players.indexOf(e);o>=0&&(t._players.splice(o,1),!t._players.length&&t._suspendTimerId&&(window.clearInterval(t._suspendTimerId),t._suspendTimerId=null))}})),this._players.length||(this._suspendTimerId=window.setInterval((function(){0===t._playingCount&&null===t._timerId&&"suspended"!==t._audioContext.state&&t._scheduleSuspend(5e3)}),5e3)),this._players.push(e),e.isPlaying()&&this._handleCountChange(!0))},e.prototype._handleCountChange=function(e){e?this._playingCount++:this._playingCount--,this._playingCount!==this._prevPlayingCount&&(this._prevPlayingCount=this._playingCount,0===this._playingCount?this._scheduleSuspend(this._idleTime):1===this._playingCount&&this._abortSuspend())},e.prototype._scheduleSuspend=function(e){var t=this;this._timerId=window.setTimeout((function(){t._timerId=null,t._audioContext.suspend()}),e)},e.prototype._abortSuspend=function(){this._timerId&&(window.clearTimeout(this._timerId),this._timerId=null)},e}();t.WebAudioContextSuspender=i},function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var o=r(0),a=r(4),s=r(3),u=o.helpers.Promise,l=function(e){function t(t,r){var n=e.call(this,r)||this;return n._descriptor=t,n._mimeType=t.format.mimeType||s.buildMimeTypeFromFormat(t.format,n._inferFormat(t.url)),n}return i(t,e),t.prototype._getUrlForMediaElement=function(){return this._descriptor.url},t.prototype._canPlay=function(){return this._mimeType&&this._canPlayType(this._mimeType)?u.resolve(!0):u.resolve(!1)},t}(a.HTML5PlayerBase);t.HTML5Player=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(7),i=r(6),o=r(8),a=r(2),s=r(10),u=r(1),l=r(9);!function(e){e.DecodeError=n.DecodeError,e.NetworkError=i.NetworkError,e.MediaElementError=o.MediaElementError,e.WebAudioInitializeError=a.WebAudioInitializeError,e.WebAudioInitializeNoChannelsError=s.WebAudioInitializeNoChannelsError,e.WebAudioActivationError=u.WebAudioActivationError,e.WebAudioActivationTimeoutError=l.WebAudioActivationTimeoutError}(t.errors||(t.errors={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(5),i=r(3);!function(e){!function(e){e.buildTimeRanges=n.buildTimeRanges}(e.timeRanges||(e.timeRanges={})),function(e){e.buildMimeTypeFromFormat=i.buildMimeTypeFromFormat}(e.mimeType||(e.mimeType={}))}(t.helpers||(t.helpers={}))}])},e.exports=n(r(77))},function(e,t,r){var n;window,n=function(e,t,r,n,i,o){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=1)}([function(t,r){t.exports=e},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.version="23.7.2",t.buildNumber=928;var n=r(2);t.HLSMSEPlayerController=n.HLSMSEPlayerController;var i=r(0);t.HLSMSEPlayer=i.HLSMSEPlayer},function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var o=r(3),a=r(4),s=r(5),u=r(6),l=r(7),c=r(0),d=/^[^\?#]*/;function f(e){return e.match(d)[0]}var p=function(e){function t(t){var r=e.call(this)||this;return r._mediaElementManager=t,r.name="MaestroHLSMSE",r}return i(t,e),t.prototype.isRenditionSupported=function(e){return-1!==["hls","encrypted-hls"].indexOf(e.scProtocol)&&c.HLSMSEPlayer.isFormatSupported(e.maestroSegmentFormat||{})},t.prototype.buildPlayer=function(e){return new h(e,this._mediaElementManager)},t}(o.BaseController);t.HLSMSEPlayerController=p;var h=function(){function e(e,t){var r=this;this._config=e,this._mediaElementManager=t,this._urlRefreshRetrieveHandle=null;var n=e.logger,i=e.playerId,o=e.urlAndRendition,u=e.streamUrlExpires,l=e.reportError,d=e.fadeOnPauseAndPlay,p=e.fadeOnSeek,h=e.releaseControl,g=e.getNewUrl,y=e.seekStrategy;this._currentUrl=o.url;var m=o.rendition.maestroSegmentFormat||{},_=this._buildPlaylist(o.url),v=this._player=new c.HLSMSEPlayer({playlist:_,segmentFormat:m},{name:i,mediaElement:null,fadeSupportEnabled:d||p,defaultFadeDuration:d?void 0:0,defaultSeekFadeInDuration:p?void 0:0,defaultSeekFadeOutDuration:p?void 0:0,logger:n,seekStrategy:y,registerListeners:function(e){var t=e.onError,i=e.onChange;t.subscribe((function(e){if(u){if(e instanceof s.errors.URLUpdateError)return n.error("URL refresh failed for some reason.",e),void h({retry:!0});if(r._isErrorWhichShouldTriggerURLRefresh(e))return r._urlRefreshRetrieveHandle?void n.debug("Got a 403 status code, but URL refresh already in progress."):(n.info("Got a 403 status code. Peforming a URL refresh..."),void(r._urlRefreshRetrieveHandle=g()).whenComplete().then((function(e){r._urlRefreshRetrieveHandle=null,e?f(e)!==f(r._currentUrl)?(n.warn("Got a new URL but the rendition did not match the original."),h({retry:!1})):(r._currentUrl=e,n.info("Got a new URL. Updating..."),v.switchPlaylist(r._buildPlaylist(e))):(n.warn("Could not get a new URL."),h({retry:!1}))})).catch((function(e){n.error("Unexpected error when trying to retrieve a new URL.",e),h({retry:!1})})))}l(e.getCode()),a.HTML5PlayerController.errorQualifiesAbort(e)&&h({retry:!1})})),i.subscribe((function(e){e.dead&&(r._urlRefreshRetrieveHandle&&(r._urlRefreshRetrieveHandle.abort(),r._urlRefreshRetrieveHandle=null),h({retry:!1}))}))}});this._mediaElementManager.registerPlayer(v,(function(){return h({retry:!1})}))}return e.prototype.getPlayer=function(){return this._player},e.prototype.getUrl=function(){return this._currentUrl},e.prototype._buildPlaylist=function(e){var t=new u.ArrayBufferLoader({fetchEnabled:this._config.fetchEnabled});return new l.PlaylistHLS({url:e,playlistLoader:u.stringLoader,segmentLoader:t,keyLoader:t,segmentFormat:this._config.urlAndRendition.rendition.maestroSegmentFormat||{},logger:this._config.logger})},e.prototype._isErrorWhichShouldTriggerURLRefresh=function(e){if(e instanceof c.errors.RetrievalError){var t=e.getCause();if(t instanceof c.retrievalErrors.UnacceptableResponseStatusCodeError)return 403===t.getStatusCode()}return!1},e}();t.ControlledPlayer=h},function(e,r){e.exports=t},function(e,t){e.exports=r},function(e,t){e.exports=n},function(e,t){e.exports=i},function(e,t){e.exports=o}])},e.exports=n(r(1009),r(67),r(199),r(77),r(364),r(1012))},function(e,t,r){var n;window,n=function(e,t,r){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=15)}([function(t,r){t.exports=e},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){}return e.prototype.getCode=function(){return"GENERIC"},e}();t.RetrievalError=n},function(e,r){e.exports=t},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isPartialMatch=function(e,t){return!(e.mimeType&&t.mimeType!==e.mimeType||e.audioCodec&&(!t.audioCodec||t.audioCodec.id!==e.audioCodec.id)||e.videoCodec&&(!t.videoCodec||t.videoCodec.id!==e.videoCodec.id))}},function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(){return e.call(this,"Was expecting the mp3 sync word or id3 tags, but got something else.")||this}return i(t,e),t}(r(7).Mp3TransmuxerError);t.Mp3NoiseError=o},function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t){var r=e.call(this)||this;return r._code=t,r}return i(t,e),t.prototype.getCode=function(){return"OGG_PARSER."+this._code},t}(r(1).RetrievalError);t.OggParserError=o},function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t){var r=e.call(this)||this;return r._code=t,r}return i(t,e),t.prototype.getCode=function(){return"MP3_TRANSMUXER."+this._code},t}(r(1).RetrievalError);t.Mp3TransmuxerRetrievalError=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){this._msg=e}return e.prototype.getMsg=function(){return this._msg},e}();t.Mp3TransmuxerError=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t,r){this._playlist=e,this._url=t,this._sequenceNumber=r}return e.prototype.getPlaylist=function(){return this._playlist},e.prototype.getUrl=function(){return this._url},e.prototype.getSequenceNumber=function(){return this._sequenceNumber},e}();t.Segment=n},function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t){var r=e.call(this)||this;return r._statusCode=t,r}return i(t,e),t.prototype.getStatusCode=function(){return this._statusCode},t.prototype.getCode=function(){return"UNACCEPTABLE_RESPONSE_STATUS_CODE"},t}(r(1).RetrievalError);t.UnacceptableResponseStatusCodeError=o},function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.getCode=function(){return"NO_DECRYPTOR"},t}(r(1).RetrievalError);t.NoDecryptorError=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PassThrough={getInputFormat:function(){return{}},getOutputFormat:function(){return{}},transmux:function(e){return e}}},function(e,t,r){"use strict";t.__esModule=!0,t.MP3Parser=o;var n=[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],i=[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3];function o(){this.buffer=null,this.bufferSize=0}o.prototype.push=function(e){var t;if(this.bufferSize>0){var r=e.length+this.bufferSize;if(!this.buffer||this.buffer.length<r){var n=new Uint8Array(r);this.bufferSize>0&&n.set(this.buffer.subarray(0,this.bufferSize)),this.buffer=n}this.buffer.set(e,this.bufferSize),this.bufferSize=r,e=this.buffer,t=r}else t=e.length;for(var i,o=0;o<t&&(i=this._parse(e,o,t))>0;)o+=i;var a=t-o;a>0&&(!this.buffer||this.buffer.length<a?this.buffer=new Uint8Array(e.subarray(o,t)):this.buffer.set(e.subarray(o,t))),this.bufferSize=a},o.prototype._parse=function(e,t,r){if(t+2>r)return-1;if(255===e[t]||224==(224&e[t+1])){if(t+24>r)return-1;var o=e[t+1]>>3&3,a=e[t+1]>>1&3,s=e[t+2]>>4&15,u=e[t+2]>>2&3,l=!!(2&e[t+2]);if(1!==o&&0!==s&&15!==s&&3!==u){var c=1e3*n[14*(3===o?3-a:3===a?3:4)+s-1],d=i[3*(3===o?0:2===o?1:2)+u],f=l?1:0,p=3===a?(3===o?12:6)*c/d+f<<2:(3===o?144:72)*c/d+f|0;return t+p>r?-1:(this.onFrame&&this.onFrame(new Uint8Array(e.subarray(t,t+p))),p)}}for(var h=t+2;h<r;){if(255===e[h-1]&&224==(224&e[h]))return this.onNoise&&this.onNoise(new Uint8Array(e.subarray(t,h-1))),h-t-1;h++}return-1},o.prototype.close=function(){this.bufferSize>0&&this.onNoise&&this.onNoise(new Uint8Array(this.buffer.subarray(0,this.bufferSize))),this.buffer=null,this.bufferSize=0,this.onClose&&this.onClose()}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isID3Tag=function(e){return e.byteLength>=3&&73===e[0]&&68===e[1]&&51===e[2]}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),i=r(12),o=r(32),a=r(4),s=r(13),u=44100,l=3,c=u;t.MP3ToMP4={getInputFormat:function(){return{mimeType:"audio/mpeg"}},getOutputFormat:function(){return{mimeType:"audio/mp4",audioCodec:{id:"mp3"}}},transmux:function(e){return new n.helpers.abortableJob.AbortableJob((function(){var t=n.helpers.deferred.buildDeferred(),r=new n.eventDispatcher.EventDispatcher,d=[],f=!1,p=null,h=!1,g=new i.MP3Parser,y=new o.MP4Mux({audioTrackId:0,videoTrackId:-1,tracks:[{codecId:2,channels:2,samplerate:u,samplesize:16,timescale:c}]});function m(){g.close(),y.flush()}function _(r){h=!0;try{m()}catch(r){}t.reject(r),e.abort()}return y.ondata=function(e){h||(p?(d.push(e),r.dispatch({initData:p,data:e})):p=e)},g.onNoise=function(e){h||s.isID3Tag(e)||_(new a.Mp3NoiseError)},g.onFrame=function(e){if(!h)try{var t=new Uint8Array(e.length+1),r=32;r|=l<<2,r|=2,r|=1,t[0]=r,t.set(e,1),y.pushPacket(8,t,0)}catch(e){_(e)}},e.onProgressUpdate((function(e){var t=e.data;!f&&e.initData&&(t=n.helpers.arrayBuffer.combine([e.initData,e.data])),f=!0;try{g.push(t)}catch(e){_(e)}})),e.onCompletion((function(e){try{m(),t.resolve(e)}catch(e){_(e)}})),e.onError(_),{result:t.promise,progressUpdates:{onProgressUpdate:r,getProgressSoFar:function(){return d.length?{initData:p,data:n.helpers.arrayBuffer.combine(d)}:null}},abort:function(){h=!0,e.abort(),m()}}})).run()}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.version="29.5.1",t.buildNumber=1996;var n=r(16);t.PlaylistSegmentRetriever=n.PlaylistSegmentRetriever;var i=r(17);t.Playlist=i.Playlist,t.PlaylistType=i.PlaylistType;var o=r(18);t.Segment=o.Segment;var a=r(29);t.TransmuxerFactory=a.TransmuxerFactory;var s=r(14);t.MP3ToMP4Transmuxer=s.MP3ToMP4;var u=r(11);t.PassThroughTransmuxer=u.PassThrough;var l=r(36);t.retrievalErrors=l.retrievalErrors;var c=r(39);t.events=c.events},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,i=r(0),o=r(2),a=r(5),s=r(3),u=r(6),l=r(7),c=r(4),d=i.helpers.find,f=i.eventDispatcher.EventDispatcher,p=i.helpers.abortableJob.abortedError,h=i.logger.prefixLogger,g=i.logger.noOpLogger;!function(e){e[e.RETRIEVING_SEGMENT=0]="RETRIEVING_SEGMENT",e[e.RETRIEVED_SEGMENT=1]="RETRIEVED_SEGMENT",e[e.RETRIEVING_DATA=2]="RETRIEVING_DATA",e[e.COMPLETE=3]="COMPLETE"}(n||(n={}));var y=function(){function e(e){this._onSegmentRequestQueued=new f,this._onSegmentRequestStart=new f,this._onSegmentRetrieved=new f,this._onSegmentRequestFailed=new f,this._onSegmentDataRetrieveStarted=new f,this._onSegmentReady=new f,this._onError=new f,this._segments=[],this._retrievingSegment=null,this._timerId=null,this._dead=!1;var t=e.playlist,r=e.getPosition,n=e.maxBufferLength,i=e.cacheSize,o=e.transmuxer,a=e.logger,s=void 0===a?g:a;if(this._logger=h(s,"PlaylistSegmentRetriever"),t&&!t.hasInitialUpdateCompleted())throw new Error("Playlist retrieve has not completed.");if(n<0)throw new Error("Max buffer length must be > 0.");if(i<0)throw new Error("Cache size must be > 0.");this.onSegmentRequestQueued=this._onSegmentRequestQueued.getHandle(),this.onSegmentRequestStart=this._onSegmentRequestStart.getHandle(),this.onSegmentRetrieved=this._onSegmentRetrieved.getHandle(),this.onSegmentRequestFailed=this._onSegmentRequestFailed.getHandle(),this.onSegmentDataRetrieveStarted=this._onSegmentDataRetrieveStarted.getHandle(),this.onSegmentReady=this._onSegmentReady.getHandle(),this.onError=this._onError.getHandle(),this._playlist=t,this._transmuxer=o,this._getPosition=r,this._maxBufferLength=n,this._cacheSize=i,this._scheduleNextUpdate(0)}return e.prototype.updateMaxBufferLength=function(e){if(this._ensureNotDead(),e<0)throw new Error("Max buffer length must be > 0.");this._logger.debug("updateMaxBufferLength() called.",e),this._maxBufferLength=e,this.update()},e.prototype.updateCacheSize=function(e){if(this._ensureNotDead(),e<0)throw new Error("Cache size must be > 0.");this._cacheSize=e,this.update()},e.prototype.getCacheSize=function(){return this._cacheSize},e.prototype.getCacheUsage=function(){return this._segments.reduce((function(e,t){return t.state===n.RETRIEVING_DATA||t.state===n.COMPLETE?e+t.size:e}),0)},e.prototype.switchPlaylist=function(e){if(this._ensureNotDead(),e&&!e.hasInitialUpdateCompleted())throw new Error("Playlist retrieve has not completed.");this._logger.debug("switchPlaylist() called."),this._abortCurrentRetrieve(),this._playlist=e,this._segments=this._segments.filter((function(e){return e.state===n.COMPLETE})),this.update()},e.prototype.getSegmentsWithData=function(){return this._ensureNotDead(),this._segments.filter((function(e){return e.state===n.RETRIEVING_DATA&&e.size||e.state===n.COMPLETE})).map((function(e){return{segment:e.segment,dataRetrieveJob:e.dataRetrieveJob,complete:e.state===n.COMPLETE}}))},e.prototype.update=function(){var e=this;this._ensureNotDead(),this._timerId&&(window.clearTimeout(this._timerId),this._timerId=null);var t=this._getPosition(),r=t,i=0;this._segments.some((function(e){if(e.state!==n.COMPLETE)return!1;var o=e.segment.getTimeRange();return o.containsTime(i)&&(i=o.end),!(o.end<t)&&(o.start>r||(r=o.end,!1))}));var o,a=t+this._maxBufferLength;if(!((o=e._playlist)&&o.hasEnded()&&r===o.getDuration()?(r=i,o.getDuration()+i<a):r<a))return this._abortCurrentRetrieve(),this._garbageCollect(t),void this._scheduleNextUpdate();var s=d(this._segments,(function(e){return(e.state===n.RETRIEVED_SEGMENT||e.state===n.RETRIEVING_DATA)&&e.segment.getTimeRange().containsTime(r)}));s?this._retrieveSegmentData(s):this._retrieveSegment(r),this._garbageCollect(t)},e.prototype.kill=function(){this._dead||(this._logger.debug("kill() called."),this._abortCurrentRetrieve(),this._dead=!0,this._timerId&&(this._logger.debug("Cancelling update timer."),window.clearTimeout(this._timerId)),this._segments=[],this._logger.debug("Killed."))},e.prototype._retrieveSegmentData=function(e){var t=this;if(e.state!==n.RETRIEVED_SEGMENT&&e.state!==n.RETRIEVING_DATA)throw new Error("Segment in incorrect state for data to be retrieved.");if(!this._retrievingSegment||this._retrievingSegment.state!==n.RETRIEVING_DATA||e.segment!==this._retrievingSegment.segment){this._abortCurrentRetrieve();var r=i.helpers.abortableJob.map((function(){return t._transmuxer.transmux(e.segment.retrieveData())}),{convertResult:function(e){return e},convertProgressUpdate:function(e){return e},abortableJobOpts:{storeResult:!0}}),s=r.run(),d=!1,f=this._retrievingSegment={state:n.RETRIEVING_DATA,dataRetrieveJob:r,dataRetrieveJobHandle:s,segment:e.segment,size:0};this._switchSegment(e,f),s.onProgressUpdate((function(n){var i=f.size,o=i;!d&&n.initData&&(i+=n.initData.byteLength),d=!0,i+=n.data.byteLength,f.size=i,0===o&&i>0&&t._onSegmentDataRetrieveStarted.dispatch({segment:e.segment,dataRetrieveJob:r,complete:!1})})),s.onCompletion((function(){if(t._retrievingSegment=null,f.state!==n.RETRIEVING_DATA)throw new Error("Incorrect retrieval state.");t._switchSegment(f,{state:n.COMPLETE,dataRetrieveJob:f.dataRetrieveJob,dataRetrieveJobHandle:f.dataRetrieveJobHandle,segment:e.segment,size:f.size}),t._logger.debug("Segment retrieve completed.",e.segment.getEventRepresentation()),t.update(),t._onSegmentReady.dispatch({segment:e.segment,complete:!0,dataRetrieveJob:f.dataRetrieveJob})})),s.onError((function(r){r!==p&&(t._logger.error("Error retrieving segment data.",r,e.segment.getEventRepresentation()),t._scheduleNextUpdate(),r instanceof o.OggParserError?r=r instanceof o.ChecksumFailedError?new a.OggParserError("CHECKSUM_FAILED"):r instanceof o.NoSegmentsInPageError?new a.OggParserError("NO_SEGMENTS_IN_PAGE"):r instanceof o.PageFromDifferentBitstreamError?new a.OggParserError("PAGE_FROM_DIFFERENT_BITSTREAM"):r instanceof o.PageSequenceNumberDidNotIncrementError?new a.OggParserError("SEQUENCE_NUMBER_DID_NOT_INCREMENT"):r instanceof o.UnexpectedBOSError?new a.OggParserError("UNEXPECTED_BOS"):r instanceof o.UnexpectedEOSError?new a.OggParserError("UNEXPECTED_EOS"):new a.OggParserError("UNKNOWN"):r instanceof l.Mp3TransmuxerError&&(r=r instanceof c.Mp3NoiseError?new u.Mp3TransmuxerRetrievalError("NOISE"):new u.Mp3TransmuxerRetrievalError("UNKNOWN")),t._onError.dispatch(r))}))}},e.prototype._retrieveSegment=function(e){var t=this,r=this._retrievingSegment,i=this._playlist,o=i?i.getSegmentIndexContainingTime(e):null;if(!r||r.state!==n.RETRIEVING_SEGMENT||r.segmentIndex!==o)if(this._abortCurrentRetrieve(),i)if(null===o)this._scheduleNextUpdate();else{var a=i.getSegment(o);this._logger.debug("Retrieving segment.",o),a.onCompletion((function(e){if(t._logger.debug("Retrieved segment.",o),!s.isPartialMatch(t._transmuxer.getInputFormat(),e.getFormat())){var r=new Error("Segment format is not supported by transmuxer.");return t._logger.error("Segment incorrect format.",r),t._scheduleNextUpdate(),void t._onError.dispatch(r)}e.onSegmentRequestQueued.subscribe(t._onSegmentRequestQueued.dispatch),e.onSegmentRequestStart.subscribe(t._onSegmentRequestStart.dispatch),e.onSegmentRetrieved.subscribe(t._onSegmentRetrieved.dispatch),e.onSegmentRequestFailed.subscribe(t._onSegmentRequestFailed.dispatch),t._segments.splice(t._segments.indexOf(u),1);var i=e.getTimeRange(),a=t._segments.length;t._segments.some((function(e,t){return e.state!==n.RETRIEVING_SEGMENT&&e.segment.getTimeRange().start>i.start&&(a=t,!0)})),t._segments.splice(a,0,{state:n.RETRIEVED_SEGMENT,segment:e}),t._retrievingSegment=null,t.update()})),a.onError((function(e){e!==p&&(t._logger.error("Error retrieving segment.",e),t._scheduleNextUpdate(),t._onError.dispatch(e))}));var u={state:n.RETRIEVING_SEGMENT,segmentIndex:o,segmentRetrieveJob:a};this._segments.push(u),this._retrievingSegment=u}else this._logger.debug("Cannot retrieve segment as there is no playlist."),this._scheduleNextUpdate()},e.prototype._abortCurrentRetrieve=function(){var e=this._retrievingSegment;e&&(e.state===n.RETRIEVING_SEGMENT?(this._logger.debug("Aborting segment retrieve job."),e.segmentRetrieveJob.abort()):e.state===n.RETRIEVING_DATA&&(this._logger.debug("Aborting segment data retrieve job."),e.dataRetrieveJobHandle.abort(),this._switchSegment(e,{state:n.RETRIEVED_SEGMENT,segment:e.segment})),this._retrievingSegment=null)},e.prototype._switchSegment=function(e,t){var r=this._segments.indexOf(e);if(-1===r)throw new Error("Old segment missing.");this._segments.splice(r,1,t)},e.prototype._garbageCollect=function(e){var t=this._segments,r=this._cacheSize,i=this.getCacheUsage();if(!(i<=r)){var o=this._playlist,a=o&&o.getCompleteDuration(),s=null!==a?a:1/0,u=e+this._maxBufferLength;u>s&&(u-=s)>=e||t.filter((function(t){return t.state===n.COMPLETE&&!function(e,t,r){var n=e.getTimeRange();return r!==t&&(r>t?n.end>t&&n.start<r:n.end>t||n.start<r)}(t.segment,e,u)})).map((function(t){var r=t.segment.getTimeRange().start;return{segment:t,distance:Math.min(Math.abs(e-r),r+s-e),size:t.size}})).sort((function(e,t){return t.distance-e.distance})).some((function(e){return i<=r||(t.splice(t.indexOf(e.segment),1),i-=e.size,!1)}))}},e.prototype._scheduleNextUpdate=function(e){var t=this;void 0===e&&(e=1e3),this._timerId||(this._timerId=window.setTimeout((function(){t._timerId=null,t.update()}),e))},e.prototype._ensureNotDead=function(){if(this._dead)throw new Error("Playlist segment retriever has been killed.")},e}();t.PlaylistSegmentRetriever=y},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0).eventDispatcher.EventDispatcher;!function(e){e[e.LIVE=0]="LIVE",e[e.EVENT=1]="EVENT",e[e.VOD=2]="VOD"}(t.PlaylistType||(t.PlaylistType={}));var i=function(){function e(){this._onPlaylistRequestQueued=new n,this._onPlaylistRequestStart=new n,this._onPlaylistRetrieved=new n,this._onPlaylistRequestFailed=new n,this._onPlaylistParseStart=new n,this._onPlaylistParseEnd=new n,this._onKeyRequestQueued=new n,this._onKeyRequestStart=new n,this._onKeyRetrieved=new n,this._onKeyRequestFailed=new n,this._onInitDataRequestQueued=new n,this._onInitDataRequestStart=new n,this._onInitDataRetrieved=new n,this._onInitDataRequestFailed=new n,this._onUpdated=new n,this.onPlaylistRequestQueued=this._onPlaylistRequestQueued.getHandle(),this.onPlaylistRequestStart=this._onPlaylistRequestStart.getHandle(),this.onPlaylistRetrieved=this._onPlaylistRetrieved.getHandle(),this.onPlaylistRequestFailed=this._onPlaylistRequestFailed.getHandle(),this.onPlaylistParseStart=this._onPlaylistParseStart.getHandle(),this.onPlaylistParseEnd=this._onPlaylistParseEnd.getHandle(),this.onKeyRequestQueued=this._onKeyRequestQueued.getHandle(),this.onKeyRequestStart=this._onKeyRequestStart.getHandle(),this.onKeyRetrieved=this._onKeyRetrieved.getHandle(),this.onKeyRequestFailed=this._onKeyRequestFailed.getHandle(),this.onInitDataRequestQueued=this._onInitDataRequestQueued.getHandle(),this.onInitDataRequestStart=this._onInitDataRequestStart.getHandle(),this.onInitDataRetrieved=this._onInitDataRetrieved.getHandle(),this.onInitDataRequestFailed=this._onInitDataRequestFailed.getHandle(),this.onUpdated=this._onUpdated.getHandle()}return e.prototype.update=function(){var e=this,t=this._update();return t.onCompletion((function(){return e._onUpdated.dispatch(void 0)})),t},e.prototype.getSegment=function(e){return this.getSegments(e,e+1)[0]},e.prototype.getSegments=function(e,t){var r=this.getSegmentCount(),n=this.getFirstSegmentIndex();if(void 0===t&&(t=n+r),void 0===e&&(e=n),e<n||t<e||t>n+r)throw new Error("Invalid range of segments.");for(var i=[],o=e;o<t;o++)i.push(this._getSegment(o));return i},e}();t.Playlist=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),i=r(8),o=r(19),a=r(23),s=r(24),u=n.helpers.abortableJob.AbortableJob,l=n.eventDispatcher.EventDispatcher,c=n.logger.noOpLogger,d=function(){function e(e){var t=e.url,r=e.sequenceNumber,d=e.playlist,f=e.timeRange,p=e.encryptionConfig,h=e.initData,g=e.format,y=e.loader,m=e.playlistEventRepresentation,_=e.logger,v=void 0===_?c:_,b=e.delayCalculator,w=void 0===b?n.helpers.retry.buildExponentialDelayCalculator():b,E=e.isResponseCodeAcceptable,S=void 0===E?function(e){return 200===e}:E,A=e.isResponseCodeRetryable,P=void 0===A?function(e){return!(e>=400&&e<500)}:A,I=this;this._onSegmentRequestQueued=new l,this._onSegmentRequestStart=new l,this._onSegmentRetrieved=new l,this._onSegmentRequestFailed=new l,this.onSegmentRequestQueued=this._onSegmentRequestQueued.getHandle(),this.onSegmentRequestStart=this._onSegmentRequestStart.getHandle(),this.onSegmentRetrieved=this._onSegmentRetrieved.getHandle(),this.onSegmentRequestFailed=this._onSegmentRequestFailed.getHandle(),this._sequenceNumber=r,this._playlist=d,this._timeRange=f,this._format=g;var M=this._segmentEventRepresentation=new i.Segment(m,t,r),T=a.getSegmentDownloadJob({delayCalculator:w,segmentEventRepresentation:M,url:t,loader:y,onSegmentRequestQueued:this._onSegmentRequestQueued,onSegmentRequestStart:this._onSegmentRequestStart,onSegmentRequestFailed:this._onSegmentRequestFailed,onSegmentRetrieved:this._onSegmentRetrieved,isResponseCodeAcceptable:S,isResponseCodeRetryable:P,logger:v}),k=s.getSegmentDownloadAndDecryptJob({encryptionConfig:p,downloadAbortableJob:T,logger:v});this._retrieveAbortableJob=new u((function(){var e=o.SegmentParserFactory.retrieveSegmentParser(I._format),t=new l,r=n.helpers.deferred.buildDeferred(),i=e.parseSegmentData(n.helpers.abortableJob.map((function(){return k.run()}),{convertProgressUpdate:function(e,t){return t&&h?n.helpers.arrayBuffer.combine([h,e]):e},convertResult:function(e){return e}}).run(),I,I._playlist);return i.onProgressUpdate(t.dispatch,{skipPast:!0}),i.onCompletion((function(){return r.resolve(void 0)})),i.onError(r.reject),{result:r.promise,progressUpdates:{onProgressUpdate:t,getProgressSoFar:i.getProgressSoFar},abort:i.abort}}))}return e.prototype.getFormat=function(){return this._format},e.prototype.getSequenceNumber=function(){return this._sequenceNumber},e.prototype.isFinalSegment=function(){var e=this._playlist;return e.hasEnded()&&e.getFirstSegmentIndex()+e.getSegmentCount()-1===this._sequenceNumber},e.prototype.getTimeRange=function(){return this._timeRange},e.prototype.getEventRepresentation=function(){return this._segmentEventRepresentation},e.prototype.retrieveData=function(){var e=this;return new u((function(){var t=n.helpers.deferred.buildDeferred(),r=new l,i=[],o=e._retrieveAbortableJob.run(),a=void 0;return o.onProgressUpdate((function(e){var t=e.data,n=e.initData;i.length||(a=n),i.push(t),r.dispatch({data:t,initData:a})})),o.onCompletion((function(){t.resolve(void 0)})),o.onError(t.reject),{result:t.promise,progressUpdates:{onProgressUpdate:r,getProgressSoFar:function(){return i.length?{initData:a,data:n.helpers.arrayBuffer.combine(i)}:null}},abort:function(){return o.abort()}}})).run()},e}();t.Segment=d},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),i=r(3),o=r(20),a=n.helpers.find;t.SegmentParserFactory={retrieveSegmentParser:function(e){var t=a(o.default,(function(t){return i.isPartialMatch(t.getFormat(),e)}));if(!t)throw new Error("No segment parser found.");return t}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(21),i=r(22),o=[n.OggOpusSegmentParser,i.DefaultSegmentParser];t.default=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),i=r(2),o=n.helpers.abortableJob.AbortableJob,a=n.helpers.arrayBuffer.combine,s=new n.helpers.SCWeakMap;t.OggOpusSegmentParser={getFormat:function(){return{mimeType:"audio/ogg",audioCodec:{id:"opus"}}},parseSegmentData:function(e,r,u){return new o((function(){var o=n.helpers.deferred.buildDeferred(),l=new n.eventDispatcher.EventDispatcher,c=[],d=null,f=null,p=null,h=function(t){o.reject(t),e.abort()},g=function(e){s.set(u,e),l.dispatch({initData:e,data:a(c)})};return e.onProgressUpdate((function(e){if(d&&"PRESENT"===d.state&&d.initDataEnded)c.push(e),l.dispatch({initData:d.initData,data:e});else if(d&&"NOT_PRESENT"===d.state)c.push(e);else{c.push(e);var o=a(c);if(d=function(e){var t=i.retrievePages(e).pages;if(t.length){var r=i.retrievePackets([t[0]])[0];if(r&&r.first){var n=1,o=t.slice(1).some((function(e,t){var r=!!(1&e.header.type[0]);return t>0&&!r||(n=t+2,!1)}));return{state:"PRESENT",initData:a(t.slice(0,n).map((function(e){return e.entirePage}))),initDataEnded:o}}return{state:"NOT_PRESENT"}}return null}(o))if("NOT_PRESENT"===d.state){var y=s.get(u);r.getSequenceNumber()<=u.getFirstSegmentIndex()?h(new Error("Could not find init data.")):y?g((d={state:"PRESENT",initData:y,initDataEnded:!0}).initData):((f=u.getSegment(u.getFirstSegmentIndex())).onCompletion((function(e){var r=p=t.OggOpusSegmentParser.parseSegmentData(n.helpers.abortableJob.map((function(){return e.retrieveData()}),{convertProgressUpdate:function(e){return e.initData?n.helpers.arrayBuffer.combine([e.initData,e.data]):e.data},convertResult:function(e){return e}}).run(),e,u);r.onProgressUpdate((function(e){var t=e.initData;if(r.abort(),!t){var n=new Error("OggOpusSegmentParser should always provide init data.");throw h(n),n}d={state:"PRESENT",initData:t,initDataEnded:!0},g(t)})),r.onError((function(e){e!==n.helpers.abortableJob.abortedError&&h(e)}))})),f.onError(h))}else if("PRESENT"===d.state&&d.initDataEnded){if(c.splice(0),o.byteLength>d.initData.byteLength){var m=new Uint8Array(o.buffer.slice(d.initData.byteLength));c.push(m)}g(d.initData)}}})),e.onCompletion((function(e){d&&"PRESENT"===d.state&&!d.initDataEnded?(g(d.initData),o.resolve(e)):d&&"PRESENT"===d.state?o.resolve(e):o.reject(new Error("Could not find init data."))})),e.onError(h),{result:o.promise,progressUpdates:{onProgressUpdate:l,getProgressSoFar:function(){return d&&"PRESENT"===d.state&&d.initDataEnded?{initData:d.initData,data:a(c)}:null}},abort:function(){e.abort(),f&&f.abort(),p&&p.abort()}}})).run()}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0);t.DefaultSegmentParser={getFormat:function(){return{}},parseSegmentData:function(e){return n.helpers.abortableJob.map((function(){return e}),{convertProgressUpdate:function(e){return{data:e}},convertResult:function(e){return e}}).run()}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),i=r(9);t.getSegmentDownloadJob=function(e){var t=e.delayCalculator,r=e.segmentEventRepresentation,o=e.url,a=e.loader,s=e.onSegmentRequestQueued,u=e.onSegmentRequestStart,l=e.onSegmentRequestFailed,c=e.onSegmentRetrieved,d=e.isResponseCodeAcceptable,f=e.isResponseCodeRetryable,p=e.logger;return new n.helpers.abortableJob.AbortableJob((function(){var e=n.helpers.deferred.buildDeferred(),h=new n.eventDispatcher.EventDispatcher,g=[],y=0,m=n.helpers.retry.retry(t,(function(t){var m=t.scheduleRetry,_=!1,v=0;s.dispatch({segment:r}),p.debug("Requesting segment.",o);var b=a.request({url:o});b.onRequestStart((function(){return u.dispatch({segment:r})}));var w=function(e){var t=e.byteLength;if(t)if((v+=t)<=y)p.debug("Already downloaded this part. Skipping...",v,y);else{var r=new Uint8Array(e,t-(v-y));y=v,g.push(r),h.dispatch(r)}};return b.onProgress((function(t){var n=t.initial,a=t.statusCode,s=t.part;if(n)if(d(a))p.debug("Segment response started.",o,a),w(s);else{var u=null;f(a)?p.debug("Segment response code was not acceptable. Will retry.",o,a):(p.debug("Segment response code was not acceptable.",o,a),u=new i.UnacceptableResponseStatusCodeError(a)),b.abort(),l.dispatch({segment:r,statusCode:a}),u?e.reject(u):(_=!0,m())}else p.debug("Got segment response part.",o,a),w(s)})),b.onResponseReceived((function(t){_||(t?(c.dispatch({segment:r,statusCode:t.statusCode}),e.resolve(void 0)):(p.warn("Segment request timed out.",o),l.dispatch({segment:r,statusCode:null}),m()))})),b.onError((function(t){_||t!==n.helpers.abortableJob.abortedError&&(t instanceof n.loaderErrors.LoaderError?(p.warn("Error from loader. Will retry",o,t),m()):(p.error("Unexpected error when requesting segment.",t),e.reject(t)))})),{onCancel:function(){p.debug("Aborting segment request.",o),b.hasCompleted()||b.abort(),l.dispatch({segment:r,aborted:!0})}}}),{onNoMoreRetries:function(){return e.reject(new Error("No more retries for requesting segment."))}}).cancel;return{result:e.promise,progressUpdates:{onProgressUpdate:h,getProgressSoFar:function(){return g.length?n.helpers.arrayBuffer.combine(g):null}},abort:function(){return m()}}}))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),i=r(25),o=r(10);t.getSegmentDownloadAndDecryptJob=function(e){var t=e.encryptionConfig,r=e.downloadAbortableJob,a=e.logger;return new n.helpers.abortableJob.AbortableJob((function(){var e=new n.eventDispatcher.EventDispatcher,s=n.helpers.deferred.buildDeferred(),u=null;if(t&&(a.info("Finding a decryptor..."),!(u=i.DecryptorFactory.retrieveDecryptor(t))))return a.error("Could not find a decryptor."),s.reject(new o.NoDecryptorError),{result:s.promise,progressUpdates:{onProgressUpdate:e,getProgressSoFar:function(){return null}}};var l=r.run(),c=null,d=[];return t&&u?((c=u.decrypt(l,t)).onProgressUpdate((function(t){d.push(t),e.dispatch(t)})),c.onError((function(e){e!==n.helpers.abortableJob.abortedError&&a.error("Error occurred during decryption.",e),s.reject(e),l.abort()}))):l.onProgressUpdate((function(t){d.push(t),e.dispatch(t)})),l.onCompletion((function(){var e=function(){return s.resolve(void 0)};c?c.whenComplete().then((function(){return e()})):e()})),l.onError(s.reject),{result:s.promise,progressUpdates:{onProgressUpdate:e,getProgressSoFar:function(){return d.length?n.helpers.arrayBuffer.combine(d):null}},abort:function(){l.abort(),c&&c.abort()}}}))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),i=r(26),o=n.helpers.find;t.DecryptorFactory={retrieveDecryptor:function(e){return o(i.default,(function(t){return t.canDecrypt(e)}))||null}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=[r(27).JSCrypto];t.default=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),i=r(28),o=null;t.JSCrypto={canDecrypt:function(e){return"AES-CBC"===e.cipher},decrypt:function(e,t){o||(o=new i.AESDecryptor);var r=o;return new n.helpers.abortableJob.AbortableJob((function(){var o,a=new n.eventDispatcher.EventDispatcher,s=n.helpers.deferred.buildDeferred(),u=[],l=null,c=[],d=0,f=new Uint8Array(t.iv),p=!1;return r.expandKey(t.key.buffer),e.onProgressUpdate((function(e){p||(n.helpers.arrayBuffer.forEach(e,(function(e){p||(d||(o=new Uint8Array(16)),o[d++]=e,16===d&&(c.push(o),d=0))})),c.length&&(function(e){var t=l;l=new Uint8Array(r.decrypt(e.buffer,0,f.buffer,!1));var n=e.byteLength-16;if(n<0)throw new Error("lastBlockOffset invalid.");for(var i=0;i<16;i++)f[i]=e[n+i];t&&(u.push(t),a.dispatch(t))}(n.helpers.arrayBuffer.combine(c)),c=[]))})),e.onCompletion((function(e){if(!p)if(d)s.reject(new Error("Reached end part way through block."));else{if(l){var t=new Uint8Array(i.removePadding(l.buffer));u.push(t),a.dispatch(t)}s.resolve(e)}})),e.onError(s.reject),{result:s.promise,abort:function(){p=!0,e.abort()},progressUpdates:{onProgressUpdate:a,getProgressSoFar:function(){return n.helpers.arrayBuffer.combine(u)}}}})).run()}}},function(e,t,r){"use strict";function n(e){var t=e.byteLength,r=new DataView(e),n=t&&r.getUint8(t-1);if(n){for(var i=t-n,o=new Uint8Array(i),a=0;a<i;a++)o[a]=r.getUint8(a);return o.buffer}return e}t.__esModule=!0,t.removePadding=n;var i=t.AESDecryptor=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.invSubMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.initTable()}return e.prototype.uint8ArrayToUint32Array_=function(e){for(var t=new DataView(e),r=new Uint32Array(4),n=0;n<4;n++)r[n]=t.getUint32(4*n);return r},e.prototype.initTable=function(){var e=this.sBox,t=this.invSBox,r=this.subMix,n=r[0],i=r[1],o=r[2],a=r[3],s=this.invSubMix,u=s[0],l=s[1],c=s[2],d=s[3],f=new Uint32Array(256),p=0,h=0,g=0;for(g=0;g<256;g++)f[g]=g<128?g<<1:g<<1^283;for(g=0;g<256;g++){var y=h^h<<1^h<<2^h<<3^h<<4;y=y>>>8^255&y^99,e[p]=y,t[y]=p;var m=f[p],_=f[m],v=f[_],b=257*f[y]^16843008*y;n[p]=b<<24|b>>>8,i[p]=b<<16|b>>>16,o[p]=b<<8|b>>>24,a[p]=b,b=16843009*v^65537*_^257*m^16843008*p,u[y]=b<<24|b>>>8,l[y]=b<<16|b>>>16,c[y]=b<<8|b>>>24,d[y]=b,p?(p=m^f[f[f[v^m]]],h^=f[f[h]]):p=h=1}},e.prototype.expandKey=function(e){for(var t=this.uint8ArrayToUint32Array_(e),r=!0,n=0;n<t.length&&r;)r=t[n]===this.key[n],n++;if(!r){this.key=t;var i=this.keySize=t.length;if(4!==i&&6!==i&&8!==i)throw new Error("Invalid aes key size="+i);var o=this.ksRows=4*(i+6+1),a=void 0,s=void 0,u=this.keySchedule=new Uint32Array(o),l=this.invKeySchedule=new Uint32Array(o),c=this.sBox,d=this.rcon,f=this.invSubMix,p=f[0],h=f[1],g=f[2],y=f[3],m=void 0,_=void 0;for(a=0;a<o;a++)a<i?m=u[a]=t[a]:(_=m,a%i==0?(_=c[(_=_<<8|_>>>24)>>>24]<<24|c[_>>>16&255]<<16|c[_>>>8&255]<<8|c[255&_],_^=d[a/i|0]<<24):i>6&&a%i==4&&(_=c[_>>>24]<<24|c[_>>>16&255]<<16|c[_>>>8&255]<<8|c[255&_]),u[a]=m=(u[a-i]^_)>>>0);for(s=0;s<o;s++)a=o-s,_=3&s?u[a]:u[a-4],l[s]=s<4||a<=4?_:p[c[_>>>24]]^h[c[_>>>16&255]]^g[c[_>>>8&255]]^y[c[255&_]],l[s]=l[s]>>>0}},e.prototype.networkToHostOrderSwap=function(e){return e<<24|(65280&e)<<8|(16711680&e)>>8|e>>>24},e.prototype.decrypt=function(e,t,r,i){for(var o=this.keySize+6,a=this.invKeySchedule,s=this.invSBox,u=this.invSubMix,l=u[0],c=u[1],d=u[2],f=u[3],p=this.uint8ArrayToUint32Array_(r),h=p[0],g=p[1],y=p[2],m=p[3],_=new Int32Array(e),v=new Int32Array(_.length),b=void 0,w=void 0,E=void 0,S=void 0,A=void 0,P=void 0,I=void 0,M=void 0,T=void 0,k=void 0,C=void 0,x=void 0,D=void 0,O=void 0,R=this.networkToHostOrderSwap;t<_.length;){for(T=R(_[t]),k=R(_[t+1]),C=R(_[t+2]),x=R(_[t+3]),A=T^a[0],P=x^a[1],I=C^a[2],M=k^a[3],D=4,O=1;O<o;O++)b=l[A>>>24]^c[P>>16&255]^d[I>>8&255]^f[255&M]^a[D],w=l[P>>>24]^c[I>>16&255]^d[M>>8&255]^f[255&A]^a[D+1],E=l[I>>>24]^c[M>>16&255]^d[A>>8&255]^f[255&P]^a[D+2],S=l[M>>>24]^c[A>>16&255]^d[P>>8&255]^f[255&I]^a[D+3],A=b,P=w,I=E,M=S,D+=4;b=s[A>>>24]<<24^s[P>>16&255]<<16^s[I>>8&255]<<8^s[255&M]^a[D],w=s[P>>>24]<<24^s[I>>16&255]<<16^s[M>>8&255]<<8^s[255&A]^a[D+1],E=s[I>>>24]<<24^s[M>>16&255]<<16^s[A>>8&255]<<8^s[255&P]^a[D+2],S=s[M>>>24]<<24^s[A>>16&255]<<16^s[P>>8&255]<<8^s[255&I]^a[D+3],D+=3,v[t]=R(b^h),v[t+1]=R(S^g),v[t+2]=R(E^y),v[t+3]=R(w^m),h=T,g=k,y=C,m=x,t+=4}return i?n(v.buffer):v.buffer},e.prototype.destroy=function(){this.key=void 0,this.keySize=void 0,this.ksRows=void 0,this.sBox=void 0,this.invSBox=void 0,this.subMix=void 0,this.invSubMix=void 0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.rcon=void 0},e}();t.default=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(3),i=r(30);t.TransmuxerFactory={retrieveTransmuxers:function(e,t){return i.default.filter((function(r){var i=r.getInputFormat(),o=r.getOutputFormat();return(!e||n.isPartialMatch(i,e))&&(!t||n.isPartialMatch(o,t))}))},retrieveTransmuxer:function(e,r){return t.TransmuxerFactory.retrieveTransmuxers(e,r)[0]||null}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(11),i=r(31),o=r(14),a=r(33),s=r(35),u=[i.MP3ToMP3,s.MP4ToMP4,n.PassThrough,o.MP3ToMP4,a.OggOpusToWebm];t.default=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),i=r(12),o=r(4),a=r(13);t.MP3ToMP3={getInputFormat:function(){return{mimeType:"audio/mpeg"}},getOutputFormat:function(){return{mimeType:"audio/mpeg"}},transmux:function(e){return new n.helpers.abortableJob.AbortableJob((function(){var t=n.helpers.deferred.buildDeferred(),r=new n.eventDispatcher.EventDispatcher,s=[],u=[],l=!1,c=!1,d=new i.MP3Parser;function f(){d.close()}function p(r){c=!0;try{f()}catch(r){}t.reject(r),e.abort()}return d.onNoise=function(e){c||a.isID3Tag(e)||p(new o.Mp3NoiseError)},d.onFrame=function(e){if(!c)try{u.push(e)}catch(e){p(e)}},e.onProgressUpdate((function(e){var t=e.data;!l&&e.initData&&(t=n.helpers.arrayBuffer.combine([e.initData,e.data])),l=!0;try{if(d.push(t),u.length){var i=n.helpers.arrayBuffer.combine(u);s.push(i),u.splice(0),r.dispatch({data:i})}}catch(e){p(e)}})),e.onCompletion((function(e){try{f(),t.resolve(e)}catch(e){p(e)}})),e.onError(p),{result:t.promise,progressUpdates:{onProgressUpdate:r,getProgressSoFar:function(){return s.length?{data:n.helpers.arrayBuffer.combine(s)}:null}},abort:function(){c=!0,e.abort(),f()}}})).run()}}},function(e,t,r){"use strict";t.__esModule=!0;var n,i,o=function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)};!function(e){!function(e){e.utf8decode=function(e){for(var t=new Uint8Array(4*e.length),r=0,n=0,i=e.length;n<i;n++){var o=e.charCodeAt(n);if(o<=127)t[r++]=o;else{if(55296<=o&&o<=56319){var a=e.charCodeAt(n+1);56320<=a&&a<=57343&&(o=((1023&o)<<10)+(1023&a)+65536,++n)}0!=(4292870144&o)?(t[r++]=248|o>>>24&3,t[r++]=128|o>>>18&63,t[r++]=128|o>>>12&63,t[r++]=128|o>>>6&63,t[r++]=128|63&o):0!=(4294901760&o)?(t[r++]=240|o>>>18&7,t[r++]=128|o>>>12&63,t[r++]=128|o>>>6&63,t[r++]=128|63&o):0!=(4294965248&o)?(t[r++]=224|o>>>12&15,t[r++]=128|o>>>6&63,t[r++]=128|63&o):(t[r++]=192|o>>>6&31,t[r++]=128|63&o)}}return t.subarray(0,r)},e.utf8encode=function(e){for(var t=0,r="";t<e.length;){var n=255&e[t++];if(n<=127)r+=String.fromCharCode(n);else{var i=192,o=5;do{if((n&(i>>1|128))===i)break;i=i>>1|128,--o}while(o>=0);if(o<=0)throw new Error("Invalid UTF8 character");for(var a=n&(1<<o)-1,s=5;s>=o;--s){var u=e[t++];if(128!=(192&u))throw new Error("Invalid UTF8 character sequence");a=a<<6|63&u}r+=a>=65536?String.fromCharCode(a-65536>>10&1023|55296,1023&a|56320):String.fromCharCode(a)}}return r}}(e.StringUtilities||(e.StringUtilities={}))}(i||(i={})),function(e){!function(e){function t(e){for(var t=e.length>>1,r=new Uint8Array(t),n=0;n<t;n++)r[n]=parseInt(e.substr(2*n,2),16);return r}var r,n=[5500,11025,22050,44100],i=["PCM","ADPCM","MP3","PCM le","Nellymouser16","Nellymouser8","Nellymouser","G.711 A-law","G.711 mu-law",null,"AAC","Speex","MP3 8khz"],o=2,a=10;!function(e){e[e.HEADER=0]="HEADER",e[e.RAW=1]="RAW"}(r||(r={}));var s,u,l,c=[null,"JPEG","Sorenson","Screen","VP6","VP6 alpha","Screen2","AVC"],d=4,f=7;!function(e){e[e.KEY=1]="KEY",e[e.INNER=2]="INNER",e[e.DISPOSABLE=3]="DISPOSABLE",e[e.GENERATED=4]="GENERATED",e[e.INFO=5]="INFO"}(s||(s={})),function(e){e[e.HEADER=0]="HEADER",e[e.NALU=1]="NALU",e[e.END=2]="END"}(u||(u={})),function(e){e[e.CAN_GENERATE_HEADER=0]="CAN_GENERATE_HEADER",e[e.NEED_HEADER_DATA=1]="NEED_HEADER_DATA",e[e.MAIN_PACKETS=2]="MAIN_PACKETS"}(l||(l={}));var p=function(){function p(e){var t=this;this.oncodecinfo=function(e){},this.ondata=function(e){throw new Error("MP4Mux.ondata is not set")},this.metadata=e,this.trackStates=this.metadata.tracks.map((function(e,r){var n={trackId:r+1,trackInfo:e,cachedDuration:0,samplesProcessed:0,initializationData:[]};return t.metadata.audioTrackId===r&&(t.audioTrackState=n),t.metadata.videoTrackId===r&&(t.videoTrackState=n),n}),this),this._checkIfNeedHeaderData(),this.filePos=0,this.cachedPackets=[],this.chunkIndex=0}return p.prototype.pushPacket=function(e,t,s){switch(this.state===l.CAN_GENERATE_HEADER&&this._tryGenerateHeader(),e){case 8:var p=this.audioTrackState,h=function(e){var t,s=0,u=r.RAW,l=e[s],c=l>>4,d=l>>2&3,f=2&l?16:8,p=1&l?2:1;switch(s++,c){case a:u=e[s++],t=1024;break;case o:var h=e[s+1]>>3&3,g=e[s+1]>>1&3;t=1===g?3===h?1152:576:3===g?384:1152}return{codecDescription:i[c],codecId:c,data:e.subarray(s),rate:n[d],size:f,channels:p,samples:t,packetType:u}}(t);if(!p||p.trackInfo.codecId!==h.codecId)throw new Error("Unexpected audio packet codec: "+h.codecDescription);switch(h.codecId){default:throw new Error("Unsupported audio codec: "+h.codecDescription);case o:break;case a:if(h.packetType===r.HEADER)return void p.initializationData.push(h.data)}this.cachedPackets.push({packet:h,timestamp:s,trackId:p.trackId});break;case 9:var g=this.videoTrackState,y=function(e){var t=0,r=e[t]>>4,n=15&e[t];t++;var i={frameType:r,codecId:n,codecDescription:c[n]};switch(n){case f:var o=e[t++];i.packetType=o,i.compositionTime=(e[t]<<24|e[t+1]<<16|e[t+2]<<8)>>8,t+=3;break;case d:i.packetType=u.NALU,i.horizontalOffset=e[t]>>4&15,i.verticalOffset=15&e[t],i.compositionTime=0,t++}return i.data=e.subarray(t),i}(t);if(!g||g.trackInfo.codecId!==y.codecId)throw new Error("Unexpected video packet codec: "+y.codecDescription);switch(y.codecId){default:throw new Error("unsupported video codec: "+y.codecDescription);case d:break;case f:if(y.packetType===u.HEADER)return void g.initializationData.push(y.data)}this.cachedPackets.push({packet:y,timestamp:s,trackId:g.trackId});break;default:throw new Error("unknown packet type: "+e)}this.state===l.NEED_HEADER_DATA&&this._tryGenerateHeader(),this.cachedPackets.length>=50&&this.state===l.MAIN_PACKETS&&this._chunk()},p.prototype.flush=function(){this.cachedPackets.length>0&&this._chunk()},p.prototype._checkIfNeedHeaderData=function(){this.trackStates.some((function(e){return e.trackInfo.codecId===a||e.trackInfo.codecId===f}))?this.state=l.NEED_HEADER_DATA:this.state=l.CAN_GENERATE_HEADER},p.prototype._tryGenerateHeader=function(){if(this.trackStates.every((function(e){switch(e.trackInfo.codecId){case a:case f:return e.initializationData.length>0;default:return!0}}))){for(var r=["isom"],n=[],i=0;i<this.trackStates.length;i++){var s,u,c=this.trackStates[i],p=c.trackInfo;switch(p.codecId){case a:var h=c.initializationData[0];s=new e.Iso.AudioSampleEntry("mp4a",1,p.channels,p.samplesize,p.samplerate);var g=new Uint8Array(41+h.length);g.set(t("0000000003808080"),0),g[8]=32+h.length,g.set(t("00020004808080"),9),g[16]=18+h.length,g.set(t("40150000000000FA000000000005808080"),17),g[34]=h.length,g.set(h,35),g.set(t("068080800102"),35+h.length),s.otherBoxes=[new e.Iso.RawTag("esds",g)];var y=h[0]>>3;c.mimeTypeCodec="mp4a.40."+y;break;case o:s=new e.Iso.AudioSampleEntry(".mp3",1,p.channels,p.samplesize,p.samplerate),c.mimeTypeCodec="mp3";break;case f:var m=c.initializationData[0];(s=new e.Iso.VideoSampleEntry("avc1",1,p.width,p.height)).otherBoxes=[new e.Iso.RawTag("avcC",m)];var _=m[1]<<16|m[2]<<8|m[3];c.mimeTypeCodec="avc1."+(16777216|_).toString(16).substr(1),r.push("iso2","avc1","mp41");break;case d:(s=new e.Iso.VideoSampleEntry("VP6F",1,p.width,p.height)).otherBoxes=[new e.Iso.RawTag("glbl",t("00"))],c.mimeTypeCodec="avc1.42001E";break;default:throw new Error("not supported track type")}var v=e.Iso.TrackHeaderFlags.TRACK_ENABLED|e.Iso.TrackHeaderFlags.TRACK_IN_MOVIE;c===this.audioTrackState?u=new e.Iso.TrackBox(new e.Iso.TrackHeaderBox(v,c.trackId,-1,0,0,1,i),new e.Iso.MediaBox(new e.Iso.MediaHeaderBox(p.timescale,-1,p.language),new e.Iso.HandlerBox("soun","SoundHandler"),new e.Iso.MediaInformationBox(new e.Iso.SoundMediaHeaderBox,new e.Iso.DataInformationBox(new e.Iso.DataReferenceBox([new e.Iso.DataEntryUrlBox(e.Iso.SELF_CONTAINED_DATA_REFERENCE_FLAG)])),new e.Iso.SampleTableBox(new e.Iso.SampleDescriptionBox([s]),new e.Iso.RawTag("stts",t("0000000000000000")),new e.Iso.RawTag("stsc",t("0000000000000000")),new e.Iso.RawTag("stsz",t("000000000000000000000000")),new e.Iso.RawTag("stco",t("0000000000000000")))))):c===this.videoTrackState&&(u=new e.Iso.TrackBox(new e.Iso.TrackHeaderBox(v,c.trackId,-1,p.width,p.height,0,i),new e.Iso.MediaBox(new e.Iso.MediaHeaderBox(p.timescale,-1,p.language),new e.Iso.HandlerBox("vide","VideoHandler"),new e.Iso.MediaInformationBox(new e.Iso.VideoMediaHeaderBox,new e.Iso.DataInformationBox(new e.Iso.DataReferenceBox([new e.Iso.DataEntryUrlBox(e.Iso.SELF_CONTAINED_DATA_REFERENCE_FLAG)])),new e.Iso.SampleTableBox(new e.Iso.SampleDescriptionBox([s]),new e.Iso.RawTag("stts",t("0000000000000000")),new e.Iso.RawTag("stsc",t("0000000000000000")),new e.Iso.RawTag("stsz",t("000000000000000000000000")),new e.Iso.RawTag("stco",t("0000000000000000"))))))),n.push(u)}var b=new e.Iso.MovieExtendsBox(null,[new e.Iso.TrackExtendsBox(1,1,0,0,0),new e.Iso.TrackExtendsBox(2,1,0,0,0)],null),w=new e.Iso.BoxContainerBox("udat",[new e.Iso.MetaBox(new e.Iso.RawTag("hdlr",t("00000000000000006D6469726170706C000000000000000000")),[new e.Iso.RawTag("ilst",t("00000025A9746F6F0000001D6461746100000001000000004C61766635342E36332E313034"))])]),E=new e.Iso.MovieHeaderBox(1e3,0,this.trackStates.length+1),S=new e.Iso.MovieBox(E,n,b,w),A=new e.Iso.FileTypeBox("isom",512,r),P=A.layout(0),I=S.layout(P),M=new Uint8Array(P+I);A.write(M),S.write(M),this.oncodecinfo(this.trackStates.map((function(e){return e.mimeTypeCodec}))),this.ondata(M),this.filePos+=M.length,this.state=l.MAIN_PACKETS}},p.prototype._chunk=function(){var t=this.cachedPackets;if(this.videoTrackState){for(var r=t.length-1,n=this.videoTrackState.trackId;r>0&&(t[r].trackId!==n||t[r].packet.frameType!==s.KEY);)r--;r>0&&(t=t.slice(0,r))}if(0!==t.length){for(var i=[],u=0,l=[],c=[],p=0;p<this.trackStates.length;p++){var h=this.trackStates[p],g=h.trackInfo,y=h.trackId,m=t.filter((function(e){return e.trackId===y}));if(0!==m.length){var _,v,b,w=new e.Iso.TrackFragmentBaseMediaDecodeTimeBox(h.cachedDuration);switch(c.push(u),g.codecId){case a:case o:for(b=[],r=0;r<m.length;r++){var E=m[r].packet,S=Math.round(E.samples*g.timescale/g.samplerate);i.push(E.data),u+=E.data.length,b.push({duration:S,size:E.data.length}),h.samplesProcessed+=E.samples}var A=e.Iso.TrackFragmentFlags.DEFAULT_SAMPLE_FLAGS_PRESENT;_=new e.Iso.TrackFragmentHeaderBox(A,y,0,0,0,0,e.Iso.SampleFlags.SAMPLE_DEPENDS_ON_NO_OTHERS);var P=e.Iso.TrackRunFlags.DATA_OFFSET_PRESENT|e.Iso.TrackRunFlags.SAMPLE_DURATION_PRESENT|e.Iso.TrackRunFlags.SAMPLE_SIZE_PRESENT;v=new e.Iso.TrackRunBox(P,b,0,0),h.cachedDuration=Math.round(h.samplesProcessed*g.timescale/g.samplerate);break;case f:case d:b=[];var I=h.samplesProcessed,M=I*g.timescale/g.framerate,T=Math.round(M);for(r=0;r<m.length;r++){var k=m[r].packet;I++;var C=Math.round(I*g.timescale/g.framerate),x=C-T;T=C;var D=Math.round(I*g.timescale/g.framerate+k.compositionTime*g.timescale/1e3);i.push(k.data),u+=k.data.length;var O=k.frameType===s.KEY?e.Iso.SampleFlags.SAMPLE_DEPENDS_ON_NO_OTHERS:e.Iso.SampleFlags.SAMPLE_DEPENDS_ON_OTHER|e.Iso.SampleFlags.SAMPLE_IS_NOT_SYNC;b.push({duration:x,size:k.data.length,flags:O,compositionTimeOffset:D-C})}A=e.Iso.TrackFragmentFlags.DEFAULT_SAMPLE_FLAGS_PRESENT,_=new e.Iso.TrackFragmentHeaderBox(A,y,0,0,0,0,e.Iso.SampleFlags.SAMPLE_DEPENDS_ON_NO_OTHERS),P=e.Iso.TrackRunFlags.DATA_OFFSET_PRESENT|e.Iso.TrackRunFlags.SAMPLE_DURATION_PRESENT|e.Iso.TrackRunFlags.SAMPLE_SIZE_PRESENT|e.Iso.TrackRunFlags.SAMPLE_FLAGS_PRESENT|e.Iso.TrackRunFlags.SAMPLE_COMPOSITION_TIME_OFFSET,v=new e.Iso.TrackRunBox(P,b,0,0),h.cachedDuration=T,h.samplesProcessed=I;break;default:throw new Error("Un codec")}var R=new e.Iso.TrackFragmentBox(_,w,v);l.push(R)}}this.cachedPackets.splice(0,t.length);var L=new e.Iso.MovieFragmentHeaderBox(++this.chunkIndex),N=new e.Iso.MovieFragmentBox(L,l),j=N.layout(0),F=new e.Iso.MediaDataBox(i),U=F.layout(j),B=j+8;for(p=0;p<l.length;p++)l[p].run.dataOffset=B+c[p];var z=new Uint8Array(j+U);N.write(z),F.write(z),this.ondata(z),this.filePos+=z.length}},p}();e.MP4Mux=p,e.parseFLVMetadata=function(e){var t,r,n,i,s=[],u=-1,l=-1,c=+e.asGetPublicProperty("duration"),p=e.asGetPublicProperty("audiocodecid");switch(p){case o:case"mp3":t="mp3",r=o;break;case a:case"mp4a":t="mp4a",r=a;break;default:if(!isNaN(p))throw new Error("Unsupported audio codec: "+p);t=null,r=-1}var h=e.asGetPublicProperty("videocodecid");switch(h){case d:case"vp6f":n="vp6f",i=d;break;case f:case"avc1":n="avc1",i=f;break;default:if(!isNaN(h))throw new Error("Unsupported video codec: "+h);n=null,i=-1}var g=null===t?null:{codecDescription:t,codecId:r,language:"und",timescale:+e.asGetPublicProperty("audiosamplerate")||44100,samplerate:+e.asGetPublicProperty("audiosamplerate")||44100,channels:+e.asGetPublicProperty("audiochannels")||2,samplesize:16},y=null===n?null:{codecDescription:n,codecId:i,language:"und",timescale:6e4,framerate:+e.asGetPublicProperty("videoframerate")||+e.asGetPublicProperty("framerate"),width:+e.asGetPublicProperty("width"),height:+e.asGetPublicProperty("height")},m=e.asGetPublicProperty("trackinfo");if(m)for(var _=0;_<m.length;_++){var v=m[_],b=v.asGetPublicProperty("sampledescription")[0];b.asGetPublicProperty("sampletype")===p?(g.language=v.asGetPublicProperty("language"),g.timescale=+v.asGetPublicProperty("timescale")):b.asGetPublicProperty("sampletype")===h&&(y.language=v.asGetPublicProperty("language"),y.timescale=+v.asGetPublicProperty("timescale"))}return y&&(l=s.length,s.push(y)),g&&(u=s.length,s.push(g)),{tracks:s,duration:c,audioTrackId:u,videoTrackId:l}},e.splitMetadata=function(e){var t=[];return e.audioTrackId>=0&&t.push({tracks:[e.tracks[e.audioTrackId]],duration:e.duration,audioTrackId:0,videoTrackId:-1}),e.videoTrackId>=0&&t.push({tracks:[e.tracks[e.videoTrackId]],duration:e.duration,audioTrackId:-1,videoTrackId:0}),t}}(e.MP4||(e.MP4={}))}(n||(n={})),function(e){!function(e){!function(e){var t=i.StringUtilities.utf8decode,r=-20828448e5,n=[1,0,0,0,1,0,0,0,1],a=[0,0,0];function s(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return Array.prototype.concat.apply(e,t)}function u(e,t,r){e[t]=r>>24&255,e[t+1]=r>>16&255,e[t+2]=r>>8&255,e[t+3]=255&r}function l(e){return e.charCodeAt(0)<<24|e.charCodeAt(1)<<16|e.charCodeAt(2)<<8|e.charCodeAt(3)}function c(e){return(e-r)/1e3|0}function d(e){return 65536*e|0}function f(e){return 1073741824*e|0}function p(e){return 256*e|0}var h=function(){function e(e,t){this.boxtype=e,"uuid"===e&&(this.userType=t)}return e.prototype.layout=function(e){this.offset=e;var t=8;return this.userType&&(t+=16),this.size=t,t},e.prototype.write=function(e){return u(e,this.offset,this.size),u(e,this.offset+4,l(this.boxtype)),this.userType?(e.set(this.userType,this.offset+8),24):8},e.prototype.toUint8Array=function(){var e=this.layout(0),t=new Uint8Array(e);return this.write(t),t},e}();e.Box=h;var g=function(e){function t(t,r,n){void 0===r&&(r=0),void 0===n&&(n=0);var i=e.call(this,t)||this;return i.version=r,i.flags=n,i}return o(t,e),t.prototype.layout=function(t){return this.size=e.prototype.layout.call(this,t)+4,this.size},t.prototype.write=function(t){var r=e.prototype.write.call(this,t);return u(t,this.offset+r,this.version<<24|this.flags),r+4},t}(h);e.FullBox=g;var y=function(e){function t(t,r,n){var i=e.call(this,"ftype")||this;return i.majorBrand=t,i.minorVersion=r,i.compatibleBrands=n,i}return o(t,e),t.prototype.layout=function(t){return this.size=e.prototype.layout.call(this,t)+4*(2+this.compatibleBrands.length),this.size},t.prototype.write=function(t){var r=this,n=e.prototype.write.call(this,t);return u(t,this.offset+n,l(this.majorBrand)),u(t,this.offset+n+4,this.minorVersion),n+=8,this.compatibleBrands.forEach((function(e){u(t,r.offset+n,l(e)),n+=4}),this),n},t}(h);e.FileTypeBox=y;var m=function(e){function t(t,r){var n=e.call(this,t)||this;return n.children=r,n}return o(t,e),t.prototype.layout=function(t){var r=e.prototype.layout.call(this,t);return this.children.forEach((function(e){e&&(r+=e.layout(t+r))})),this.size=r},t.prototype.write=function(t){var r=e.prototype.write.call(this,t);return this.children.forEach((function(e){e&&(r+=e.write(t))})),r},t}(h);e.BoxContainerBox=m;var _=function(e){function t(t,r,n,i){var o=e.call(this,"moov",s([t],r,[n,i]))||this;return o.header=t,o.tracks=r,o.extendsBox=n,o.userData=i,o}return o(t,e),t}(m);e.MovieBox=_;var v=function(e){function t(t,i,o,a,s,u,l,c){void 0===a&&(a=1),void 0===s&&(s=1),void 0===u&&(u=n),void 0===l&&(l=r),void 0===c&&(c=r);var d=e.call(this,"mvhd",0,0)||this;return d.timescale=t,d.duration=i,d.nextTrackId=o,d.rate=a,d.volume=s,d.matrix=u,d.creationTime=l,d.modificationTime=c,d}return o(t,e),t.prototype.layout=function(t){return this.size=e.prototype.layout.call(this,t)+16+4+2+2+8+36+24+4,this.size},t.prototype.write=function(t){var r=e.prototype.write.call(this,t);return u(t,this.offset+r,c(this.creationTime)),u(t,this.offset+r+4,c(this.modificationTime)),u(t,this.offset+r+8,this.timescale),u(t,this.offset+r+12,this.duration),r+=16,u(t,this.offset+r,d(this.rate)),u(t,this.offset+r+4,p(this.volume)<<16),u(t,this.offset+r+8,0),u(t,this.offset+r+12,0),r+=16,u(t,this.offset+r,d(this.matrix[0])),u(t,this.offset+r+4,d(this.matrix[1])),u(t,this.offset+r+8,d(this.matrix[2])),u(t,this.offset+r+12,d(this.matrix[3])),u(t,this.offset+r+16,d(this.matrix[4])),u(t,this.offset+r+20,d(this.matrix[5])),u(t,this.offset+r+24,f(this.matrix[6])),u(t,this.offset+r+28,f(this.matrix[7])),u(t,this.offset+r+32,f(this.matrix[8])),r+=36,u(t,this.offset+r,0),u(t,this.offset+r+4,0),u(t,this.offset+r+8,0),u(t,this.offset+r+12,0),u(t,this.offset+r+16,0),u(t,this.offset+r+20,0),r+=24,u(t,this.offset+r,this.nextTrackId),r+=4},t}(g);e.MovieHeaderBox=v,function(e){e[e.TRACK_ENABLED=1]="TRACK_ENABLED",e[e.TRACK_IN_MOVIE=2]="TRACK_IN_MOVIE",e[e.TRACK_IN_PREVIEW=4]="TRACK_IN_PREVIEW"}(e.TrackHeaderFlags||(e.TrackHeaderFlags={}));var b=function(e){function t(t,i,o,a,s,u,l,c,d,f,p){void 0===l&&(l=0),void 0===c&&(c=0),void 0===d&&(d=n),void 0===f&&(f=r),void 0===p&&(p=r);var h=e.call(this,"tkhd",0,t)||this;return h.trackId=i,h.duration=o,h.width=a,h.height=s,h.volume=u,h.alternateGroup=l,h.layer=c,h.matrix=d,h.creationTime=f,h.modificationTime=p,h}return o(t,e),t.prototype.layout=function(t){return this.size=e.prototype.layout.call(this,t)+20+8+6+2+36+8,this.size},t.prototype.write=function(t){var r=e.prototype.write.call(this,t);return u(t,this.offset+r,c(this.creationTime)),u(t,this.offset+r+4,c(this.modificationTime)),u(t,this.offset+r+8,this.trackId),u(t,this.offset+r+12,0),u(t,this.offset+r+16,this.duration),r+=20,u(t,this.offset+r,0),u(t,this.offset+r+4,0),u(t,this.offset+r+8,this.layer<<16|this.alternateGroup),u(t,this.offset+r+12,p(this.volume)<<16),r+=16,u(t,this.offset+r,d(this.matrix[0])),u(t,this.offset+r+4,d(this.matrix[1])),u(t,this.offset+r+8,d(this.matrix[2])),u(t,this.offset+r+12,d(this.matrix[3])),u(t,this.offset+r+16,d(this.matrix[4])),u(t,this.offset+r+20,d(this.matrix[5])),u(t,this.offset+r+24,f(this.matrix[6])),u(t,this.offset+r+28,f(this.matrix[7])),u(t,this.offset+r+32,f(this.matrix[8])),r+=36,u(t,this.offset+r,d(this.width)),u(t,this.offset+r+4,d(this.height)),r+=8},t}(g);e.TrackHeaderBox=b;var w=function(e){function t(t,n,i,o,a){void 0===i&&(i="unk"),void 0===o&&(o=r),void 0===a&&(a=r);var s=e.call(this,"mdhd",0,0)||this;return s.timescale=t,s.duration=n,s.language=i,s.creationTime=o,s.modificationTime=a,s}return o(t,e),t.prototype.layout=function(t){return this.size=e.prototype.layout.call(this,t)+16+4,this.size},t.prototype.write=function(t){var r,n=e.prototype.write.call(this,t);return u(t,this.offset+n,c(this.creationTime)),u(t,this.offset+n+4,c(this.modificationTime)),u(t,this.offset+n+8,this.timescale),u(t,this.offset+n+12,this.duration),u(t,this.offset+n+16,((31&(r=this.language).charCodeAt(0))<<10|(31&r.charCodeAt(1))<<5|31&r.charCodeAt(2))<<16),n+20},t}(g);e.MediaHeaderBox=w;var E=function(e){function r(r,n){var i=e.call(this,"hdlr",0,0)||this;return i.handlerType=r,i.name=n,i._encodedName=t(i.name),i}return o(r,e),r.prototype.layout=function(t){return this.size=e.prototype.layout.call(this,t)+8+12+(this._encodedName.length+1),this.size},r.prototype.write=function(t){var r=e.prototype.write.call(this,t);return u(t,this.offset+r,0),u(t,this.offset+r+4,l(this.handlerType)),u(t,this.offset+r+8,0),u(t,this.offset+r+12,0),u(t,this.offset+r+16,0),r+=20,t.set(this._encodedName,this.offset+r),t[this.offset+r+this._encodedName.length]=0,r+=this._encodedName.length+1},r}(g);e.HandlerBox=E;var S=function(e){function t(t){void 0===t&&(t=0);var r=e.call(this,"smhd",0,0)||this;return r.balance=t,r}return o(t,e),t.prototype.layout=function(t){return this.size=e.prototype.layout.call(this,t)+4,this.size},t.prototype.write=function(t){var r=e.prototype.write.call(this,t);return u(t,this.offset+r,p(this.balance)<<16),r+4},t}(g);e.SoundMediaHeaderBox=S;var A=function(e){function t(t,r){void 0===t&&(t=0),void 0===r&&(r=a);var n=e.call(this,"vmhd",0,0)||this;return n.graphicsMode=t,n.opColor=r,n}return o(t,e),t.prototype.layout=function(t){return this.size=e.prototype.layout.call(this,t)+8,this.size},t.prototype.write=function(t){var r=e.prototype.write.call(this,t);return u(t,this.offset+r,this.graphicsMode<<16|this.opColor[0]),u(t,this.offset+r+4,this.opColor[1]<<16|this.opColor[2]),r+8},t}(g);e.VideoMediaHeaderBox=A,e.SELF_CONTAINED_DATA_REFERENCE_FLAG=1;var P=function(r){function n(n,i){void 0===i&&(i=null);var o=r.call(this,"url ",0,n)||this;return o.location=i,n&e.SELF_CONTAINED_DATA_REFERENCE_FLAG||(o._encodedLocation=t(i)),o}return o(n,r),n.prototype.layout=function(e){var t=r.prototype.layout.call(this,e);return this._encodedLocation&&(t+=this._encodedLocation.length+1),this.size=t},n.prototype.write=function(e){var t=r.prototype.write.call(this,e);return this._encodedLocation&&(e.set(this._encodedLocation,this.offset+t),e[this.offset+t+this._encodedLocation.length]=0,t+=this._encodedLocation.length),t},n}(g);e.DataEntryUrlBox=P;var I=function(e){function t(t){var r=e.call(this,"dref",0,0)||this;return r.entries=t,r}return o(t,e),t.prototype.layout=function(t){var r=e.prototype.layout.call(this,t)+4;return this.entries.forEach((function(e){r+=e.layout(t+r)})),this.size=r},t.prototype.write=function(t){var r=e.prototype.write.call(this,t);return u(t,this.offset+r,this.entries.length),this.entries.forEach((function(e){r+=e.write(t)})),r},t}(g);e.DataReferenceBox=I;var M=function(e){function t(t){var r=e.call(this,"dinf",[t])||this;return r.dataReference=t,r}return o(t,e),t}(m);e.DataInformationBox=M;var T=function(e){function t(t){var r=e.call(this,"stsd",0,0)||this;return r.entries=t,r}return o(t,e),t.prototype.layout=function(t){var r=e.prototype.layout.call(this,t);return r+=4,this.entries.forEach((function(e){r+=e.layout(t+r)})),this.size=r},t.prototype.write=function(t){var r=e.prototype.write.call(this,t);return u(t,this.offset+r,this.entries.length),r+=4,this.entries.forEach((function(e){r+=e.write(t)})),r},t}(g);e.SampleDescriptionBox=T;var k=function(e){function t(t,r,n,i,o){var a=e.call(this,"stbl",[t,r,n,i,o])||this;return a.sampleDescriptions=t,a.timeToSample=r,a.sampleToChunk=n,a.sampleSizes=i,a.chunkOffset=o,a}return o(t,e),t}(m);e.SampleTableBox=k;var C=function(e){function t(t,r,n){var i=e.call(this,"minf",[t,r,n])||this;return i.header=t,i.info=r,i.sampleTable=n,i}return o(t,e),t}(m);e.MediaInformationBox=C;var x=function(e){function t(t,r,n){var i=e.call(this,"mdia",[t,r,n])||this;return i.header=t,i.handler=r,i.info=n,i}return o(t,e),t}(m);e.MediaBox=x;var D=function(e){function t(t,r){var n=e.call(this,"trak",[t,r])||this;return n.header=t,n.media=r,n}return o(t,e),t}(m);e.TrackBox=D;var O=function(e){function t(t,r,n,i,o){var a=e.call(this,"trex",0,0)||this;return a.trackId=t,a.defaultSampleDescriptionIndex=r,a.defaultSampleDuration=n,a.defaultSampleSize=i,a.defaultSampleFlags=o,a}return o(t,e),t.prototype.layout=function(t){return this.size=e.prototype.layout.call(this,t)+20,this.size},t.prototype.write=function(t){var r=e.prototype.write.call(this,t);return u(t,this.offset+r,this.trackId),u(t,this.offset+r+4,this.defaultSampleDescriptionIndex),u(t,this.offset+r+8,this.defaultSampleDuration),u(t,this.offset+r+12,this.defaultSampleSize),u(t,this.offset+r+16,this.defaultSampleFlags),r+20},t}(g);e.TrackExtendsBox=O;var R=function(e){function t(t,r,n){var i=e.call(this,"mvex",s([t],r,[n]))||this;return i.header=t,i.tracDefaults=r,i.levels=n,i}return o(t,e),t}(m);e.MovieExtendsBox=R;var L=function(e){function t(t,r){var n=e.call(this,"meta",0,0)||this;return n.handler=t,n.otherBoxes=r,n}return o(t,e),t.prototype.layout=function(t){var r=e.prototype.layout.call(this,t);return r+=this.handler.layout(t+r),this.otherBoxes.forEach((function(e){r+=e.layout(t+r)})),this.size=r},t.prototype.write=function(t){var r=e.prototype.write.call(this,t);return r+=this.handler.write(t),this.otherBoxes.forEach((function(e){r+=e.write(t)})),r},t}(g);e.MetaBox=L;var N,j=function(e){function t(t){var r=e.call(this,"mfhd",0,0)||this;return r.sequenceNumber=t,r}return o(t,e),t.prototype.layout=function(t){return this.size=e.prototype.layout.call(this,t)+4,this.size},t.prototype.write=function(t){var r=e.prototype.write.call(this,t);return u(t,this.offset+r,this.sequenceNumber),r+4},t}(g);e.MovieFragmentHeaderBox=j,function(e){e[e.BASE_DATA_OFFSET_PRESENT=1]="BASE_DATA_OFFSET_PRESENT",e[e.SAMPLE_DESCRIPTION_INDEX_PRESENT=2]="SAMPLE_DESCRIPTION_INDEX_PRESENT",e[e.DEFAULT_SAMPLE_DURATION_PRESENT=8]="DEFAULT_SAMPLE_DURATION_PRESENT",e[e.DEFAULT_SAMPLE_SIZE_PRESENT=16]="DEFAULT_SAMPLE_SIZE_PRESENT",e[e.DEFAULT_SAMPLE_FLAGS_PRESENT=32]="DEFAULT_SAMPLE_FLAGS_PRESENT"}(N=e.TrackFragmentFlags||(e.TrackFragmentFlags={}));var F=function(e){function t(t,r,n,i,o,a,s){var u=e.call(this,"tfhd",0,t)||this;return u.trackId=r,u.baseDataOffset=n,u.sampleDescriptionIndex=i,u.defaultSampleDuration=o,u.defaultSampleSize=a,u.defaultSampleFlags=s,u}return o(t,e),t.prototype.layout=function(t){var r=e.prototype.layout.call(this,t)+4,n=this.flags;return n&N.BASE_DATA_OFFSET_PRESENT&&(r+=8),n&N.SAMPLE_DESCRIPTION_INDEX_PRESENT&&(r+=4),n&N.DEFAULT_SAMPLE_DURATION_PRESENT&&(r+=4),n&N.DEFAULT_SAMPLE_SIZE_PRESENT&&(r+=4),n&N.DEFAULT_SAMPLE_FLAGS_PRESENT&&(r+=4),this.size=r},t.prototype.write=function(t){var r=e.prototype.write.call(this,t),n=this.flags;return u(t,this.offset+r,this.trackId),r+=4,n&N.BASE_DATA_OFFSET_PRESENT&&(u(t,this.offset+r,0),u(t,this.offset+r+4,this.baseDataOffset),r+=8),n&N.SAMPLE_DESCRIPTION_INDEX_PRESENT&&(u(t,this.offset+r,this.sampleDescriptionIndex),r+=4),n&N.DEFAULT_SAMPLE_DURATION_PRESENT&&(u(t,this.offset+r,this.defaultSampleDuration),r+=4),n&N.DEFAULT_SAMPLE_SIZE_PRESENT&&(u(t,this.offset+r,this.defaultSampleSize),r+=4),n&N.DEFAULT_SAMPLE_FLAGS_PRESENT&&(u(t,this.offset+r,this.defaultSampleFlags),r+=4),r},t}(g);e.TrackFragmentHeaderBox=F;var U=function(e){function t(t){var r=e.call(this,"tfdt",0,0)||this;return r.baseMediaDecodeTime=t,r}return o(t,e),t.prototype.layout=function(t){return this.size=e.prototype.layout.call(this,t)+4,this.size},t.prototype.write=function(t){var r=e.prototype.write.call(this,t);return u(t,this.offset+r,this.baseMediaDecodeTime),r+4},t}(g);e.TrackFragmentBaseMediaDecodeTimeBox=U;var B,z=function(e){function t(t,r,n){var i=e.call(this,"traf",[t,r,n])||this;return i.header=t,i.decodeTime=r,i.run=n,i}return o(t,e),t}(m);e.TrackFragmentBox=z,function(e){e[e.IS_LEADING_MASK=201326592]="IS_LEADING_MASK",e[e.SAMPLE_DEPENDS_ON_MASK=50331648]="SAMPLE_DEPENDS_ON_MASK",e[e.SAMPLE_DEPENDS_ON_OTHER=16777216]="SAMPLE_DEPENDS_ON_OTHER",e[e.SAMPLE_DEPENDS_ON_NO_OTHERS=33554432]="SAMPLE_DEPENDS_ON_NO_OTHERS",e[e.SAMPLE_IS_DEPENDED_ON_MASK=12582912]="SAMPLE_IS_DEPENDED_ON_MASK",e[e.SAMPLE_HAS_REDUNDANCY_MASK=3145728]="SAMPLE_HAS_REDUNDANCY_MASK",e[e.SAMPLE_PADDING_VALUE_MASK=917504]="SAMPLE_PADDING_VALUE_MASK",e[e.SAMPLE_IS_NOT_SYNC=65536]="SAMPLE_IS_NOT_SYNC",e[e.SAMPLE_DEGRADATION_PRIORITY_MASK=65535]="SAMPLE_DEGRADATION_PRIORITY_MASK"}(e.SampleFlags||(e.SampleFlags={})),function(e){e[e.DATA_OFFSET_PRESENT=1]="DATA_OFFSET_PRESENT",e[e.FIRST_SAMPLE_FLAGS_PRESENT=4]="FIRST_SAMPLE_FLAGS_PRESENT",e[e.SAMPLE_DURATION_PRESENT=256]="SAMPLE_DURATION_PRESENT",e[e.SAMPLE_SIZE_PRESENT=512]="SAMPLE_SIZE_PRESENT",e[e.SAMPLE_FLAGS_PRESENT=1024]="SAMPLE_FLAGS_PRESENT",e[e.SAMPLE_COMPOSITION_TIME_OFFSET=2048]="SAMPLE_COMPOSITION_TIME_OFFSET"}(B=e.TrackRunFlags||(e.TrackRunFlags={}));var H=function(e){function t(t,r,n,i){var o=e.call(this,"trun",1,t)||this;return o.samples=r,o.dataOffset=n,o.firstSampleFlags=i,o}return o(t,e),t.prototype.layout=function(t){var r=e.prototype.layout.call(this,t)+4,n=this.samples.length,i=this.flags;return i&B.DATA_OFFSET_PRESENT&&(r+=4),i&B.FIRST_SAMPLE_FLAGS_PRESENT&&(r+=4),i&B.SAMPLE_DURATION_PRESENT&&(r+=4*n),i&B.SAMPLE_SIZE_PRESENT&&(r+=4*n),i&B.SAMPLE_FLAGS_PRESENT&&(r+=4*n),i&B.SAMPLE_COMPOSITION_TIME_OFFSET&&(r+=4*n),this.size=r},t.prototype.write=function(t){var r=e.prototype.write.call(this,t),n=this.samples.length,i=this.flags;u(t,this.offset+r,n),r+=4,i&B.DATA_OFFSET_PRESENT&&(u(t,this.offset+r,this.dataOffset),r+=4),i&B.FIRST_SAMPLE_FLAGS_PRESENT&&(u(t,this.offset+r,this.firstSampleFlags),r+=4);for(var o=0;o<n;o++){var a=this.samples[o];i&B.SAMPLE_DURATION_PRESENT&&(u(t,this.offset+r,a.duration),r+=4),i&B.SAMPLE_SIZE_PRESENT&&(u(t,this.offset+r,a.size),r+=4),i&B.SAMPLE_FLAGS_PRESENT&&(u(t,this.offset+r,a.flags),r+=4),i&B.SAMPLE_COMPOSITION_TIME_OFFSET&&(u(t,this.offset+r,a.compositionTimeOffset),r+=4)}return r},t}(g);e.TrackRunBox=H;var G=function(e){function t(t,r){var n=e.call(this,"moof",s([t],r))||this;return n.header=t,n.trafs=r,n}return o(t,e),t}(m);e.MovieFragmentBox=G;var V=function(e){function t(t){var r=e.call(this,"mdat")||this;return r.chunks=t,r}return o(t,e),t.prototype.layout=function(t){var r=e.prototype.layout.call(this,t);return this.chunks.forEach((function(e){r+=e.length})),this.size=r},t.prototype.write=function(t){var r=this,n=e.prototype.write.call(this,t);return this.chunks.forEach((function(e){t.set(e,r.offset+n),n+=e.length}),this),n},t}(h);e.MediaDataBox=V;var q=function(e){function t(t,r){var n=e.call(this,t)||this;return n.dataReferenceIndex=r,n}return o(t,e),t.prototype.layout=function(t){return this.size=e.prototype.layout.call(this,t)+8,this.size},t.prototype.write=function(t){var r=e.prototype.write.call(this,t);return u(t,this.offset+r,0),u(t,this.offset+r+4,this.dataReferenceIndex),r+8},t}(h);e.SampleEntry=q;var W=function(e){function t(t,r,n,i,o,a){void 0===n&&(n=2),void 0===i&&(i=16),void 0===o&&(o=44100),void 0===a&&(a=null);var s=e.call(this,t,r)||this;return s.channelCount=n,s.sampleSize=i,s.sampleRate=o,s.otherBoxes=a,s}return o(t,e),t.prototype.layout=function(t){var r=e.prototype.layout.call(this,t)+20;return this.otherBoxes&&this.otherBoxes.forEach((function(e){r+=e.layout(t+r)})),this.size=r},t.prototype.write=function(t){var r=e.prototype.write.call(this,t);return u(t,this.offset+r,0),u(t,this.offset+r+4,0),u(t,this.offset+r+8,this.channelCount<<16|this.sampleSize),u(t,this.offset+r+12,0),u(t,this.offset+r+16,this.sampleRate<<16),r+=20,this.otherBoxes&&this.otherBoxes.forEach((function(e){r+=e.write(t)})),r},t}(q);e.AudioSampleEntry=W,e.COLOR_NO_ALPHA_VIDEO_SAMPLE_DEPTH=24;var Y=function(t){function r(r,n,i,o,a,s,u,l,c,d){void 0===a&&(a=""),void 0===s&&(s=72),void 0===u&&(u=72),void 0===l&&(l=1),void 0===c&&(c=e.COLOR_NO_ALPHA_VIDEO_SAMPLE_DEPTH),void 0===d&&(d=null);var f=t.call(this,r,n)||this;if(f.width=i,f.height=o,f.compressorName=a,f.horizResolution=s,f.vertResolution=u,f.frameCount=l,f.depth=c,f.otherBoxes=d,a.length>31)throw new Error("invalid compressor name");return f}return o(r,t),r.prototype.layout=function(e){var r=t.prototype.layout.call(this,e)+16+12+4+2+32+2+2;return this.otherBoxes&&this.otherBoxes.forEach((function(t){r+=t.layout(e+r)})),this.size=r},r.prototype.write=function(e){var r=t.prototype.write.call(this,e);u(e,this.offset+r,0),u(e,this.offset+r+4,0),u(e,this.offset+r+8,0),u(e,this.offset+r+12,0),r+=16,u(e,this.offset+r,this.width<<16|this.height),u(e,this.offset+r+4,d(this.horizResolution)),u(e,this.offset+r+8,d(this.vertResolution)),r+=12,u(e,this.offset+r,0),u(e,this.offset+r+4,this.frameCount<<16),r+=6,e[this.offset+r]=this.compressorName.length;for(var n=0;n<31;n++)e[this.offset+r+n+1]=n<this.compressorName.length?127&this.compressorName.charCodeAt(n):0;return r+=32,u(e,this.offset+r,this.depth<<16|65535),r+=4,this.otherBoxes&&this.otherBoxes.forEach((function(t){r+=t.write(e)})),r},r}(q);e.VideoSampleEntry=Y;var Z=function(e){function t(t,r){var n=e.call(this,t)||this;return n.data=r,n}return o(t,e),t.prototype.layout=function(t){return this.size=e.prototype.layout.call(this,t)+this.data.length,this.size},t.prototype.write=function(t){var r=e.prototype.write.call(this,t);return t.set(this.data,this.offset+r),r+this.data.length},t}(h);e.RawTag=Z}(e.Iso||(e.Iso={}))}(e.MP4||(e.MP4={}))}(n||(n={})),t.MP4Mux=n.MP4.MP4Mux},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),i=r(2),o=r(34);t.OggOpusToWebm={getInputFormat:function(){return{mimeType:"audio/ogg",audioCodec:{id:"opus"}}},getOutputFormat:function(){return{mimeType:"audio/webm",audioCodec:{id:"opus"}}},transmux:function(e){return new n.helpers.abortableJob.AbortableJob((function(){var t=n.helpers.deferred.buildDeferred(),r=new n.eventDispatcher.EventDispatcher,a=[],s=null,u=new Uint8Array(0),l=!1,c=null,d=!1;function f(r){d=!0,t.reject(r),e.abort()}return e.onProgressUpdate((function(e){if(!d){var t=[u,e.data];!l&&e.initData&&(t=[e.initData].concat(t)),l=!0;var p=n.helpers.arrayBuffer.combine(t);try{var h=i.retrievePages(p).pages,g=h.reduce((function(e,t){return e+t.entirePage.byteLength}),0);u=new Uint8Array(p.buffer.slice(g));var y=i.retrievePackets(h);if(y.length&&!s){if(y.length<2)throw new Error("Expecting at least 2 opus packets.");o.parseOpusHead(y[0]).outputGain>-2&&o.setOutputGain(y[0],-2),s=[y[0],y[1]],y=y.slice(2)}if(y.length&&s){a.push.apply(a,y);var m=o.buildWebm(s.concat(y));c||(c=m.initData),r.dispatch({initData:c,data:m.data})}}catch(e){f(e)}}})),e.onCompletion((function(e){u.byteLength?t.reject(new Error("Still data left in buffer.")):t.resolve(e)})),e.onError(f),{result:t.promise,progressUpdates:{onProgressUpdate:r,getProgressSoFar:function(){if(a.length&&s){var e=o.buildWebm(s.concat(a)).data;return{initData:c,data:e}}return null}},abort:function(){d=!0,e.abort()}}})).run()}}},function(e,t){e.exports=r},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0);t.MP4ToMP4={getInputFormat:function(){return{mimeType:"audio/mp4"}},getOutputFormat:function(){return{mimeType:"audio/mp4"}},transmux:function(e){return new n.helpers.abortableJob.AbortableJob((function(){var t=n.helpers.deferred.buildDeferred(),r=new n.eventDispatcher.EventDispatcher,i=[],o=[],a=new Uint8Array(0),s=null,u=!1,l=function(e){if(e.byteLength<4)a=e;else{if(null===s){var t=new DataView(e.buffer).getUint32(0);if(1===t)throw new Error("Large atom size not supported.");s=t}if(0!==s&&e.byteLength>=s){var r=new Uint8Array(e.buffer.slice(0,s));o.push(r),a=new Uint8Array(e.buffer.slice(s)),s=null,l(a)}else a=e}};function c(r){t.reject(r),e.abort()}return e.onProgressUpdate((function(e){var t=e.data;!u&&e.initData&&(t=n.helpers.arrayBuffer.combine([e.initData,e.data])),u=!0;try{var s=n.helpers.arrayBuffer.combine([a,t]);if(l(s),o.length){var d=n.helpers.arrayBuffer.combine(o);o.splice(0),i.push(d),r.dispatch({data:d})}}catch(e){c(e)}})),e.onCompletion((function(e){try{if(0===s)i.push(a),r.dispatch({data:a});else if(a.byteLength)throw new Error("Part way through an atom.");t.resolve(e)}catch(e){c(e)}})),e.onError(c),{result:t.promise,progressUpdates:{onProgressUpdate:r,getProgressSoFar:function(){return i.length?{data:n.helpers.arrayBuffer.combine(i)}:null}},abort:function(){e.abort()}}})).run()}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(10),i=r(37),o=r(5),a=r(1),s=r(6),u=r(9),l=r(38);!function(e){e.NoDecryptorError=n.NoDecryptorError,e.PlaylistParseError=i.PlaylistParseError,e.OggParserError=o.OggParserError,e.Mp3TransmuxerRetrievalError=s.Mp3TransmuxerRetrievalError,e.RetrievalError=a.RetrievalError,e.UnacceptableResponseStatusCodeError=u.UnacceptableResponseStatusCodeError,e.UnsupportedEncryptionError=l.UnsupportedEncryptionError}(t.retrievalErrors||(t.retrievalErrors={}))},function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t){var r=e.call(this)||this;return r._details=t,r}return i(t,e),t.prototype.getDetails=function(){return this._details},t.prototype.getCode=function(){return"PLAYLIST_PARSE"},t}(r(1).RetrievalError);t.PlaylistParseError=o},function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.getCode=function(){return"UNSUPPORTED_ENCRYPTION_ERROR"},t}(r(1).RetrievalError);t.UnsupportedEncryptionError=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(40),i=r(41),o=r(42),a=r(8);!function(e){e.InitData=n.InitData,e.Key=i.Key,e.Playlist=o.Playlist,e.Segment=a.Segment}(t.events||(t.events={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){this._playlist=e,this._url=t}return e.prototype.getPlaylist=function(){return this._playlist},e.prototype.getUrl=function(){return this._url},e}();t.InitData=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){this._playlist=e,this._url=t}return e.prototype.getPlaylist=function(){return this._playlist},e.prototype.getUrl=function(){return this._url},e}();t.Key=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){this._url=e}return e.prototype.getUrl=function(){return this._url},e}();t.Playlist=n}])},e.exports=n(r(77),r(1010),r(1011))},function(e,t,r){var n;window,n=function(e,t){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=1)}([function(t,r){t.exports=e},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.version="23.7.2",t.buildNumber=928;var n=r(2);t.ChromecastPlayerController=n.ChromecastPlayerController;var i=r(0);t.ChromecastPlayer=i.ChromecastPlayer},function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var o=r(3),a=r(0),s=function(e){function t(t){var r=t.castContext,n=e.call(this)||this;return n.name="MaestroChromecast",n.syncConfig={syncPosition:!1,syncVolume:!1},n._castContext=r,n}return i(t,e),t.prototype.isRenditionSupported=function(e){return"maestro.chromecast"===e.scProtocol},t.prototype.buildPlayer=function(e){return new u(e,this._castContext)},t}(o.BaseController);t.ChromecastPlayerController=s;var u=function(){function e(e,t){this._config=e,this._castContext=t;var r=e.logger,n=e.playerId,i=e.urlAndRendition,o=e.reportError,s=e.seekStrategy;this._player=new a.ChromecastPlayer({contentId:i.url},{name:n,castContext:this._castContext,logger:r,seekStrategy:s,registerListeners:function(e){e.onError.subscribe((function(e){return o(e.getCode())}))}})}return e.prototype.getPlayer=function(){return this._player},e.prototype.getUrl=function(){return this._config.urlAndRendition.url},e}();t.ControlledPlayer=u},function(e,r){e.exports=t}])},e.exports=n(r(1013),r(67))},function(e,t,r){var n;window,n=function(e,t){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=0)}([function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.version="23.7.2",t.buildNumber=928;var n=r(1);t.StreamUrlRetriever=n.StreamUrlRetriever},function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var a=r(2),s=r(3),u=a.helpers.abortableJob.AbortableJob,l=a.helpers.Promise,c=function(e){function t(t){var r=t.urlsWithRenditions,n=t.trackId,i=void 0===n?null:n,o=e.call(this)||this;return o.name="Local",o._trackId=i,o._urlsWithRenditions=r,o}return i(t,e),t.prototype.getTrackId=function(){return this._trackId},t.prototype.excludeRendition=function(e){this._urlsWithRenditions=this._urlsWithRenditions.filter((function(t){return t.rendition!==e}))},t.prototype.getUrl=function(){var e=this;return new u((function(){var t=e._urlsWithRenditions[0]||null,r=t?o({success:!0},t):null;return{result:l.resolve(r)}})).run()},t}(s.BaseStreamUrlRetriever);t.StreamUrlRetriever=c},function(t,r){t.exports=e},function(e,r){e.exports=t}])},e.exports=n(r(77),r(67))},function(e,t,r){(function(t){var n=5*r(26).MS_IN_SECOND;e.exports=r(30).extend({model:r(1020),_isLooping:!1,_loopInterval:null,_approvalDeferred:null,_isPending:!1,setup:function(){var e=this;this.listenTo(this,"change:entry_time",r(0).debounce((function(){e.sort({silent:!0})}),200)).listenTo(this,"submission:success",(function(){e._isPending=!0,e.trigger("change:approval")}))},fetch:function(e){return e.timeout=n,r(30).prototype.fetch.call(this,e)},baseUrl:function(){return this.getEndpointUrl("visuals",{},{urn:"soundcloud:sounds:"+this.resource_id})},isLooping:function(){return this._isLooping},getLoopInterval:function(){return this._loopInterval},parse:function(e){var t=e&&e.visuals;return t?(t=r(0).map(t,(function(e){return e.id=r(53).getAsAttributes(e.urn).id,e.filename=e.visual_url.split("/").pop(),e})),e.is_looping&&e.loop_interval&&(this._isLooping=!0,this._loopInterval=Math.max(r(26).MS_IN_SECOND,e.loop_interval)),t):this.toJSON()},isApproved:function(){return!(!this.length||!this.at(0).get("urn"))},isPending:function(){return this._isPending},submitForApproval:function(e){if(r(56).formData){var n=new window.FormData,i={visuals:[],user_urn:r(3).get("me").getUrn(),urn:e};return this.forEach((function(e,t){if(e&&e.has("file")){var o=e.toJSON();r(0).omit(o,"visual_url","urn","_resource_id","_resource_type"),o.entry_time=Math.floor(o.entry_time),i.visuals.push(o),n.append("visuals[upload-"+t+"]",e.get("file"),e.get("filename"))}})),n.append("visuals_data",JSON.stringify(i)),t.ajax({url:r(3).get("visualsQueueHost"),type:"POST",data:n,processData:!1,contentType:!1,dataType:"json",beforeSend:function(e){e.setRequestHeader("Authorization","OAuth "+r(16).getAuthToken())}}).done(this.trigger.bind(this,"submission:success")).fail(this.trigger.bind(this,"submission:error"))}this.trigger("submission:error")},fetchApprovalStatus:function(){var e=this,n="soundcloud:sounds:"+this.options.resource_id,i=r(3).get("me").getUrn(),o=this._approvalDeferred;return o&&"rejected"!==o.state()?o:(o=this._approvalDeferred=r(6).defer(),t.ajax(r(3).get("visualsQueueHost")+"/"+n,{data:{user_urn:i},beforeSend:function(e){e.setRequestHeader("Authorization","OAuth "+r(16).getAuthToken())}}).done((function(t){t&&t.urn&&(e._isPending=!0),o.resolve()})).fail(o.reject),o)},comparator:function(e){return e.get("entry_time")}})}).call(this,r(13))},,,,,,,,,,,,,,,function(e,t,r){e.exports=r(18).extend({submodelMap:{comment:r(83),playlist:r(43),promoted_by:r(32),track:r(17),user:r(32)},parse:function(e){return e.collection?e.collection[0]:e},createSubmodel:function(){var e,t=r(0).last(this._submodels);r(18).prototype.createSubmodel.apply(this,arguments),(e=r(0).last(this._submodels))!==t&&this.listenTo(e,"destroy",this.onSubmodelDestroy)},onSubmodelDestroy:function(){this.destroy()},getSound:function(){var e,t;switch(this.get("type")){case"track":case"track-like":case"track-repost":case"track-sharing":case"track-promoted":e=this.get("track").id,t=r(17);break;case"comment":e=this.get("comment").track.id,t=r(17);break;case"playlist":case"playlist-like":case"playlist-repost":case"playlist-sharing":case"playlist-promoted":e=this.get("playlist").id,t=r(43)}return e?t.getInstance({id:e}):null},getEquivalencyKey:function(){return this.get("uuid")},getUuid:function(){return this.get("uuid")||this.id},isPromoted:function(){var e=this.get("type");return"track-promoted"===e||"playlist-promoted"===e}},{convert:function(e,t){var n,i,o,a={};if((i=(e.get||function(e){return this[e]}).bind(e))("type")&&i("created_at")&&(i("track")||i("playlist"))&&(n={uuid:r(0).uniqueId(),type:i("type").replace(/_/g,"-"),created_at:i("created_at"),tags:"affiliated"},(o=i("track"))?n.track=o:n.playlist=i("playlist"),t))try{a=t.toJSON()}finally{n.user=a}return n},hashFn:function(){return null}})},,,,,,,function(e,t,r){var n=90*r(26).MS_IN_DAY;e.exports={pulseUpsell:{viewType:"modal",viewOptions:{Subview:r(1156),filter:"darken",width:500},shouldDisplay:function(){return r(16).isLoggedIn()&&(e=r(3).get("me"),t=new Date(e.get("created_at")),i=new Date,Number(t)+n>Number(i));var e,t,i}},likingOnboarding:{viewType:"callout",shouldDisplay:function(){return r(16).isLoggedIn()}},likeSystemPlaylistsOnboarding:{viewType:"callout",shouldDisplay:function(){return r(16).isLoggedIn()&&r(3).get("rollouts").get("system_playlist_in_library")}},monetizeTracks:{viewType:"callout",viewOptions:{title:r(1).t("Monetize all your tracks!"),body:r(1).t("Select all the tracks you want to monetize and hit this button.")},shouldDisplay:function(){return r(16).isLoggedIn()&&r(3).get("me").isIndiePartner()}},masteringOnboarding:{viewType:"callout",viewOptions:{title:r(1).tPending("New Mastering Studio!"),body:r(1).tPending("You can now master your tracks directly on SoundCloud to create a clean and cohesive feeling across all your audio.")},shouldDisplay:function(){return r(16).isLoggedIn()}},atMention:{viewType:"compact-callout",viewOptions:{body:r(1).t("Now you can mention your friends by typing @ and the start of their username")},shouldDisplay:function(){return r(16).isLoggedIn()}}}},,,,,,,function(e,t){var r="102,102,102",n="153,153,153",i="255,85,0",o="255,255,255";function a(e,t){return 1===t?"rgb("+e+")":"rgba("+e+","+t+")"}e.exports={_config:{barWidth:2,gapWidth:1,fadeInSteps:10,fixedTimeIndicator:!0,commentLines:!1,fullHighlight:!0},default:{progressGradient:[[0,"255,119,0"],[.7,"255,51,0"],[.701,i],[1,i]],loaderGradient:[[0,"0,0,0",.5],[1,"0,0,0",.5]],backgroundGradient:[[0,r],[.7,r],[.701,r,.5],[1,r,.5]],gapGradient:[[0,n,.5],[.7,n,.5],[.701,o,0],[1,o,0]],scrubberGradientBackward:[[0,r,.5],[.7,r,.5],[.701,r,0],[1,r,0]],scrubberGradientForward:[[0,i,.5],[.7,i,.5],[.701,i,0],[1,i,0]],highlightGradientPlayed:[[0,i],[.7,i],[.701,i],[1,i]],highlightGradientUnplayed:[[0,"0,0,0",.5],[1,"0,0,0",.5]],progressIndicatorBg:a("0,0,0",1),progressIndicatorColor:a("255,101,0",1),durationIndicatorBg:a("0,0,0",1),durationIndicatorColor:a(n,1),dividerColorPrevious:a("255,0,0",1),dividerColorUpcoming:a(n,1)},inverted:{progressGradient:[[0,"255,119,0"],[.7,"255,51,0"],[.701,"255,191,153"],[1,"255,191,153"]],loaderGradient:[[0,o],[1,o]],backgroundGradient:[[0,o],[.7,o],[.701,"229,229,229"],[1,"229,229,229"]],gapGradient:[[0,o,0],[.28,o,.3],[.7,o,.5],[.701,o,.125],[1,o,.125]],scrubberGradientBackward:[[0,o,.5],[.7,o,.5],[.701,o,0],[1,o,0]],scrubberGradientForward:[[0,i,.5],[.7,i,.5],[.701,i,0],[1,i,0]],highlightGradientPlayed:[[0,i],[.7,i],[.701,i],[1,i]],highlightGradientUnplayed:[[0,o],[1,o]],progressIndicatorBg:a("0,0,0",1),progressIndicatorColor:a("255,101,0",1),durationIndicatorBg:a("0,0,0",1),durationIndicatorColor:a(n,1),dividerColorPrevious:a("255,0,0",1),dividerColorUpcoming:a(n,1)}}},,,,,,,,,,function(e,t,r){e.exports=r.p+"assets/images/big-checkbox-583f9f7f.png"},,,,,,,,,,function(e,t,r){var n={getPurchaseTitle:function(e,t){var r,n=e.purchase_url,i=this._shops;if(t=t||"Buy",n&&!e.purchase_title)for(r in i)if(i.hasOwnProperty(r)&&i[r].test(n))switch(r){case"Flattr":return"Flattr";case"Promohutt":return"Subscribe on Promo Hutt";default:return t+" on "+r}return e.purchase_title||t},getStoreName:function(e){var t,r=e.purchase_url,n=this._shops;if(r)for(var i in n)if(n[i].test(r)){t=i;break}return t},_shops:{Amazon:/ama?zo?n\.(co\.(jp|uk)|com|de|to)/,Beatport:/beatport\.(com|it)/,iTunes:/apple\.com/,Juno:/juno(\.co\.uk|download\.com)/,"Digital Tunes":/digital-tunes\.net/,'zero"':/zero-inch\.com/,trackitdown:/trackitdown\.net/,whatpeopleplay:/whatpeopleplay\.com/,DJdownload:/djdownload\.com/,Minno:/soundra\.in/,Flattr:/flattr\.com/,Ganxy:/ganxy\.com/,Legitmix:/legitmix\.com|lgt\.mx/,Promohutt:/promohutt\.com/}};e.exports?e.exports=n:(window.SC=window.SC||{},window.SC.OnlineStores=n)},,function(e,t,r){var n=function(){return 1},i=(e.exports=r(125).extend(r(295).withOptions({fields:["title"]}),{model:r(43),setupSources:function(){return[new i(null,this.options)]}},{hashFn:n}),r(30).extend({model:r(43),defaults:{offset:0,limit:50},baseUrl:function(){return this.getEndpointUrl("userPlaylists",{id:r(3).get("me").id})},setup:function(){var e=r(3).get("me").id;this.listenTo(r(23),"createPlaylist:origin:user:"+e,o)}},{neverRelease:!0,hashFn:n}));function o(e){this.add(e.object,{at:0})}},function(e,t,r){e.exports=r(30).extend(r(156),{model:r(17),next_href:!1,lastFetchTime:Date.now(),getSourceInfo:function(){return this.options.sourceInfo||{}}})},,,,function(e,t,r){var n,i,o,a,s,u,l,c;n={html5:{allowed_params:["url","auto_play","color","show_artwork","show_comments","show_user","show_reposts","hide_related","show_teaser"],supported_types:["track","playlist","group","user"],root_url:"https://w.soundcloud.com/player/",template:'<iframe width="100%" height="{height}" scrolling="no" frameborder="no" allow="autoplay" src="{src}"></iframe>',height:{single:166,multi:450}},visual:{allowed_params:["url","auto_play","visual","show_comments","show_user","show_reposts","hide_related","color","show_teaser"],supported_types:["track","playlist","group","user"],root_url:"https://w.soundcloud.com/player/",template:'<iframe width="100%" height="{height}" scrolling="no" frameborder="no" allow="autoplay" src="{src}"></iframe>',height:{single:450,multi:450}},html5_mini:{allowed_params:["url","auto_play","color","inverse","show_user"],supported_types:["track"],root_url:"https://w.soundcloud.com/player/",template:'<iframe width="100%" height="20" scrolling="no" frameborder="no" allow="autoplay" src="{src}"></iframe>',height:{single:20,multi:20}}},l={track:'<span><a href="{resource_url}">{resource_title}</a> by <a href="{user_url}">{user_name}</a></span>',playlist:'<span><a href="{resource_url}">{resource_title}</a> by <a href="{user_url}">{user_name}</a></span>',user:'<span>Latest sounds by <a href="{resource_url}">{resource_title}</a></span>',group:'<span><a href="{resource_url}">{resource_title}</a></span>'},i=function(e){return[].slice.call(arguments,1).forEach((function(t){if(t)for(var r in t)e[r]=t[r]})),e},u={render:function(e,t){return t.replace(/\{([^\{\}]*)\}/g,(function(t,r){var n=e[r];return"string"==typeof n||"number"==typeof n?n:t}))},html:function(e,t){var r=n[t.type].template,i=t.text&&l[e.resource_type]||"";return this.render(e,r)+this.render(e,i)}},a=function(e,t){var r,a,l=o(e);return(t=i({type:"html5",text:!1},t)).params=i({},t.params),-1!==(a=n[t.type]).supported_types.indexOf(e.kind)&&("visual"===t.type&&(t.params.visual=!0),r={user_name:e.user?e.user.username:null,user_url:e.user?e.user.permalink_url.replace(/^http:/,"https:"):null,resource_title:e.title||e.name||e.username,resource_url:e.permalink_url.replace(/^http:/,"https:"),resource_type:e.kind,api_url:l,height:s(e,t,a),params:t.params,src:[a.root_url,"?",c(i({url:l},t.params),t.type)].join("")},u.html(r,t))},o=function(e){var t=e.secret_uri||e.uri;return"public"===e.sharing&&(t=t.replace(/\?secret_token=([^&]*)/,"")),t.replace(/^http:/,"https:")},c=function(e,t){var r,i,o,a,s=[];if(e)for(r in e)if(e.hasOwnProperty(r)&&-1!==n[t].allowed_params.indexOf(r)&&null!=(a=e[r]))if("object"==typeof a)for(o=a.length,i=0;i<o;++i)s.push(encodeURIComponent(r)+"="+encodeURIComponent(a[i]).replace(/%2F/g,"/"));else s.push(encodeURIComponent(r)+"="+encodeURIComponent(a).replace(/%2F/g,"/"));return s.join("&")},s=function(e,t,r){return t.height?t.height:"track"===e.kind?r.height.single:r.height.multi},e.exports?e.exports=a:(window.SC=window.SC||{},window.SC.getEmbedCode=a)},,,,,,function(e,t,r){e.exports=r(30).extend({model:r(17),setup:function(){r(16).isLoggedIn()||this.setToFullyPopulated()},baseUrl:function(){return this.getEndpointUrl("shortcutsTrackLikes")}},{hashFn:function(){return r(3).get("me").get("id")}})},,function(e,t,r){var n=["amex","discover","mastercard","visa","other","paypal","google-play","apple"];e.exports=r(18).extend({resource_type:"latest-consumer-subscription",baseUrl:function(){return this.getEndpointUrl("paymentsConsumerSubscriptionsLatest")},parse:function(e){return e.expires_at&&(e.expires_at=new Date(e.expires_at)),e},isEligible:function(){return!!this.get("is_eligible")},isFree:function(){return"free"===this.getPlan()},isRecurring:function(){return!!this.get("recurring")},isHighTier:function(){return"high"===this.getTier()},isMidTier:function(){return"mid"===this.getTier()},hasPaidPaymentKind:function(){return r(0).contains(n,this.getPaymentKind())},getPaymentKind:function(){return this.get("last_payment")&&this.get("last_payment").method.kind},getPlan:function(){return this.get("package")&&this.get("package").plan},getExpiryDate:function(){return this.get("expires_at")},getTitle:function(){return this.isFree()?r(1).t("Free"):this.isHighTier()?r(1).t("SoundCloud Go+"):r(1).t("SoundCloud Go")}})},function(e,t,r){var n=["amex","discover","mastercard","visa","other","paypal"];e.exports=r(18).extend({resource_type:"latest-creator-subscription",baseUrl:function(){return this.getEndpointUrl("paymentsSubscriptionsLatest")},parse:function(e){return e.expiry_date&&(e.expiry_date=new Date(e.expiry_date)),e},getPlan:function(){return this.get("package")&&this.get("package").plan},getPaymentKind:function(){return this.get("last_payment")&&this.get("last_payment").method.kind},isFree:function(){return"free"===this.getPlan()},isPro:function(){return"pro"===this.getPlan()},isProUnlimited:function(){return"pro-unlimited"===this.getPlan()},isRecurring:function(){return!!this.get("recurring")},isRenewable:function(){return!this.isFree()&&(this.isRecurring()||this.isRefundable())},hasPaidPaymentKind:function(){return r(0).contains(n,this.getPaymentKind())},getTitle:function(){return this.isPro()?r(1).t("SoundCloud Pro"):this.isProUnlimited()?r(1).t("SoundCloud Pro Unlimited"):r(1).t("Free")}})},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICAgIDxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICAgICAgPHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJub256ZXJvIiBkPSJNMTkgNi40MUwxNy41OSA1IDEyIDEwLjU5IDYuNDEgNSA1IDYuNDEgMTAuNTkgMTIgNSAxNy41OSA2LjQxIDE5IDEyIDEzLjQxIDE3LjU5IDE5IDE5IDE3LjU5IDEzLjQxIDEyeiIvPgogICAgPC9nPgo8L3N2Zz4K"},function(e,t,r){var n;e.exports=r(18).extend(((n={resource_type:"audio_ad",submodelMap:{sound:r(17)}})[r(50).AudioAdVisualPlacements.companion]=null,n[r(50).AudioAdVisualPlacements.leaveBehind]=null,n.setup=function(){this.options.defaultSkipOffset=this.options.defaultSkipOffset||0,this[r(50).AudioAdVisualPlacements.companion]=this.createAdVisual(r(50).AudioAdVisualPlacements.companion),this[r(50).AudioAdVisualPlacements.leaveBehind]=this.createAdVisual(r(50).AudioAdVisualPlacements.leaveBehind)},n.createSubmodel=function(e,t){e===r(17)?this.createSoundSubmodel():r(18).prototype.createSubmodel.apply(this,arguments)},n.createSoundSubmodel=function(){var e=this.get("sound"),t=this.get("monetized_sound_urn");this.sound=new(r(17))(r(0).assign(e,{resource_id:{ad_target_id:this.resource_id}}),{checkpointInterval:3e3,ad_attributes:{audio_ad_urn:e.ad_urn,monetized_sound_urn:t},soundContext:{ad_target_id:this.resource_id}})},n.createAdVisual=function(e){var t=r(50).getPreferredAdVisualAttributes(this,e),n=t.attributes,i=t.format;return n?new(r(1672))(r(0).assign({},n,{ad_visual_format:i,ad_visual_placement:e})):null},n.getUrn=function(){var e=this.get("audio");return e&&e.ad_urn},n.getSound=function(){return this.sound},n.getUpcomingSoundUrn=function(){return this.get("monetized_sound_urn")},n.hasCompanion=function(){return!!this[r(50).AudioAdVisualPlacements.companion]},n.hasLeaveBehind=function(){return!!this[r(50).AudioAdVisualPlacements.leaveBehind]},n.getCompanion=function(){return this[r(50).AudioAdVisualPlacements.companion]},n.getLeaveBehind=function(){return this[r(50).AudioAdVisualPlacements.leaveBehind]},n.getRequiredListenPeriod=function(){if(!i.call(this))return 1/0;var e=this.get("audio");return r(0).has(e,"skip_offset")?e.skip_offset*r(26).MS_IN_SECOND:this.options.defaultSkipOffset},n.getTracking=function(){var e=this.get("audio");return e&&e.tracking},n.getProgressTrackers=function(){var e=this.get("audio");return e&&e.progress_tracking||[]},n.getErrorTrackers=function(){var e=this.get("audio");return e&&e.error_trackers||[]},n.isError=function(){return this.get("is_error")},n.isEmpty=function(){var e=this.get("audio");return this.isError()&&e&&e.isEmpty},n));function i(){var e=this.get("audio");return!!r(0).has(e,"skippable")&&!!e.skippable}},,,,,,,,,function(e,t,r){var n=(new Date).getFullYear();e.exports=r(51).extend({fields:{year:{defaultValue:null,datasource:r(0).range(n-13,n-100,-1).map((function(e){return{value:e,label:e}}))},month:{defaultValue:null,datasource:r(719).map((function(e,t){return{value:t+1,label:e}}))}},buttons:{save:{label:r(1).t("Verify age"),action:"save"}},actions:{default:"save",save:function(){var e=this,t=r(6).defer();return this.validate().done((function(r){r?e.saveOwnAge().done(t.resolve).fail(t.reject):t.reject()})).fail(t.reject),t}},constraints:{year:[[r(41),{message:r(1).t("Select a year.")}]],month:[[r(41),{message:r(1).t("Select a month.")}]]},saveOwnAge:function(){return r(29).callEndpoint("userUpdate",{urn:r(3).get("me").getUrn()},null,null,{date_of_birth:this.pick("year","month")}).then((function(e){return e.body}))}},{hashFn:function(){return 1}})},function(e,t,r){var n=r(1794),i=r(1795),o=r(1796),a=/^\d+$/,s=Object.prototype.hasOwnProperty,u=n(Object,"keys"),l=9007199254740991;var c,d=(c="length",function(e){return null==e?void 0:e[c]});function f(e,t){return e="number"==typeof e||a.test(e)?+e:-1,t=null==t?l:t,e>-1&&e%1==0&&e<t}function p(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=l}function h(e){for(var t=function(e){if(null==e)return[];g(e)||(e=Object(e));var t=e.length;t=t&&p(t)&&(o(e)||i(e))&&t||0;var r=e.constructor,n=-1,a="function"==typeof r&&r.prototype===e,u=Array(t),l=t>0;for(;++n<t;)u[n]=n+"";for(var c in e)l&&f(c,t)||"constructor"==c&&(a||!s.call(e,c))||u.push(c);return u}(e),r=t.length,n=r&&e.length,a=!!n&&p(n)&&(o(e)||i(e)),u=-1,l=[];++u<r;){var c=t[u];(a&&f(c,n)||s.call(e,c))&&l.push(c)}return l}function g(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}var y=u?function(e){var t,r=null==e?void 0:e.constructor;return"function"==typeof r&&r.prototype===e||"function"!=typeof e&&(null!=(t=e)&&p(d(t)))?h(e):g(e)?u(e):[]}:h;e.exports=y},,function(e,t,r){"use strict";(function(t){var n=function(e){try{if("localStorage"in t&&t.localStorage)return t.localStorage}catch(e){}return e}(r(1804)),i=r(1805);function o(e,t){return 1===arguments.length?a(e):s(e,t)}function a(e){return JSON.parse(n.getItem(e))}function s(e,t){try{return n.setItem(e,JSON.stringify(t)),!0}catch(e){return!1}}o.set=s,o.get=a,o.remove=function(e){return n.removeItem(e)},o.clear=function(){return n.clear()},o.on=i.on,o.off=i.off,e.exports=o}).call(this,r(149))},,,,,,,,,function(e,t,r){var n={buttonText:r(1).t("I need help"),buttonLink:"https://help.soundcloud.com"},i={buttonText:r(1).t("Get latest status"),buttonLink:"http://status.soundcloud.com"};e.exports={UNKNOWN:r(0).assign({title:r(1).t("Something doesnt sound right."),message:r(1).t("A report has been sent to our tech team,<br> and theyre looking into the problem.<br>Please check back in a bit.")},i),PAGE_NOT_FOUND:r(0).assign({title:r(1).t("We cant find that page.")},n),SOUND_NOT_FOUND:r(0).assign({title:r(1).t("We cant find that track."),message:r(1).t("Did you try to access a private track while not being signed in?<br>Maybe the track has been removed.")},n),PLAYLIST_NOT_FOUND:r(0).assign({title:r(1).t("We cant find that playlist."),message:r(1).t("Did you try to access a private playlist while not being signed in?<br>Maybe the playlist has been removed.")},n),OFFPLATFORM_PRODUCT_NOT_FOUND:r(0).assign({title:r(1).t("We cant find that release.")},n),STATION_NOT_FOUND:r(0).assign({title:r(1).t("We cant find that station.")},n),USER_NOT_FOUND:r(0).assign({title:r(1).t("We cant find that user.")},n),USER_INFO_NOT_LOADED:r(0).assign({title:r(1).t("Were unable to load your profile information at the moment.")},n)}},function(e,t,r){var n=r(204).Explicit.EXPLICIT,i=r(204).Explicit.NOT_EXPLICIT,o=function(e){return"yes"===e},a=function(e){return e?"yes":"no"},s={all:{getFormFields:function(){return r(0).values(r(0).omit(s,"all")).reduce((function(e,t){return r(0).assign(e,t.getFormFields())}),{})}},metadata:{getFormFields:function(){return{artwork_url:{defaultValue:null,toFormValue:function(e){return e.get("artwork_url")||null}},title:{defaultValue:"",toFormValue:function(e){return e.get("title")||""},toModelValue:function(e){return e.get("title")}},label:{defaultValue:"",toFormValue:function(e){return e.get("label")||""},toModelValue:function(e){return o(e.get("hasLabel"))?e.get("label"):""}},genre:{defaultValue:null,datasource:function(){return r(141).genres},toFormValue:function(e){return e.get("genre")||null},toModelValue:function(e){return e.get("genre")||null}},hasLabel:b({toFormValue:function(e){return a(e.get("label"))}}),hasBeenReleased:b({toFormValue:function(e){var t=e.get("barcode")||e.get("generated_barcode")||null;return a(e.get("release_date")||t)}}),barcode:{defaultValue:"",toFormValue:function(e){return e.get("barcode")||e.get("generated_barcode")||null},toModelValue:function(e){var t=e.get("hasBeenReleased");return o(t)&&!e.get("hasGeneratedBarcode")&&e.get("barcode")||null}},hasGeneratedBarcode:{defaultValue:!1,toFormValue:function(e){return null!=e.get("generated_barcode")}},releaseDate:{defaultValue:null,toFormValue:function(e){return _(e.get("release_date")||"")},toModelValue:function(e){return{release_date:o(e.get("hasBeenReleased"))?v(e.get("releaseDate")||""):null}}},artists:{defaultValue:function(){return[]},toFormValue:function(e){return e.get("artists")||[]},toModelValue:function(e){return e.get("artists",[]).filter((function(e){return Boolean(e.name.trim())})).map((function(e){return r(0).pick(e,"name","role")}))}},isExplicitContent:b({defaultValue:null,toFormValue:function(e){return null===e.get("explicit")?null:a(e.get("explicit")===n)},toModelValue:function(e){var t=e.get("isExplicitContent");return{explicit:null===t?null:o(t)?n:i}}}),hasReleaseVersion:b({toFormValue:function(e){return a(e.get("product_version"))}}),productVersion:{defaultValue:"",toFormValue:function(e){return e.get("product_version")},toModelValue:function(e){var t=e.get("hasReleaseVersion");return{product_version:o(t)?e.get("productVersion"):""}}}}}},deliveryDestinations:{getFormFields:function(){return{stores:{defaultValue:function(){return[]},datasource:function(){return r(141).getAllStores()},toFormValue:function(e){return e.get("delivery_destinations")||[]},toModelValue:function(e){return{delivery_destinations:e.get("stores")||[]}}}}}},confirmation:{getFormFields:function(){return{productDistributeCheckbox_correctlyLabelTracks:{defaultValue:!1,toFormValue:function(e){return!e.isDraft()}},productDistributeCheckbox_ownRights:{defaultValue:!1,toFormValue:function(e){return!e.isDraft()}},productDistributeCheckbox_approvedNames:{defaultValue:!1,toFormValue:function(e){return!e.isDraft()}},productDistributeCheckbox_artworkMeetsCriteria:{defaultValue:!1,toFormValue:function(e){return!e.isDraft()}}}}},schedule:{getFormFields:function(){return{consumerReleaseDate:{defaultValue:null,toFormValue:function(e){return _(e.get("consumer_release_date")||"")||null},toModelValue:function(e){var t=e.get("consumerReleaseDate")||"";return{consumer_release_date:e.get("schedulingType")&&v(t)||null}}},schedulingVisible:{defaultValue:!1,toFormValue:function(e){var t=e.get("consumer_release_date")||"";return Boolean(t)}},schedulingType:{defaultValue:"",datasource:function(){return[{value:"",label:r(1).t("As soon as possible"),sublabel:r(1).t("Estimated live date: [[date]]",{date:r(141).getEstimatedLiveDate()})},{value:"scheduled",label:r(1).t("Schedule for a specific date"),sublabel:r(1).t("2 weeks from now or later"),disabled:!r(141).canScheduleProduct()}]},toFormValue:function(e){return e.get("consumer_release_date")||""?"scheduled":""}}}}}};function u(e){var t=e.form,n=e.model,i=e.sectionName,o=e.silent,a=void 0!==o&&o,s=e.skipDisabled,u=void 0!==s&&s,l=r(6).defer(),f=u?c(t,d(i)):d(i);return t.syncModel(f),n.save().then((function(){t.markFieldsClean(f),a||t.trigger("save:"+i+":success"),l.resolve()}),(function(e){a||t.trigger("save:"+i+":error",e),l.reject(e)})),l}function l(e){var t=e.form,r=e.sectionName,n=e.silent,i=void 0!==n&&n,o=e.skipDisabled,a=void 0!==o&&o?c(t,d(r)):d(r);t.syncForm(a),t.markFieldsClean(d(r)),i||t.trigger("cancel:"+r)}function c(e,t){return r(0).filter(t,(function(t){return!e.getFieldMetadata(t).disabled}))}function d(e){return r(0).keys(s[e].getFormFields())}e.exports=r(51).extend(r(270),r(545).withOptions({getFormFieldFromErrorField:function(e){switch(e){case"title":return"title";case"genre":return"genre";case"artwork":return"artwork_url";case"primary artist":case"featured artist":return"artists";case"explicit":return"isExplicitContent";case"version":case"product and track version":return"productVersion";case"label":return"label";case"barcode":return"barcode";case"original release date":return"releaseDate";case"artwork_and_title":return"title";default:0}},translateMessages:!0,translationContext:"OPD"}),r(113).withOptions({read:"artwork_url"}),r(186).withOptions({action:{cancel:[],cancelMetadata:d("metadata"),cancelDeliveryDestinations:d("deliveryDestinations"),cancelScheduling:d("schedule")}}),{resource_type:"off-platform-product-form",fields:s.all.getFormFields(),constraints:{barcode:[r(1021)]},saveSection:u,buttons:{save:{label:r(1).t("Finish later"),action:"saveAndExit"},cancel:{label:r(1).t("Cancel"),action:"cancel"},saveMetadata:{label:r(1).t("Save"),action:"saveMetadata"},cancelMetadata:{label:r(1).t("Cancel"),action:"cancelMetadata"},saveDeliveryDestinations:{label:r(1).t("Save"),action:"saveDeliveryDestinations"},cancelDeliveryDestinations:{label:r(1).t("Cancel"),action:"cancelDeliveryDestinations"},distribute:{label:r(1).t("Distribute"),action:"distribute"},distributeWithSchedule:{label:r(1).t("Schedule to distribute"),action:"distribute"},showScheduling:{label:r(1).t("Schedule for later"),action:"showScheduling"},cancelScheduling:{label:r(1).t("Cancel scheduling"),action:"cancelScheduling"}},actions:{default:"save",save:function(e){var t=this;return void 0===e&&(e=!1),this.performAction("saveArtwork").then((function(){return u({form:t,model:t.productModel,sectionName:"all",silent:e})}))},saveAndExit:function(){return this.performAction("save").then((function(){r(3).get("router").navigateToRoute("offPlatformProduct",null,{trigger:!0})}))},saveArtwork:function(){var e=this,t=this.productModel,n=this.getImageFileInfo(),i=n.file,o=n.source;return this.hasNewImage()&&i&&o?(t.setImageFile(i,o),t.on("imageTranscodingDone",(function(t){var r=t.artwork_url;e.unsetImageFile({force:!0}),e.set({artwork_url:r})})),t.uploadImage()):r(6).resolve(!1)},saveMetadata:function(e){var t=this;return void 0===e&&(e=!1),this.performAction("saveArtwork").then((function(){return u({form:t,model:t.productModel,sectionName:"metadata",silent:e,skipDisabled:!0})}))},saveDeliveryDestinations:function(e){return void 0===e&&(e=!1),u({form:this,model:this.productModel,sectionName:"deliveryDestinations",silent:e})},cancel:function(e){void 0===e&&(e=!1),this.resetFormToModelState(e)},cancelMetadata:function(e){void 0===e&&(e=!1),this.hasNewImage()&&this.unsetImageFile({force:!0}),l({form:this,model:this.productModel,sectionName:"metadata",silent:e,skipDisabled:!0}),this.setFieldDisabled("barcode",this.productModel.isLocked())},cancelConfirmation:function(e){void 0===e&&(e=!1),l({form:this,model:this.productModel,sectionName:"confirmation",silent:e})},cancelDeliveryDestinations:function(e){void 0===e&&(e=!1),l({form:this,model:this.productModel,sectionName:"deliveryDestinations",silent:e})},cancelScheduling:function(e){void 0===e&&(e=!1),l({form:this,model:this.productModel,sectionName:"schedule",silent:e})},distribute:function(){var e=this;return this.performAction("save",!0).then((function(){var t=e.productModel;if(e.syncModel(),t.hasProductValidationErrors()?e.trigger("saved:withProductErrors"):t.hasTrackValidationErrors()&&e.trigger("saved:withOnlyTrackErrors"),!t.hasErrorsPreventingDistribution())return t.distributeProduct().then((function(){t.get("consumer_release_date")?r(11).trackV1Click({click_name:"release::schedule"}):r(11).trackV1Click({click_name:"release::distribute"}),r(8).trigger("off-platform-product:distributed",t),r(3).get("router").navigateToRoute("offPlatformProduct",null,{trigger:!0})}))}))},showScheduling:function(){this.set("schedulingVisible",!0),this.markFieldsDirty("schedulingVisible")}},states:{titleLocked:function(e){var t=this.productModel.getTracksCollection();if(this.setFieldDisabled("title",e),e){var n=t.first().resource_id;this._track=new(r(426))(null,{resource_id:n}),this.syncTitleToTrack(),this.listenTo(this._track,"change:title",this.syncTitleToTrack)}else this.stopListening(this._track,"change:title",this.syncTitleToTrack),this._track.release(),this._track=null}},setup:function(e,t){var n=this;this.productModel=new(r(204))({urn:e.urn||t.resource_id}),this.addSubmodel(this.productModel),this.productStatusModel=new(r(417)),this.addSubmodel(this.productStatusModel),this.listenTo(this.productModel,"tracksUpdated",(function(){return n.performAction("save")})),this.productStatusModel.attrExists("distributed_product_count")||this.productStatusModel.fetch().then((function(){return h.call(n)})),this.listenTo(this,d("confirmation").map((function(e){return"change:"+e})).join(" "),h),this.listenTo(this.productModel,"change",p),this.on("imageDataChanged",(function(e){e.file&&n.markFieldsDirty("artwork_url")})),this.resetFormToModelState(),f.call(this),h.call(this),this.deriveValidityFromModel(this.productModel),this.syncTitleState(),this.listenTo(this.productModel.getTracksCollection(),"add remove",this.syncTitleState)},isTitleLocked:function(){return this.getState("titleLocked")},getModel:function(){return this.productModel},syncTitleState:function(){var e=this.productModel.getTracksCollection();this.toggleState("titleLocked",1===e.length)},syncTitleToTrack:function(){this.isTitleLocked()&&this.set("title",this._track.get("title"))},resetFormToModelState:function(e){void 0===e&&(e=!0),this.hasNewImage()&&this.unsetImageFile({force:!0}),l({form:this,model:this.productModel,sectionName:"all",silent:e}),this.setFieldDisabled("barcode",this.productModel.isLocked())}});function f(){var e=this.productModel.isDraft()?r(1).t("Save"):r(1).t("Save and send updates"),t=this.productModel.isDraft()?r(1).t("Finish later"):r(1).t("Save and send updates");this.setButtonConfig("save",{label:t}),this.setButtonConfig("saveMetadata",{label:e}),this.setButtonConfig("saveDeliveryDestinations",{label:e})}function p(){if(!this.isDirty()){var e=c(this,d("all"));this.syncForm(e)}this.deriveValidityFromModel(this.productModel),f.call(this)}function h(){var e=y.call(this),t=m.call(this);this.setActionState("distribute",g(e)),this.setActionState("showScheduling",g(t))}function g(e){return e?"enabled":"disabled"}function y(){return r(141).canDistributeProduct(this.productStatusModel.getDistributedProductsCount())&&m.call(this)}function m(){var e=this;return d("confirmation").every((function(t){return e.get(t)}))}function _(e){return!!e&&r(1).dateTimeHelper.fromString(e)||null}function v(e){return e?e.getFullYear()+"-"+r(435).zeroPad(e.getMonth()+1,2)+"-"+r(435).zeroPad(e.getDate(),2):null}function b(e){return r(0).assign({defaultValue:"no",datasource:function(){return[{value:"yes",label:r(1).t("Yes")},{value:"no",label:r(1).t("No")}]}},e)}},,,function(e,t,r){function n(e,t){var r=e.previousAttributes().username;/^user\d+$/.test(r)&&this.set("permalink",t.replace(/^[_-]/,"").replace(/[_-]$/,"").replace(/([_-]){2,}/g,"$1").replace(/[^a-z0-9_-]/g,""))}function i(){var e=this.getAttributesFromModel();this.set(e),this.unsetImageFile({force:!0}),this.markFieldsClean(),this.resetAllFieldValidations()}e.exports=r(51).extend(r(113).withOptions({read:"avatar_url"}),r(135).withOptions({attr:"username"}),r(186),{resource_type:"profile-settings",_meUser:null,_webProfileForms:null,_webProfilesDisabled:!1,fields:{username:{defaultValue:""},permalink:{defaultValue:""},description:{defaultValue:""},avatar_url:{defaultValue:null},first_name:{defaultValue:""},last_name:{defaultValue:""},city:{defaultValue:""},country_code:{defaultValue:""}},constraints:{username:[[r(41),{message:r(1).t("Enter your display name. You can change it later.")}],[r(68),{maxLength:50,message:r(1).t("Enter a display name that is up to [[maxLength]] characters.")}]],permalink:[[r(41),{message:r(1).t("Enter a profile URL.")}],[r(1025),{getResource:function(){return r(3).get("me")}}]],description:[[r(68),{maxLength:4e3,message:r(1).t("Enter a description that is up to [[maxLength]] characters.")}]],first_name:[[r(68),{maxLength:35,message:r(1).t("Enter a name that is up to [[maxLength]] characters.")}]],last_name:[[r(68),{maxLength:35,message:r(1).t("Enter a name that is up to [[maxLength]] characters.")}]],city:[[r(68),{maxLength:35,message:r(1).t("Enter a city that is up to [[maxLength]] characters.")}]]},actions:{default:"save",save:function(){var e=this,t=r(6).defer();return this.validate().done((function(r){r?e.saveEdits().done((function(){e.trigger("saved"),t.resolve(),e.markFieldsClean()})).fail(t.reject):t.reject()})),t},cancel:function(){this.cancelEdits()}},buttons:{save:{label:r(1).t("Save changes"),pendingLabel:r(1).t("Saving"),action:"save"},cancel:{label:r(1).t("Cancel"),action:"cancel"}},setFieldDisabled:function(e,t){"web-profiles"===e?this._webProfilesDisabled=!!t:r(51).prototype.setFieldDisabled.call(this,e,!!t)},setup:function(){this._meUser=r(3).get("me"),this._webProfileForms=new(r(684))(null,{userId:this._meUser.id}),this.listenTo(this._webProfileForms,"form:dirty",this.enableAction).listenTo(this._webProfileForms,"form:clean",this.disableAction).listenTo(this,"imageDataChanged",this.markFieldsDirty.bind(this,"avatar_url")),i.call(this),this.listenTo(this,"change:username",n)},getMeUser:function(){return this._meUser},getWebProfileForms:function(){return this._webProfileForms},cancelEdits:function(){this.unsetImageFile(),i.call(this),this.trigger("canceled"),this.getWebProfileForms().fetch()},isDirty:function(){var e=r(51).prototype.isDirty.apply(this,arguments);return e||this.getWebProfileForms().some((function(e){return e.isDirty()}),this)},markFieldsClean:function(){r(51).prototype.markFieldsClean.apply(this,arguments),this.getWebProfileForms().invoke("markFieldsClean")},validate:function(){return r(6).allTruthy([r(51).prototype.validate.apply(this,arguments),this._webProfilesDisabled?r(6).value(!0):this.getWebProfileForms().validate()])},saveEdits:function(){var e=this,t=this.getMeUser(),n=this.getWebProfileForms(),i=this.getAttributesToBeSaved(),o=[],a=r(0).clone(t.attributes);t.set(i),this._webProfilesDisabled||o.push(n.saveEdits()),o.push(t.save(i));var s=this.getImageFileInfo();return s.file&&(t.setImageFile(s.file,s.source),t.once("imageTranscodingDone",(function(t){e.unsetImageFile({silent:!0}),e.set("avatar_url",t.avatar_url)})),o.push(t.uploadImage())),r(6).all(o).done((function(){var e=new(r(32))({id:t.get("id")});n.fetch(),e.fetch(),e.release(),r(8).trigger("profile:saved",{previousAttributes:a,attributes:i})}))},getAttributesToBeSaved:function(){return r(0).pick(this.attributes,"city","country_code","first_name","last_name","description","permalink","username")},getAttributesFromModel:function(){var e=this.getMeUser(),t=r(0).pick(e.attributes,"avatar_url","city","first_name","last_name","description","permalink","username");return t.country_code=e.getCountryCode(),t}},{hashFn:function(){return 1},onCleanup:function(e){e._webProfileForms.release()}})},,,,,,,,,,,function(e,t,r){e.exports=r(30).extend(r(253),r(254),{defaults:{urn:null},model:r(296),baseUrl:function(){var e=this.options.urn;return this.getEndpointUrl("offplatformProduct",{urn:e})},setup:function(){this.listenTo(this,"sync",this.updateTracks)},parse:function(e){this.setToFullyPopulated();var t=this.options.urn,n=function(e){return r(0).assign(e,{product_urn:t})};if(r(0).isArray(e))return e.map(n);if(r(0).isArray(e.tracks))return e.tracks.map(n);throw new Error("Could not parse off-platform track data")},getCurrentOrder:function(){return this.pluck("urn")},findByUrn:function(e){return this.findWhere({urn:e})},addTrack:function(e){var t=0===this.length,n=this.options.urn;this.add(new(r(296))({urn:e,product_urn:n})),t&&this.trigger("firstTrackAdded")},getProductTracksAttrsToBeSaved:function(){var e=this;return this.getCurrentOrder().map((function(t){return e.findByUrn(t)})).filter(Boolean).map((function(e){return e.getAttributesToBeSaved()}))},reorder:function(e){this.sort({silent:!0,comparator:function(t){return e.indexOf(t.get("urn"))}})},resetOrder:function(){return this.fetch({reset:!0})},saveOrder:function(){return this.updateTracks()},updateTracks:function(){this.trigger("tracksUpdated")}},{hashFn:function(e,t){var r=t.resource_id,n=t.urn;return r||n},MAX_PRIMARY_ARTISTS:3,MAX_FEATURED_ARTISTS:50,MAX_LYRICISTS:5})},function(e,t,r){var n={bandpage:/\bbandpage\.com/i,bandcamp:/\bbandcamp\.com/i,bandsintown:/\bbandsintown\.com/i,beatport:/\bbeatport\.com/i,berklee:/\bberkleemusic\.com/i,ccmixter:/\bccmixter\.org/i,discogs:/\bdiscogs\.com/i,facebook:/\bfacebook\.com/i,flavors:/\bflavors.me/i,flickr:/\bflickr\.com/i,foursquare:/\bfoursquare\.com/i,freesound:/\bfreesound\.org/i,gigatools:/\bgigs\.gigatools\.com/i,google_plus:/\bplus\.google\.com/i,hypem:/\bhypem\.com/i,instagram:/\binstagram\.com/i,itunes_podcast:/\bitunes\.apple\.com/i,lastfm:/\b(last\.fm|lastfm\.[a-z]*)/i,mixcloud:/\bmixcloud\.com/i,myspace:/\bmyspace\.com/i,ning:/\bning\.com/i,pinterest:/\bpinterest\.com/i,purevolume:/\bpurevolume\.com/i,residentadvisor:/\bresidentadvisor\.net\/(profile|dj)/i,residentadvisorlabel:/\bresidentadvisor\.net\/record-label/i,reverbnation:/\breverbnation\.com/i,snapchat:/\bsnapchat\.com/i,songkick:/\bsongkick\.com/i,soundcloud:/\bsoundcloud\.com/i,spotify:/\bspotify\.com/i,thedjlist:/\bthedjlist.com/i,tumblr:/\btumblr\.com/i,twitter:/\btwitter\.com/i,vimeo:/\bvimeo\.com/i,vkontakte:/\bvk\.com/i,virb:/\bvirb\.com/i,whatpeopleplay:/\bwhatpeopleplay\.com/i,wordpress:/\bwordpress\.com/i,youtube:/\byoutube\.com/i,zeroinch:/\bzero-inch\.com/i};e.exports=r(51).extend({resource_type:"web-profile-form",_webProfile:null,fields:{icon:{defaultValue:""},url:{defaultValue:""},title:{defaultValue:""}},constraints:{url:[[r(41),{message:r(1).t("Enter a web or email address.")}],[r(1026),{message:r(1).t("This URL or email is invalid."),constraints:[[r(250),{strict:!1}],[r(649)]]}]]},constraintConditions:{url:{fields:["title"],constraints:[r(41)],check:Boolean}},setup:function(e,t){this._webProfile=new(r(446))(e,t),this.addSubmodel(this._webProfile),a.call(this),this.listenTo(this,"change:url",i).listenTo(this,"change:network",o)},removeWebProfile:function(){this.trigger("form:dirty"),this.destroy()},getAttributesFromModel:function(){var e=this._webProfile.getNetworkClassName();return r(0).assign(this.getWebProfile().pick("id","title","url","network"),{icon:e})},getWebProfile:function(){return this._webProfile},isEmpty:function(){var e=this,t=function(t){return e.get(t)};return!t("url")&&!t("title")}});function i(e,t){var i=r(95).isEmail(t),o=t&&(i?t:r(19).normalize(t))||"";o!==t&&this.set("url",o),this.set("network",function(e){var t;if(!e)return"";if(r(0).any(n,(function(r,n){if(r.test(e))return t=n,!0})),r(95).isEmail(e))return"email";return t||"personal"}(o))}function o(e,t){this._webProfile.set("network",t),this.set("icon",this._webProfile.getNetworkClassName())}function a(){var e=this.getAttributesFromModel();this.set(e),this.markFieldsClean()}},,function(e,t,r){e.exports=r(51).extend(r(113).withOptions({read:"artwork_url"}),r(427),{resource_type:"multi-track-artwork",fields:{artwork_url:{defaultValue:""}},setup:function(){var e=this,t=this.unsetImageFile.bind(this,{force:!0});this.on("imageDataChanged",(function(t){t.file&&e.markFieldsDirty("artwork_url")})).on("canceled",t).on("allSaved",t)},saveSound:function(e){var t=this.getImageFileInfo(),n={sound:e,isSuccess:!1},i={sound:e,isSuccess:!0};return t.file?(e.setImageFile(t.file,t.source),e.uploadImage().then((function(){return i}),(function(){return n}))):r(6).reject(n)},getAttributesFromModels:function(){return null},getAttributesToBeSaved:function(){return{}}})},,,function(e,t,r){e.exports=r(30).extend({model:r(84),lastFetchTime:Date.now(),next_href:!1},{neverRelease:!0,hashFn:function(){return 1}})},,,,,,function(e,t,r){var n={user:{playlists:"userPlaylists",playlists_without_albums:"userPlaylistsWithoutAlbums",albums:"userAlbums"},sound:{playlists:"playlistsForTrack",playlists_without_albums:"playlistsWithoutAlbumsForTrack",albums:"albumsForTrack"}},i=(e.exports=r(125).extend({model:r(43),defaults:{resource_id:null,playlists_for:null,exclude:null,playlistType:"playlists"},setupSources:function(){var e=this.options.exclude;return e&&(this.filters=[function(t){return t.id!==e}]),[new i(null,this.options)]}},{hashFn:function(e,t){var r=i.hashFn.apply(this,arguments);return t.exclude&&(r+="_"+t.exclude),r}}),r(30).extend({model:r(43),parse:function(e){return e.collection.forEach((function(e){null===e.tracks&&delete e.tracks})),e.collection},baseUrl:function(){var e,t=this.options,r=t.playlists_for,i=t.resource_id,o=t.playlistType,a=((e={})["user"===r?"id":"trackId"]=i,e);return this.getEndpointUrl(n[r][o],a,{representation:"mini"})}},{hashFn:function(e,t){return t.playlists_for+"_"+t.resource_id+"_"+t.limit+"_"+t.offset+"_"+t.playlistType}}))},,,function(e,t,r){e.exports=r(140).extend(r(685),{defaults:{type:"sounds"},baseUrl:function(){return this.getEndpointUrl("streamUserProfile",{id:this.options.userId})},setup:function(e){r(140).prototype.setup.call(this,e),this.isMe=r(16).currentUserId()===e.userId},parse:function(e){var t=e.collection,n=void 0===t?[]:t,i=r(16).currentUserId();return n.length&&!this.isMe&&(n=n.filter((function(e){return e.user&&(delete e.user.cpp,delete e.user.default_tracks_feedable),e.track||e.playlist&&e.playlist.track_count||e.playlist&&e.playlist.user_id===i}))),n}})},,,,,,,,,,,function(e,t,r){e.exports=r.p+"assets/images/playlist-cover-bg_small-1e402003.png"},function(e,t,r){e.exports=r.p+"assets/images/playlist-cover-bg_small@2x-c437aa7f.png"},,function(e,t,r){e.exports=r(18).extend({resource_type:"email",setup:function(e,t){!t||!t.userId||e&&e.user_id||this.set({user_id:t.userId})},baseUrl:null,getEndpointForMethod:function(e){switch(e){case"create":return{name:"userEmailCreate",pathParams:{user_id:this.get("user_id")},data:this.toJSON()};case"update":return{name:"userEmailUpdate",pathParams:{id:this.get("id"),user_id:this.get("user_id")},data:this.toJSON()};case"delete":return{name:"userEmailDelete",pathParams:{id:this.get("id"),user_id:this.get("user_id")}}}}})},function(e,t,r){e.exports=r(18).extend({resource_type:"student-status",baseUrl:function(){return this.getEndpointUrl("studentStatus")},parse:function(e){return{is_student:e.student.is_student,student_until:e.student.student_until,can_verify:e.verification.can_verify,reason:e.verification.reason,can_retry_upload:e.verification.can_retry_upload}}},{neverRelease:!0,hashFn:function(e){return e.resource_id}})},,,,,,,function(e,t,r){e.exports=r(30).extend({model:r(648),url:null,defaults:{userId:null},setup:function(e){this.webProfiles=new(r(436))(null,e)},fetch:function(){var e=this;return this.webProfiles.fetch().done((function(t){e.lastFetchTime=Date.now(),e.reset(t)}))},toJSON:function(e){return this.filter((function(e){return!e.isEmpty()})).map((function(t){return t.toJSON(e)}))},validate:function(){return r(6).allTruthy(this.map((function(e){return e.validate()})))},saveEdits:function(){return r(22).sync("create",this,{url:this.webProfiles.url()})}},{hashFn:function(e,t){return t.userId}})},,,,function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAMAAAC7IEhfAAAAY1BMVEXy8vLBwcG/v7+8vLy3t7fT09O+vr7Jycnx8fHq6urf39/FxcXm5ua9vb3v7+/n5+fDw8O6urq2tra7u7vU1NTKysrHx8fw8PDr6uvHxcf08vTg4ODZ2dna2trIxsjl4+Xl5eUe1bjWAAAAjElEQVR4Ae3RRw7CMBhE4RmX9F7pcP9TYlksSITzs0NC+Q7wNg+7/1NPbTvVEBVGK6VNAUlDr4EgKempBNsqvlQQ5PRySAZ6AyR3eg+IYjoxZBmdDLKUzuHb4lnMWWXoGGXTrS1j10f0or4bw3Os5httETCXXIhmfHZRXLoGN6/cQk+OK6E/pzX8zu4JANwHFQ6JddwAAAAASUVORK5CYII="},function(e,t,r){e.exports=r(30).extend({model:r(451),attachments:null,setup:function(e){var t=e.resource_id;this.attachments=new(r(1119))(null,{conversationId:t}),this.listenTo(this,"audibleInformationUpdated",n).listenTo(r(8),"new-unread-messages",i)},baseUrl:function(){return r(201).baseUrlWithId(this.resource_id,"messages")},comparator:function(e,t){return t.sentAt()-e.sentAt()},fetchUnread:function(){this.fetch({add:!0,remove:!1,url:this.baseUrl()+"?limit=10&linked_partitioning=1"})},getAttachments:function(){return this.attachments}},{onCleanup:function(e){e.attachments.release()}});function n(e){var t=e.audibleInformation.model;t&&this.attachments.add({urn:t.getUrn(),timestamp:e.timestamp})}function i(e){var t=this;e.some((function(e){if(e===t.options.resource_id)return t.fetchUnread(),!0}))}},,,,,function(e,t,r){e.exports=r.p+"assets/images/calendar-96bbd47c.svg"},,,,,,,,,,,,function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAAKCAYAAAC5Sw6hAAAAIElEQVQoz2NYtGjRf2pghpcvX/6nBmYYfGA0jIZgGAEAWcNlmrfUrsoAAAAASUVORK5CYII="},,function(e,t,r){e.exports=r(51).extend(r(427),{resource_type:"multi-track-geoblocking",fields:{geoblocking:{defaultValue:!1},availableCountries:{defaultValue:function(){return r(38).countryCodes()}}},setup:function(){this.on("allSaved",(function(){r(11).trackV1Click({click_name:"bulk-track-edit::saved_with_geoblocking_changes"})}))},getRequiredModelAttributes:function(){return["geo_blockings"]},getAttributesFromModels:function(){return this.reduceSounds({geoblocking:function(e){return e.isGeoblocked()},availableCountries:function(e){return e.getAvailableCountries()}})},getAttributesToBeSaved:function(e){var t=this.get("availableCountries"),n={geo_blockings:t?r(38).complement(t):[]};return r(0).object(e.map((function(e){return[e.id,n]})))}})},,,function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAWCAQAAAAs/tcnAAABMUlEQVR4Ac3UJfQUARTGUaxnrBHpPeDu7u7uTg/QO/SK9q1U3KHg2i7fH4exNeSdc9/ZNL/RHfRfjdHOuOajt246b7Fh/T38WO/9OnfM7s+hx3gUh5XNWYN7D4wnTlOe6OGsv/6eQlQFmNX9WScTs4jqwD3DOr/j04gJxHyiOsCiTgITibnEdGIJURc410lgJrGYmE+sIuoCz1301BstGwxueqQLiVXEMmI9cVp7c9WIYmAqkUysIjYQa4mtRAJtJwb//kgXEdOJTcR2Yiuxi2g/wIYfgTnEBmIFsYvYS+whDhCdBFo/ApuJvcRO4hBxhDhMHCU6Cbz5EThKHCe+7BNEcXceKFxB/e7yFs0h1hP1u/OHXHiL6nfnr2nhO6jfR3r50L5cR9O+oX5+/FX8vfkElmh0Xu+KRLEAAAAASUVORK5CYII="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHMAAAAWCAQAAABZc2uEAAADSUlEQVR4Ae3VbWiVZRgH8Gtrp6aZ017UiSMy06zQLyORYpCEiSl+yMSgIEpdGgjZgl5MLDItkSIbRZwEZfQCRSUppKhpINGw0vyS+Uk0tZSM4+pMt/2CeLihneOOFPRBzvX/sHNf983N9XueBxb/X1WrWtWqVrVc7XmbfeI5N4uU2dpts9701LlDXltarZN3gxAelfdQ1r1WXrsQJsv/nbUWu1FI0WSFzd5xv6tEumGW6JfxVtmiw+NyFSZ4S15euzbThJCSfhjtGIA/LBRCrQ0AeC07+TB2iizHMUUIm1B0qxDGoit7TACcs05kudspAF+rTzcs74ec5yyATqMGnKAIgN3GlGOuw2GtFtmh25x0XZ92j/gA3FuRSafLSpg/e9Jqe0CrEIY6iW8sttIZvVqVZ45UwB6LvKgLGysy11iuQze2l2N+ig4h1JiY9Q7jBZFG2Ksyk2dLmPuzs6/glBCewYnsHTYbL5RnrsZ+demmPk0VmBOEcLteTCtlLgedVhqXdYZAevVTUajI/BzdblOe2QAahY/TQ00py9yKZWl1FDMuihm+wNJSZn32qmG3ccIk9KjJ9keB6yowl9mEfcaVZYbTaBH2Y6HKzB9xX1p9hSUXyXwb6/sxs4zQZqdefCeMAQ3Z3gSclxPmZ/sh1ClgUhqyzXDH8GZZZk4Pxgo78arKzL1YkFYHMK/8BCXMj/B0OWZd9ncOGK5GF+Zm3cdwSAjN6DNCCC1giMQUZqK3LPNBnFGTPev0KRtyQeZGfJj+F3Rj8gATJKYRfsf0UuZ8x8w1SE4relwhvIsjpqjV4iRWCOFKv+F1l5tsBw6IfzDDBpCYDhrmFk8o4GUh3AmeMtj1djlqRrphjZFZrhHuQa8l6o22Dd+rHWCCIpo1me0gflDfn5nzJehRBO8LodEpcB78ZHB2einoBswsYTY4gsQEwPb0zbwHesBpN6UbAPhWCJ+Rzp1z14ATFAHwq4lCYiaotQ7pQ5c3DM26Y2zxJwo6DBMpCxwHh80SJcwwvYR53C4PqEmna61wAmdtNVVckFnnJb+gR6fmChMUQcE+qzSIEmbKcI3SKFnqNKkVJRmZ4P8+jXJC5Yw26L9MEC6lVJmXTqrMvwBTThqYRlj40wAAAABJRU5ErkJggg=="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAAAsCAQAAAAwC3WkAAACUklEQVR4Ae2YA4wdURSGv+fattu4MWrbtu24bqOacWrbjNHYrm3bOF3vSXrzOpM7d3c22e8k31P03//ME0WdCM6QsvSlNS1pQGV+8JxnPOEKlyM3CD9SVjbJFzFzV1ZKJcKMVJBrkp6PslaqEFZku3jhmXQjPEhjuZkxjQHkgXjjj2yQBOFAFolksAhA/HBM4lgQJShKK/thMPskFoYASWV/DGeTTQCLXdeQUPbLHOlWcA0Mo0nGDAs0AOyQigUVoEyuVRt2KwRQm+UFFSClrNqwbAAmS0UnAdKedFlluwagNDPdNaBPOmW0fQMw3V2AcspJZRXAugGoIy1cBSihnFLWz9s3AB3wTdx3AHcNwABJ0I3m1EB4wm0ucCbyKIgAJZXdXQPQJWNyaZYxPdgiu1geeeJlhdS7jdUKBUuMyVyTvh4DMJwmGTPcwQrZUJZTMtdbgEq5Vm2oABYrZEeUTdLXS4ByyrqNkspJZWMzjiLsl1rGF/RJU1a5mrJ9A/aUZaU52QiaZMyIfxqoqFyI14BigtQxBagNkGHdgApQyO9Cmhj9TAGqA2QYc4AAPwfs6ZU+QNhXCBqbAtQAyHD4Vwhqhb8By2+johxR/q38y2x+KrviiSnAc4AcfwzIrrhtCvAMIMvhD3Dhfw18CMhu+M2Zor1CuyKPTAEeA2Q47A18ZDmYAhziVsYcCnkDfxgdeYKBeOQ2TQFC3cAfFkTOevkcCKqBpwEvz4DIVvAS4E1A3ktQ/GY7LSJn/f91bnc/KavlidjwUa7LRZkldSimGLf8BYloKYNdaWi1AAAAAElFTkSuQmCC"},function(e,t,r){e.exports=r.p+"assets/images/wordmark@2x-8fdb346f.png"},,function(e,t,r){e.exports=r(140).extend({model:r(676),defaults:{type:"emails"},setup:function(e){r(140).prototype.setup.call(this,e),this.on("change:primary",n)},baseUrl:function(){return this.getEndpointUrl("userEmails",{id:this.options.userId})},comparator:function(e){return!e.get("primary")},parse:function(e){return r(0).reject(e.collection,(function(e){return r(607).isSoundCloudMail(e.address)}))}});function n(e,t){t&&r(0).chain(this.where({primary:!0})).without(e).invoke("set",{primary:!1})}},,,function(e,t,r){e.exports=[r(1).t("January"),r(1).t("February"),r(1).t("March"),r(1).t("April"),r(1).t("May"),r(1).t("June"),r(1).t("July"),r(1).t("August"),r(1).t("September"),r(1).t("October"),r(1).t("November"),r(1).t("December")]},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,r){r(772),r(826),e.exports=r(836)},function(e,t,r){"use strict";r.r(t);r(773),r(803)},function(e,t,r){r(469),r(777),r(787),r(791),r(801),r(802);var n=r(262);e.exports=n.Promise},function(e,t,r){var n=r(72),i=r(331),o=n["__core-js_shared__"]||i("__core-js_shared__",{});e.exports=o},function(e,t,r){var n=r(72),i=r(335),o=n.WeakMap;e.exports="function"==typeof o&&/native code/.test(i(o))},function(e,t,r){"use strict";var n=r(330),i=r(472);e.exports=n?{}.toString:function(){return"[object "+i(this)+"]"}},function(e,t,r){"use strict";var n=r(778).charAt,i=r(216),o=r(473),a=i.set,s=i.getterFor("String Iterator");o(String,"String",(function(e){a(this,{type:"String Iterator",string:String(e),index:0})}),(function(){var e,t=s(this),r=t.string,i=t.index;return i>=r.length?{value:void 0,done:!0}:(e=n(r,i),t.index+=e.length,{value:e,done:!1})}))},function(e,t,r){var n=r(336),i=r(337),o=function(e){return function(t,r){var o,a,s=String(i(t)),u=n(r),l=s.length;return u<0||u>=l?e?"":void 0:(o=s.charCodeAt(u))<55296||o>56319||u+1===l||(a=s.charCodeAt(u+1))<56320||a>57343?e?s.charAt(u):o:e?s.slice(u,u+2):a-56320+(o-55296<<10)+65536}};e.exports={codeAt:o(!1),charAt:o(!0)}},function(e,t,r){var n=r(174),i=r(338),o=r(478),a=r(121);e.exports=n("Reflect","ownKeys")||function(e){var t=i.f(a(e)),r=o.f;return r?t.concat(r(e)):t}},function(e,t,r){var n=r(195),i=r(263),o=r(781),a=function(e){return function(t,r,a){var s,u=n(t),l=i(u.length),c=o(a,l);if(e&&r!=r){for(;l>c;)if((s=u[c++])!=s)return!0}else for(;l>c;c++)if((e||c in u)&&u[c]===r)return e||c||0;return!e&&-1}};e.exports={includes:a(!0),indexOf:a(!1)}},function(e,t,r){var n=r(336),i=Math.max,o=Math.min;e.exports=function(e,t){var r=n(e);return r<0?i(r+t,0):o(r,t)}},function(e,t,r){"use strict";var n=r(480).IteratorPrototype,i=r(340),o=r(215),a=r(196),s=r(217),u=function(){return this};e.exports=function(e,t,r){var l=t+" Iterator";return e.prototype=i(n,{next:o(1,r)}),a(e,l,!1,!0),s[l]=u,e}},function(e,t,r){var n=r(109);e.exports=!n((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},function(e,t,r){var n=r(150),i=r(132),o=r(121),a=r(482);e.exports=n?Object.defineProperties:function(e,t){o(e);for(var r,n=a(t),s=n.length,u=0;s>u;)i.f(e,r=n[u++],t[r]);return e}},function(e,t,r){var n=r(121),i=r(786);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,r={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(r,[]),t=r instanceof Array}catch(e){}return function(r,o){return n(r),i(o),t?e.call(r,o):r.__proto__=o,r}}():void 0)},function(e,t,r){var n=r(110);e.exports=function(e){if(!n(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype");return e}},function(e,t,r){var n=r(72),i=r(788),o=r(789),a=r(131),s=r(79),u=s("iterator"),l=s("toStringTag"),c=o.values;for(var d in i){var f=n[d],p=f&&f.prototype;if(p){if(p[u]!==c)try{a(p,u,c)}catch(e){p[u]=c}if(p[l]||a(p,l,d),i[d])for(var h in o)if(p[h]!==o[h])try{a(p,h,o[h])}catch(e){p[h]=o[h]}}}},function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(e,t,r){"use strict";var n=r(195),i=r(790),o=r(217),a=r(216),s=r(473),u=a.set,l=a.getterFor("Array Iterator");e.exports=s(Array,"Array",(function(e,t){u(this,{type:"Array Iterator",target:n(e),index:0,kind:t})}),(function(){var e=l(this),t=e.target,r=e.kind,n=e.index++;return!t||n>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==r?{value:n,done:!1}:"values"==r?{value:t[n],done:!1}:{value:[n,t[n]],done:!1}}),"values"),o.Arguments=o.Array,i("keys"),i("values"),i("entries")},function(e,t,r){var n=r(79),i=r(340),o=r(131),a=n("unscopables"),s=Array.prototype;null==s[a]&&o(s,a,i(null)),e.exports=function(e){s[a][e]=!0}},function(e,t,r){"use strict";var n,i,o,a,s=r(173),u=r(193),l=r(72),c=r(174),d=r(484),f=r(172),p=r(792),h=r(196),g=r(793),y=r(110),m=r(218),_=r(794),v=r(194),b=r(335),w=r(485),E=r(798),S=r(486),A=r(487).set,P=r(799),I=r(490),M=r(800),T=r(342),k=r(491),C=r(216),x=r(479),D=r(79),O=r(343),R=D("species"),L="Promise",N=C.get,j=C.set,F=C.getterFor(L),U=d,B=l.TypeError,z=l.document,H=l.process,G=c("fetch"),V=T.f,q=V,W="process"==v(H),Y=!!(z&&z.createEvent&&l.dispatchEvent),Z=x(L,(function(){if(!(b(U)!==String(U))){if(66===O)return!0;if(!W&&"function"!=typeof PromiseRejectionEvent)return!0}if(u&&!U.prototype.finally)return!0;if(O>=51&&/native code/.test(U))return!1;var e=U.resolve(1),t=function(e){e((function(){}),(function(){}))};return(e.constructor={})[R]=t,!(e.then((function(){}))instanceof t)})),Q=Z||!E((function(e){U.all(e).catch((function(){}))})),J=function(e){var t;return!(!y(e)||"function"!=typeof(t=e.then))&&t},K=function(e,t,r){if(!t.notified){t.notified=!0;var n=t.reactions;P((function(){for(var i=t.value,o=1==t.state,a=0;n.length>a;){var s,u,l,c=n[a++],d=o?c.ok:c.fail,f=c.resolve,p=c.reject,h=c.domain;try{d?(o||(2===t.rejection&&te(e,t),t.rejection=1),!0===d?s=i:(h&&h.enter(),s=d(i),h&&(h.exit(),l=!0)),s===c.promise?p(B("Promise-chain cycle")):(u=J(s))?u.call(s,f,p):f(s)):p(i)}catch(e){h&&!l&&h.exit(),p(e)}}t.reactions=[],t.notified=!1,r&&!t.rejection&&$(e,t)}))}},X=function(e,t,r){var n,i;Y?((n=z.createEvent("Event")).promise=t,n.reason=r,n.initEvent(e,!1,!0),l.dispatchEvent(n)):n={promise:t,reason:r},(i=l["on"+e])?i(n):"unhandledrejection"===e&&M("Unhandled promise rejection",r)},$=function(e,t){A.call(l,(function(){var r,n=t.value;if(ee(t)&&(r=k((function(){W?H.emit("unhandledRejection",n,e):X("unhandledrejection",e,n)})),t.rejection=W||ee(t)?2:1,r.error))throw r.value}))},ee=function(e){return 1!==e.rejection&&!e.parent},te=function(e,t){A.call(l,(function(){W?H.emit("rejectionHandled",e):X("rejectionhandled",e,t.value)}))},re=function(e,t,r,n){return function(i){e(t,r,i,n)}},ne=function(e,t,r,n){t.done||(t.done=!0,n&&(t=n),t.value=r,t.state=2,K(e,t,!0))},ie=function(e,t,r,n){if(!t.done){t.done=!0,n&&(t=n);try{if(e===r)throw B("Promise can't be resolved itself");var i=J(r);i?P((function(){var n={done:!1};try{i.call(r,re(ie,e,n,t),re(ne,e,n,t))}catch(r){ne(e,n,r,t)}})):(t.value=r,t.state=1,K(e,t,!1))}catch(r){ne(e,{done:!1},r,t)}}};Z&&(U=function(e){_(this,U,L),m(e),n.call(this);var t=N(this);try{e(re(ie,this,t),re(ne,this,t))}catch(e){ne(this,t,e)}},(n=function(e){j(this,{type:L,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=p(U.prototype,{then:function(e,t){var r=F(this),n=V(S(this,U));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=W?H.domain:void 0,r.parent=!0,r.reactions.push(n),0!=r.state&&K(this,r,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),i=function(){var e=new n,t=N(e);this.promise=e,this.resolve=re(ie,e,t),this.reject=re(ne,e,t)},T.f=V=function(e){return e===U||e===o?new i(e):q(e)},u||"function"!=typeof d||(a=d.prototype.then,f(d.prototype,"then",(function(e,t){var r=this;return new U((function(e,t){a.call(r,e,t)})).then(e,t)}),{unsafe:!0}),"function"==typeof G&&s({global:!0,enumerable:!0,forced:!0},{fetch:function(e){return I(U,G.apply(l,arguments))}}))),s({global:!0,wrap:!0,forced:Z},{Promise:U}),h(U,L,!1,!0),g(L),o=c(L),s({target:L,stat:!0,forced:Z},{reject:function(e){var t=V(this);return t.reject.call(void 0,e),t.promise}}),s({target:L,stat:!0,forced:u||Z},{resolve:function(e){return I(u&&this===o?U:this,e)}}),s({target:L,stat:!0,forced:Q},{all:function(e){var t=this,r=V(t),n=r.resolve,i=r.reject,o=k((function(){var r=m(t.resolve),o=[],a=0,s=1;w(e,(function(e){var u=a++,l=!1;o.push(void 0),s++,r.call(t,e).then((function(e){l||(l=!0,o[u]=e,--s||n(o))}),i)})),--s||n(o)}));return o.error&&i(o.value),r.promise},race:function(e){var t=this,r=V(t),n=r.reject,i=k((function(){var i=m(t.resolve);w(e,(function(e){i.call(t,e).then(r.resolve,n)}))}));return i.error&&n(i.value),r.promise}})},function(e,t,r){var n=r(172);e.exports=function(e,t,r){for(var i in t)n(e,i,t[i],r);return e}},function(e,t,r){"use strict";var n=r(174),i=r(132),o=r(79),a=r(150),s=o("species");e.exports=function(e){var t=n(e),r=i.f;a&&t&&!t[s]&&r(t,s,{configurable:!0,get:function(){return this}})}},function(e,t){e.exports=function(e,t,r){if(!(e instanceof t))throw TypeError("Incorrect "+(r?r+" ":"")+"invocation");return e}},function(e,t,r){var n=r(79),i=r(217),o=n("iterator"),a=Array.prototype;e.exports=function(e){return void 0!==e&&(i.Array===e||a[o]===e)}},function(e,t,r){var n=r(472),i=r(217),o=r(79)("iterator");e.exports=function(e){if(null!=e)return e[o]||e["@@iterator"]||i[n(e)]}},function(e,t,r){var n=r(121);e.exports=function(e,t,r,i){try{return i?t(n(r)[0],r[1]):t(r)}catch(t){var o=e.return;throw void 0!==o&&n(o.call(e)),t}}},function(e,t,r){var n=r(79)("iterator"),i=!1;try{var o=0,a={next:function(){return{done:!!o++}},return:function(){i=!0}};a[n]=function(){return this},Array.from(a,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!i)return!1;var r=!1;try{var o={};o[n]=function(){return{next:function(){return{done:r=!0}}}},e(o)}catch(e){}return r}},function(e,t,r){var n,i,o,a,s,u,l,c,d=r(72),f=r(261).f,p=r(194),h=r(487).set,g=r(488),y=d.MutationObserver||d.WebKitMutationObserver,m=d.process,_=d.Promise,v="process"==p(m),b=f(d,"queueMicrotask"),w=b&&b.value;w||(n=function(){var e,t;for(v&&(e=m.domain)&&e.exit();i;){t=i.fn,i=i.next;try{t()}catch(e){throw i?a():o=void 0,e}}o=void 0,e&&e.enter()},v?a=function(){m.nextTick(n)}:y&&!g?(s=!0,u=document.createTextNode(""),new y(n).observe(u,{characterData:!0}),a=function(){u.data=s=!s}):_&&_.resolve?(l=_.resolve(void 0),c=l.then,a=function(){c.call(l,n)}):a=function(){h.call(d,n)}),e.exports=w||function(e){var t={fn:e,next:void 0};o&&(o.next=t),i||(i=t,a()),o=t}},function(e,t,r){var n=r(72);e.exports=function(e,t){var r=n.console;r&&r.error&&(1===arguments.length?r.error(e):r.error(e,t))}},function(e,t,r){"use strict";var n=r(173),i=r(218),o=r(342),a=r(491),s=r(485);n({target:"Promise",stat:!0},{allSettled:function(e){var t=this,r=o.f(t),n=r.resolve,u=r.reject,l=a((function(){var r=i(t.resolve),o=[],a=0,u=1;s(e,(function(e){var i=a++,s=!1;o.push(void 0),u++,r.call(t,e).then((function(e){s||(s=!0,o[i]={status:"fulfilled",value:e},--u||n(o))}),(function(e){s||(s=!0,o[i]={status:"rejected",reason:e},--u||n(o))}))})),--u||n(o)}));return l.error&&u(l.value),r.promise}})},function(e,t,r){"use strict";var n=r(173),i=r(193),o=r(484),a=r(109),s=r(174),u=r(486),l=r(490),c=r(172);n({target:"Promise",proto:!0,real:!0,forced:!!o&&a((function(){o.prototype.finally.call({then:function(){}},(function(){}))}))},{finally:function(e){var t=u(this,s("Promise")),r="function"==typeof e;return this.then(r?function(r){return l(t,e()).then((function(){return r}))}:e,r?function(r){return l(t,e()).then((function(){throw r}))}:e)}}),i||"function"!=typeof o||o.prototype.finally||c(o.prototype,"finally",s("Promise").prototype.finally)},function(e,t,r){r(804),r(469),r(807),r(810),r(811),r(812),r(813),r(814),r(815),r(816),r(817),r(818),r(819),r(820),r(821),r(822),r(823),r(824),r(825);var n=r(262);e.exports=n.Symbol},function(e,t,r){"use strict";var n=r(173),i=r(109),o=r(344),a=r(110),s=r(264),u=r(263),l=r(805),c=r(492),d=r(806),f=r(79),p=r(343),h=f("isConcatSpreadable"),g=p>=51||!i((function(){var e=[];return e[h]=!1,e.concat()[0]!==e})),y=d("concat"),m=function(e){if(!a(e))return!1;var t=e[h];return void 0!==t?!!t:o(e)};n({target:"Array",proto:!0,forced:!g||!y},{concat:function(e){var t,r,n,i,o,a=s(this),d=c(a,0),f=0;for(t=-1,n=arguments.length;t<n;t++)if(o=-1===t?a:arguments[t],m(o)){if(f+(i=u(o.length))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(r=0;r<i;r++,f++)r in o&&l(d,f,o[r])}else{if(f>=9007199254740991)throw TypeError("Maximum allowed index exceeded");l(d,f++,o)}return d.length=f,d}})},function(e,t,r){"use strict";var n=r(258),i=r(132),o=r(215);e.exports=function(e,t,r){var a=n(t);a in e?i.f(e,a,o(0,r)):e[a]=r}},function(e,t,r){var n=r(109),i=r(79),o=r(343),a=i("species");e.exports=function(e){return o>=51||!n((function(){var t=[];return(t.constructor={})[a]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},function(e,t,r){"use strict";var n=r(173),i=r(72),o=r(174),a=r(193),s=r(150),u=r(334),l=r(471),c=r(109),d=r(105),f=r(344),p=r(110),h=r(121),g=r(264),y=r(195),m=r(258),_=r(215),v=r(340),b=r(482),w=r(338),E=r(808),S=r(478),A=r(261),P=r(132),I=r(474),M=r(131),T=r(172),k=r(257),C=r(259),x=r(260),D=r(333),O=r(79),R=r(493),L=r(92),N=r(196),j=r(216),F=r(809).forEach,U=C("hidden"),B=O("toPrimitive"),z=j.set,H=j.getterFor("Symbol"),G=Object.prototype,V=i.Symbol,q=o("JSON","stringify"),W=A.f,Y=P.f,Z=E.f,Q=I.f,J=k("symbols"),K=k("op-symbols"),X=k("string-to-symbol-registry"),$=k("symbol-to-string-registry"),ee=k("wks"),te=i.QObject,re=!te||!te.prototype||!te.prototype.findChild,ne=s&&c((function(){return 7!=v(Y({},"a",{get:function(){return Y(this,"a",{value:7}).a}})).a}))?function(e,t,r){var n=W(G,t);n&&delete G[t],Y(e,t,r),n&&e!==G&&Y(G,t,n)}:Y,ie=function(e,t){var r=J[e]=v(V.prototype);return z(r,{type:"Symbol",tag:e,description:t}),s||(r.description=t),r},oe=u&&"symbol"==typeof V.iterator?function(e){return"symbol"==typeof e}:function(e){return Object(e)instanceof V},ae=function(e,t,r){e===G&&ae(K,t,r),h(e);var n=m(t,!0);return h(r),d(J,n)?(r.enumerable?(d(e,U)&&e[U][n]&&(e[U][n]=!1),r=v(r,{enumerable:_(0,!1)})):(d(e,U)||Y(e,U,_(1,{})),e[U][n]=!0),ne(e,n,r)):Y(e,n,r)},se=function(e,t){h(e);var r=y(t),n=b(r).concat(de(r));return F(n,(function(t){s&&!ue.call(r,t)||ae(e,t,r[t])})),e},ue=function(e){var t=m(e,!0),r=Q.call(this,t);return!(this===G&&d(J,t)&&!d(K,t))&&(!(r||!d(this,t)||!d(J,t)||d(this,U)&&this[U][t])||r)},le=function(e,t){var r=y(e),n=m(t,!0);if(r!==G||!d(J,n)||d(K,n)){var i=W(r,n);return!i||!d(J,n)||d(r,U)&&r[U][n]||(i.enumerable=!0),i}},ce=function(e){var t=Z(y(e)),r=[];return F(t,(function(e){d(J,e)||d(x,e)||r.push(e)})),r},de=function(e){var t=e===G,r=Z(t?K:y(e)),n=[];return F(r,(function(e){!d(J,e)||t&&!d(G,e)||n.push(J[e])})),n};(u||(T((V=function(){if(this instanceof V)throw TypeError("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,t=D(e),r=function(e){this===G&&r.call(K,e),d(this,U)&&d(this[U],t)&&(this[U][t]=!1),ne(this,t,_(1,e))};return s&&re&&ne(G,t,{configurable:!0,set:r}),ie(t,e)}).prototype,"toString",(function(){return H(this).tag})),I.f=ue,P.f=ae,A.f=le,w.f=E.f=ce,S.f=de,s&&(Y(V.prototype,"description",{configurable:!0,get:function(){return H(this).description}}),a||T(G,"propertyIsEnumerable",ue,{unsafe:!0}))),l||(R.f=function(e){return ie(O(e),e)}),n({global:!0,wrap:!0,forced:!u,sham:!u},{Symbol:V}),F(b(ee),(function(e){L(e)})),n({target:"Symbol",stat:!0,forced:!u},{for:function(e){var t=String(e);if(d(X,t))return X[t];var r=V(t);return X[t]=r,$[r]=t,r},keyFor:function(e){if(!oe(e))throw TypeError(e+" is not a symbol");if(d($,e))return $[e]},useSetter:function(){re=!0},useSimple:function(){re=!1}}),n({target:"Object",stat:!0,forced:!u,sham:!s},{create:function(e,t){return void 0===t?v(e):se(v(e),t)},defineProperty:ae,defineProperties:se,getOwnPropertyDescriptor:le}),n({target:"Object",stat:!0,forced:!u},{getOwnPropertyNames:ce,getOwnPropertySymbols:de}),n({target:"Object",stat:!0,forced:c((function(){S.f(1)}))},{getOwnPropertySymbols:function(e){return S.f(g(e))}}),q)&&n({target:"JSON",stat:!0,forced:!u||c((function(){var e=V();return"[null]"!=q([e])||"{}"!=q({a:e})||"{}"!=q(Object(e))}))},{stringify:function(e,t,r){for(var n,i=[e],o=1;arguments.length>o;)i.push(arguments[o++]);if(n=t,(p(t)||void 0!==e)&&!oe(e))return f(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!oe(t))return t}),i[1]=t,q.apply(null,i)}});V.prototype[B]||M(V.prototype,B,V.prototype.valueOf),N(V,"Symbol"),x[U]=!0},function(e,t,r){var n=r(195),i=r(338).f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return a&&"[object Window]"==o.call(e)?function(e){try{return i(e)}catch(e){return a.slice()}}(e):i(n(e))}},function(e,t,r){var n=r(341),i=r(475),o=r(264),a=r(263),s=r(492),u=[].push,l=function(e){var t=1==e,r=2==e,l=3==e,c=4==e,d=6==e,f=5==e||d;return function(p,h,g,y){for(var m,_,v=o(p),b=i(v),w=n(h,g,3),E=a(b.length),S=0,A=y||s,P=t?A(p,E):r?A(p,0):void 0;E>S;S++)if((f||S in b)&&(_=w(m=b[S],S,v),e))if(t)P[S]=_;else if(_)switch(e){case 3:return!0;case 5:return m;case 6:return S;case 2:u.call(P,m)}else if(c)return!1;return d?-1:l||c?c:P}};e.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6)}},function(e,t,r){r(92)("asyncIterator")},function(e,t,r){"use strict";var n=r(173),i=r(150),o=r(72),a=r(105),s=r(110),u=r(132).f,l=r(476),c=o.Symbol;if(i&&"function"==typeof c&&(!("description"in c.prototype)||void 0!==c().description)){var d={},f=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),t=this instanceof f?new c(e):void 0===e?c():c(e);return""===e&&(d[t]=!0),t};l(f,c);var p=f.prototype=c.prototype;p.constructor=f;var h=p.toString,g="Symbol(test)"==String(c("test")),y=/^Symbol\((.*)\)[^)]+$/;u(p,"description",{configurable:!0,get:function(){var e=s(this)?this.valueOf():this,t=h.call(e);if(a(d,e))return"";var r=g?t.slice(7,-1):t.replace(y,"$1");return""===r?void 0:r}}),n({global:!0,forced:!0},{Symbol:f})}},function(e,t,r){r(92)("hasInstance")},function(e,t,r){r(92)("isConcatSpreadable")},function(e,t,r){r(92)("iterator")},function(e,t,r){r(92)("match")},function(e,t,r){r(92)("matchAll")},function(e,t,r){r(92)("replace")},function(e,t,r){r(92)("search")},function(e,t,r){r(92)("species")},function(e,t,r){r(92)("split")},function(e,t,r){r(92)("toPrimitive")},function(e,t,r){r(92)("toStringTag")},function(e,t,r){r(92)("unscopables")},function(e,t,r){r(196)(Math,"Math",!0)},function(e,t,r){var n=r(72);r(196)(n.JSON,"JSON",!0)},function(e,t,r){r(827),r(828),r(829),r(830),r(831),r(832),r(833),r(834),r(835)},,,,,,,,,function(e,t,r){var n,i;
/*!
 * Bootstrap Colorpicker v2.5.1
 * https://itsjavi.com/bootstrap-colorpicker/
 *
 * Originally written by (c) 2012 Stefan Petre
 * Licensed under the Apache License v2.0
 * http://www.apache.org/licenses/LICENSE-2.0.txt
 *
 */n=[r(13)],void 0===(i=function(e){return function(e){"use strict";var t=function(r,n,i,o,a){this.fallbackValue=i?i&&void 0!==i.h?i:this.value={h:0,s:0,b:0,a:1}:null,this.fallbackFormat=o||"rgba",this.hexNumberSignPrefix=!0===a,this.value=this.fallbackValue,this.origFormat=null,this.predefinedColors=n||{},this.colors=e.extend({},t.webColors,this.predefinedColors),r&&(void 0!==r.h?this.value=r:this.setColor(String(r))),this.value||(this.value={h:0,s:0,b:0,a:1})};t.webColors={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32",transparent:"transparent"},t.prototype={constructor:t,colors:{},predefinedColors:{},getValue:function(){return this.value},setValue:function(e){this.value=e},_sanitizeNumber:function(e){return"number"==typeof e?e:isNaN(e)||null===e||""===e||void 0===e?1:""===e?0:void 0!==e.toLowerCase?(e.match(/^\./)&&(e="0"+e),Math.ceil(100*parseFloat(e))/100):1},isTransparent:function(e){return!(!e||!("string"==typeof e||e instanceof String))&&("transparent"===(e=e.toLowerCase().trim())||e.match(/#?00000000/)||e.match(/(rgba|hsla)\(0,0,0,0?\.?0\)/))},rgbaIsTransparent:function(e){return 0===e.r&&0===e.g&&0===e.b&&0===e.a},setColor:function(e){if(e=e.toLowerCase().trim()){if(this.isTransparent(e))return this.value={h:0,s:0,b:0,a:0},!0;var t=this.parse(e);t?(this.value=this.value={h:t.h,s:t.s,b:t.b,a:t.a},this.origFormat||(this.origFormat=t.format)):this.fallbackValue&&(this.value=this.fallbackValue)}return!1},setHue:function(e){this.value.h=1-e},setSaturation:function(e){this.value.s=e},setBrightness:function(e){this.value.b=1-e},setAlpha:function(e){this.value.a=Math.round(parseInt(100*(1-e),10)/100*100)/100},toRGB:function(e,t,r,n){var i,o,a,s,u;return 0===arguments.length&&(e=this.value.h,t=this.value.s,r=this.value.b,n=this.value.a),e=(e*=360)%360/60,i=o=a=r-(u=r*t),i+=[u,s=u*(1-Math.abs(e%2-1)),0,0,s,u][e=~~e],o+=[s,u,u,s,0,0][e],a+=[0,0,s,u,u,s][e],{r:Math.round(255*i),g:Math.round(255*o),b:Math.round(255*a),a:n}},toHex:function(e,t,r,n){0===arguments.length&&(e=this.value.h,t=this.value.s,r=this.value.b,n=this.value.a);var i=this.toRGB(e,t,r,n);if(this.rgbaIsTransparent(i))return"transparent";var o=(this.hexNumberSignPrefix?"#":"")+((1<<24)+(parseInt(i.r)<<16)+(parseInt(i.g)<<8)+parseInt(i.b)).toString(16).slice(1);return o},toHSL:function(e,t,r,n){0===arguments.length&&(e=this.value.h,t=this.value.s,r=this.value.b,n=this.value.a);var i=e,o=(2-t)*r,a=t*r;return a/=o>0&&o<=1?o:2-o,o/=2,a>1&&(a=1),{h:isNaN(i)?0:i,s:isNaN(a)?0:a,l:isNaN(o)?0:o,a:isNaN(n)?0:n}},toAlias:function(e,t,r,n){var i,o=0===arguments.length?this.toHex():this.toHex(e,t,r,n),a="alias"===this.origFormat?o:this.toString(this.origFormat,!1);for(var s in this.colors)if((i=this.colors[s].toLowerCase().trim())===o||i===a)return s;return!1},RGBtoHSB:function(e,t,r,n){var i,o,a,s;return e/=255,t/=255,r/=255,i=((i=0==(s=(a=Math.max(e,t,r))-Math.min(e,t,r))?null:a===e?(t-r)/s:a===t?(r-e)/s+2:(e-t)/s+4)+360)%6*60/360,o=0===s?0:s/a,{h:this._sanitizeNumber(i),s:o,b:a,a:this._sanitizeNumber(n)}},HueToRGB:function(e,t,r){return r<0?r+=1:r>1&&(r-=1),6*r<1?e+(t-e)*r*6:2*r<1?t:3*r<2?e+(t-e)*(2/3-r)*6:e},HSLtoRGB:function(e,t,r,n){var i;t<0&&(t=0);var o=2*r-(i=r<=.5?r*(1+t):r+t-r*t),a=e+1/3,s=e,u=e-1/3;return[Math.round(255*this.HueToRGB(o,i,a)),Math.round(255*this.HueToRGB(o,i,s)),Math.round(255*this.HueToRGB(o,i,u)),this._sanitizeNumber(n)]},parse:function(t){if(0===arguments.length)return!1;var r,n,i=this,o=!1,a=void 0!==this.colors[t];return a&&(t=this.colors[t].toLowerCase().trim()),e.each(this.stringParsers,(function(e,s){var u=s.re.exec(t);return!(r=u&&s.parse.apply(i,[u]))||(o={},n=a?"alias":s.format?s.format:i.getValidFallbackFormat(),(o=n.match(/hsla?/)?i.RGBtoHSB.apply(i,i.HSLtoRGB.apply(i,r)):i.RGBtoHSB.apply(i,r))instanceof Object&&(o.format=n),!1)})),o},getValidFallbackFormat:function(){var e=["rgba","rgb","hex","hsla","hsl"];return this.origFormat&&-1!==e.indexOf(this.origFormat)?this.origFormat:this.fallbackFormat&&-1!==e.indexOf(this.fallbackFormat)?this.fallbackFormat:"rgba"},toString:function(e,r){r=r||!1;var n=!1;switch(e=e||this.origFormat||this.fallbackFormat){case"rgb":return n=this.toRGB(),this.rgbaIsTransparent(n)?"transparent":"rgb("+n.r+","+n.g+","+n.b+")";case"rgba":return"rgba("+(n=this.toRGB()).r+","+n.g+","+n.b+","+n.a+")";case"hsl":return n=this.toHSL(),"hsl("+Math.round(360*n.h)+","+Math.round(100*n.s)+"%,"+Math.round(100*n.l)+"%)";case"hsla":return n=this.toHSL(),"hsla("+Math.round(360*n.h)+","+Math.round(100*n.s)+"%,"+Math.round(100*n.l)+"%,"+n.a+")";case"hex":return this.toHex();case"alias":return!1===(n=this.toAlias())?this.toString(this.getValidFallbackFormat()):r&&!(n in t.webColors)&&n in this.predefinedColors?this.predefinedColors[n]:n;default:return n}},stringParsers:[{re:/rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*?\)/,format:"rgb",parse:function(e){return[e[1],e[2],e[3],1]}},{re:/rgb\(\s*(\d*(?:\.\d+)?)\%\s*,\s*(\d*(?:\.\d+)?)\%\s*,\s*(\d*(?:\.\d+)?)\%\s*?\)/,format:"rgb",parse:function(e){return[2.55*e[1],2.55*e[2],2.55*e[3],1]}},{re:/rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d*(?:\.\d+)?)\s*)?\)/,format:"rgba",parse:function(e){return[e[1],e[2],e[3],e[4]]}},{re:/rgba\(\s*(\d*(?:\.\d+)?)\%\s*,\s*(\d*(?:\.\d+)?)\%\s*,\s*(\d*(?:\.\d+)?)\%\s*(?:,\s*(\d*(?:\.\d+)?)\s*)?\)/,format:"rgba",parse:function(e){return[2.55*e[1],2.55*e[2],2.55*e[3],e[4]]}},{re:/hsl\(\s*(\d*(?:\.\d+)?)\s*,\s*(\d*(?:\.\d+)?)\%\s*,\s*(\d*(?:\.\d+)?)\%\s*?\)/,format:"hsl",parse:function(e){return[e[1]/360,e[2]/100,e[3]/100,e[4]]}},{re:/hsla\(\s*(\d*(?:\.\d+)?)\s*,\s*(\d*(?:\.\d+)?)\%\s*,\s*(\d*(?:\.\d+)?)\%\s*(?:,\s*(\d*(?:\.\d+)?)\s*)?\)/,format:"hsla",parse:function(e){return[e[1]/360,e[2]/100,e[3]/100,e[4]]}},{re:/#?([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/,format:"hex",parse:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16),1]}},{re:/#?([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/,format:"hex",parse:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16),1]}}],colorNameToHex:function(e){return void 0!==this.colors[e.toLowerCase()]&&this.colors[e.toLowerCase()]}};var r={horizontal:!1,inline:!1,color:!1,format:!1,input:"input",container:!1,component:".add-on, .input-group-addon",fallbackColor:!1,fallbackFormat:"hex",hexNumberSignPrefix:!0,sliders:{saturation:{maxLeft:100,maxTop:100,callLeft:"setSaturation",callTop:"setBrightness"},hue:{maxLeft:0,maxTop:100,callLeft:!1,callTop:"setHue"},alpha:{maxLeft:0,maxTop:100,callLeft:!1,callTop:"setAlpha"}},slidersHorz:{saturation:{maxLeft:100,maxTop:100,callLeft:"setSaturation",callTop:"setBrightness"},hue:{maxLeft:100,maxTop:0,callLeft:"setHue",callTop:!1},alpha:{maxLeft:100,maxTop:0,callLeft:"setAlpha",callTop:!1}},template:'<div class="colorpicker dropdown-menu"><div class="colorpicker-saturation"><i><b></b></i></div><div class="colorpicker-hue"><i></i></div><div class="colorpicker-alpha"><i></i></div><div class="colorpicker-color"><div /></div><div class="colorpicker-selectors"></div></div>',align:"right",customClass:null,colorSelectors:null},n=function(t,n){this.element=e(t).addClass("colorpicker-element"),this.options=e.extend(!0,{},r,this.element.data(),n),this.component=this.options.component,this.component=!1!==this.component&&this.element.find(this.component),this.component&&0===this.component.length&&(this.component=!1),this.container=!0===this.options.container?this.element:this.options.container,this.container=!1!==this.container&&e(this.container),this.input=this.element.is("input")?this.element:!!this.options.input&&this.element.find(this.options.input),this.input&&0===this.input.length&&(this.input=!1),this.color=this.createColor(!1!==this.options.color?this.options.color:this.getValue()),this.format=!1!==this.options.format?this.options.format:this.color.origFormat,!1!==this.options.color&&(this.updateInput(this.color),this.updateData(this.color));var i=this.picker=e(this.options.template);if(this.options.customClass&&i.addClass(this.options.customClass),this.options.inline?i.addClass("colorpicker-inline colorpicker-visible"):i.addClass("colorpicker-hidden"),this.options.horizontal&&i.addClass("colorpicker-horizontal"),-1===["rgba","hsla","alias"].indexOf(this.format)&&!1!==this.options.format&&"transparent"!==this.getValue()||i.addClass("colorpicker-with-alpha"),"right"===this.options.align&&i.addClass("colorpicker-right"),!0===this.options.inline&&i.addClass("colorpicker-no-arrow"),this.options.colorSelectors){var o=this,a=o.picker.find(".colorpicker-selectors");a.length>0&&(e.each(this.options.colorSelectors,(function(t,r){var n=e("<i />").addClass("colorpicker-selectors-color").css("background-color",r).data("class",t).data("alias",t);n.on("mousedown.colorpicker touchstart.colorpicker",(function(t){t.preventDefault(),o.setValue("alias"===o.format?e(this).data("alias"):e(this).css("background-color"))})),a.append(n)})),a.show().addClass("colorpicker-visible"))}i.on("mousedown.colorpicker touchstart.colorpicker",e.proxy((function(e){e.target===e.currentTarget&&e.preventDefault()}),this)),i.find(".colorpicker-saturation, .colorpicker-hue, .colorpicker-alpha").on("mousedown.colorpicker touchstart.colorpicker",e.proxy(this.mousedown,this)),i.appendTo(this.container?this.container:e("body")),!1!==this.input&&(this.input.on({"keyup.colorpicker":e.proxy(this.keyup,this)}),this.input.on({"change.colorpicker":e.proxy(this.change,this)}),!1===this.component&&this.element.on({"focus.colorpicker":e.proxy(this.show,this)}),!1===this.options.inline&&this.element.on({"focusout.colorpicker":e.proxy(this.hide,this)})),!1!==this.component&&this.component.on({"click.colorpicker":e.proxy(this.show,this)}),!1===this.input&&!1===this.component&&this.element.on({"click.colorpicker":e.proxy(this.show,this)}),!1!==this.input&&!1!==this.component&&"color"===this.input.attr("type")&&this.input.on({"click.colorpicker":e.proxy(this.show,this),"focus.colorpicker":e.proxy(this.show,this)}),this.update(),e(e.proxy((function(){this.element.trigger("create")}),this))};n.Color=t,n.prototype={constructor:n,destroy:function(){this.picker.remove(),this.element.removeData("colorpicker","color").off(".colorpicker"),!1!==this.input&&this.input.off(".colorpicker"),!1!==this.component&&this.component.off(".colorpicker"),this.element.removeClass("colorpicker-element"),this.element.trigger({type:"destroy"})},reposition:function(){if(!1!==this.options.inline||this.options.container)return!1;var e=this.container&&this.container[0]!==window.document.body?"position":"offset",t=this.component||this.element,r=t[e]();"right"===this.options.align&&(r.left-=this.picker.outerWidth()-t.outerWidth()),this.picker.css({top:r.top+t.outerHeight(),left:r.left})},show:function(t){this.isDisabled()||(this.picker.addClass("colorpicker-visible").removeClass("colorpicker-hidden"),this.reposition(),e(window).on("resize.colorpicker",e.proxy(this.reposition,this)),!t||this.hasInput()&&"color"!==this.input.attr("type")||t.stopPropagation&&t.preventDefault&&(t.stopPropagation(),t.preventDefault()),!this.component&&this.input||!1!==this.options.inline||e(window.document).on({"mousedown.colorpicker":e.proxy(this.hide,this)}),this.element.trigger({type:"showPicker",color:this.color}))},hide:function(t){if(void 0!==t&&t.target&&(e(t.currentTarget).parents(".colorpicker").length>0||e(t.target).parents(".colorpicker").length>0))return!1;this.picker.addClass("colorpicker-hidden").removeClass("colorpicker-visible"),e(window).off("resize.colorpicker",this.reposition),e(window.document).off({"mousedown.colorpicker":this.hide}),this.update(),this.element.trigger({type:"hidePicker",color:this.color})},updateData:function(e){return e=e||this.color.toString(this.format,!1),this.element.data("color",e),e},updateInput:function(e){return e=e||this.color.toString(this.format,!1),!1!==this.input&&(this.input.prop("value",e),this.input.trigger("change")),e},updatePicker:function(e){void 0!==e&&(this.color=this.createColor(e));var t=!1===this.options.horizontal?this.options.sliders:this.options.slidersHorz,r=this.picker.find("i");if(0!==r.length)return!1===this.options.horizontal?(t=this.options.sliders,r.eq(1).css("top",t.hue.maxTop*(1-this.color.value.h)).end().eq(2).css("top",t.alpha.maxTop*(1-this.color.value.a))):(t=this.options.slidersHorz,r.eq(1).css("left",t.hue.maxLeft*(1-this.color.value.h)).end().eq(2).css("left",t.alpha.maxLeft*(1-this.color.value.a))),r.eq(0).css({top:t.saturation.maxTop-this.color.value.b*t.saturation.maxTop,left:this.color.value.s*t.saturation.maxLeft}),this.picker.find(".colorpicker-saturation").css("backgroundColor",(this.options.hexNumberSignPrefix?"":"#")+this.color.toHex(this.color.value.h,1,1,1)),this.picker.find(".colorpicker-alpha").css("backgroundColor",(this.options.hexNumberSignPrefix?"":"#")+this.color.toHex()),this.picker.find(".colorpicker-color, .colorpicker-color div").css("backgroundColor",this.color.toString(this.format,!0)),e},updateComponent:function(e){var t;if(t=void 0!==e?this.createColor(e):this.color,!1!==this.component){var r=this.component.find("i").eq(0);r.length>0?r.css({backgroundColor:t.toString(this.format,!0)}):this.component.css({backgroundColor:t.toString(this.format,!0)})}return t.toString(this.format,!1)},update:function(e){var t;return!1===this.getValue(!1)&&!0!==e||(t=this.updateComponent(),this.updateInput(t),this.updateData(t),this.updatePicker()),t},setValue:function(e){this.color=this.createColor(e),this.update(!0),this.element.trigger({type:"changeColor",color:this.color,value:e})},createColor:function(e){return new t(e||null,this.options.colorSelectors,this.options.fallbackColor?this.options.fallbackColor:this.color,this.options.fallbackFormat,this.options.hexNumberSignPrefix)},getValue:function(e){var t;return e=void 0===e?this.options.fallbackColor:e,void 0!==(t=this.hasInput()?this.input.val():this.element.data("color"))&&""!==t&&null!==t||(t=e),t},hasInput:function(){return!1!==this.input},isDisabled:function(){return!!this.hasInput()&&!0===this.input.prop("disabled")},disable:function(){return!!this.hasInput()&&(this.input.prop("disabled",!0),this.element.trigger({type:"disable",color:this.color,value:this.getValue()}),!0)},enable:function(){return!!this.hasInput()&&(this.input.prop("disabled",!1),this.element.trigger({type:"enable",color:this.color,value:this.getValue()}),!0)},currentSlider:null,mousePointer:{left:0,top:0},mousedown:function(t){!t.pageX&&!t.pageY&&t.originalEvent&&t.originalEvent.touches&&(t.pageX=t.originalEvent.touches[0].pageX,t.pageY=t.originalEvent.touches[0].pageY),t.stopPropagation(),t.preventDefault();var r=e(t.target).closest("div"),n=this.options.horizontal?this.options.slidersHorz:this.options.sliders;if(!r.is(".colorpicker")){if(r.is(".colorpicker-saturation"))this.currentSlider=e.extend({},n.saturation);else if(r.is(".colorpicker-hue"))this.currentSlider=e.extend({},n.hue);else{if(!r.is(".colorpicker-alpha"))return!1;this.currentSlider=e.extend({},n.alpha)}var i=r.offset();this.currentSlider.guide=r.find("i")[0].style,this.currentSlider.left=t.pageX-i.left,this.currentSlider.top=t.pageY-i.top,this.mousePointer={left:t.pageX,top:t.pageY},e(window.document).on({"mousemove.colorpicker":e.proxy(this.mousemove,this),"touchmove.colorpicker":e.proxy(this.mousemove,this),"mouseup.colorpicker":e.proxy(this.mouseup,this),"touchend.colorpicker":e.proxy(this.mouseup,this)}).trigger("mousemove")}return!1},mousemove:function(e){!e.pageX&&!e.pageY&&e.originalEvent&&e.originalEvent.touches&&(e.pageX=e.originalEvent.touches[0].pageX,e.pageY=e.originalEvent.touches[0].pageY),e.stopPropagation(),e.preventDefault();var t=Math.max(0,Math.min(this.currentSlider.maxLeft,this.currentSlider.left+((e.pageX||this.mousePointer.left)-this.mousePointer.left))),r=Math.max(0,Math.min(this.currentSlider.maxTop,this.currentSlider.top+((e.pageY||this.mousePointer.top)-this.mousePointer.top)));return this.currentSlider.guide.left=t+"px",this.currentSlider.guide.top=r+"px",this.currentSlider.callLeft&&this.color[this.currentSlider.callLeft].call(this.color,t/this.currentSlider.maxLeft),this.currentSlider.callTop&&this.color[this.currentSlider.callTop].call(this.color,r/this.currentSlider.maxTop),!1!==this.options.format||"setAlpha"!==this.currentSlider.callTop&&"setAlpha"!==this.currentSlider.callLeft||(1!==this.color.value.a?(this.format="rgba",this.color.origFormat="rgba"):(this.format="hex",this.color.origFormat="hex")),this.update(!0),this.element.trigger({type:"changeColor",color:this.color}),!1},mouseup:function(t){return t.stopPropagation(),t.preventDefault(),e(window.document).off({"mousemove.colorpicker":this.mousemove,"touchmove.colorpicker":this.mousemove,"mouseup.colorpicker":this.mouseup,"touchend.colorpicker":this.mouseup}),!1},change:function(e){this.keyup(e)},keyup:function(e){38===e.keyCode?(this.color.value.a<1&&(this.color.value.a=Math.round(100*(this.color.value.a+.01))/100),this.update(!0)):40===e.keyCode?(this.color.value.a>0&&(this.color.value.a=Math.round(100*(this.color.value.a-.01))/100),this.update(!0)):(this.color=this.createColor(this.input.val()),this.color.origFormat&&!1===this.options.format&&(this.format=this.color.origFormat),!1!==this.getValue(!1)&&(this.updateData(),this.updateComponent(),this.updatePicker())),this.element.trigger({type:"changeColor",color:this.color,value:this.input.val()})}},e.colorpicker=n,e.fn.colorpicker=function(t){var r=Array.prototype.slice.call(arguments,1),i=1===this.length,o=null,a=this.each((function(){var i=e(this),a=i.data("colorpicker");a||(a=new n(this,"object"==typeof t?t:{}),i.data("colorpicker",a)),"string"==typeof t?e.isFunction(a[t])?o=a[t].apply(a,r):(r.length&&(a[t]=r[0]),o=a[t]):o=i}));return i?o:a},e.fn.colorpicker.constructor=n}(e)}.apply(t,n))||(e.exports=i)},function(e,t,r){if(window.__sc_env&&window.__sc_env.allowConfigOverride){var n=window.document.cookie.split(/\s*;\s*/).reduce((function(e,t){var r=t.split("="),n=r[0],i=r[1];return e[n]=i,e}),{});n.api_v2_host&&(window.__sc_env.api_v2_host=n.api_v2_host),void 0!==n.forceCredentials&&(window.__sc_env.forceCredentials=!!n.forceCredentials)}var i;window.__sc_abortApp||(r(1).initialize(),i=r(865),r(13)((function(){i.start(window.__sc_version)})))},function(e,t,r){var n=r(838),i=r(839),o=r(840),a={};e.exports=f;var s,u=new RegExp("\\[\\[\\[([a-zA-Z0-9_]+)\\]\\]\\]|\\[\\[([a-zA-Z0-9_]+)\\]\\]|(%d)","g"),l="en",c=r(841),d={de:r(842),en:r(494),en_GB:r(494),es:c,es_419:c,fr:r(843),it:r(844),nl:r(845),pl:r(846),pt_BR:r(847),sv:r(848)};function f(e){this.phrases={},this.setLocale(e)}function p(){var e=h.call(this);this.number=new i(e),this.dateTime=new n(e,this.number),this.price=new o(this.locale,this.number)}function h(){return d[this.locale]||d[l]}function g(e,t){return t?e.replace(u,(function(e,r,n,i){var o=t[r||n||i];return n?s(o):o})):e}function y(e,t){return d[e].pluralForm(t)}function m(e){return Array.isArray(e)?e[0]:e.toString()}f.prototype.availableLocales=Object.keys(d),f.prototype.getLocaleCookieName=function(){return"sclocale"},f.prototype.setLocale=function(e){this.locale=d[e]?e:l,p.call(this)},f.prototype.setPhrases=function(e){this.phrases=e||{}},f.prototype.extend=function(e){!function(e){for(var t,r,n=1,i=arguments.length;n<i;n++)for(r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}(this.phrases,e)},f.prototype.getLocaleDataFor=function(e){var t=h.call(this),r=a;switch(e){case"d3":return r.d3=r.d3||function(e){var t=e.dates,r=e.d3;return{decimal:e.delimiters.decimal,thousands:e.delimiters.thousands,grouping:r.grouping,currency:r.currency,dateTime:r.dateTime,date:r.date,time:r.time,periods:r.periods,days:t.weekdays,shortDays:t.shortWeekdays,months:t.months,shortMonths:t.monthsShort}}(t);case"jquery.datepicker":return r["jquery.datepicker"]=r["jquery.datepicker"]||function(e){var t=e.datePicker,r=e.dates;return{closeText:t.closeText,prevText:t.prevText,nextText:t.nextText,currentText:t.currentText,weekHeader:t.weekHeader,dateFormat:t.dateFormat,firstDay:t.firstDay,isRTL:t.isRTL,showMonthAfterYear:t.showMonthAfterYear,yearSuffix:t.yearSuffix,monthNames:r.months,monthNamesShort:r.monthsShort,dayNames:r.weekdays,dayNamesShort:r.shortWeekdays,dayNamesMin:r.minWeekdays}}(t);case"native":default:return t}},f.prototype.t=function(e,t,r,n){var i=(r?r+"::":"")+e,o=this.phrases[i]||e;return g.call(this,m(o),t)},f.prototype.tp=function(e,t,r,n,i,o){var a=(i?i+"::":"")+e,s=this.phrases[a],u=this.number.format(r);return s=s?s[y(this.locale,r)]:y("en",r)?t:e,g.call(this,m(s),function(e){for(var t=1,r=arguments.length;t<r;t++){var n=arguments[t];for(var i in n)void 0===e[i]&&(e[i]=n[i])}return e}({"%d":u},n))},s=function(){var e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},t=/[&<>"'`]/g,r=/[&<>"'`]/;function n(t){return e[t]||"&amp;"}return function(e){return e||0===e?(e=""+e,r.test(e)?e.replace(t,n):e):""}}()},,,,function(e,t){var r=e.exports={delimiters:{thousands:".",decimal:","},relativeTime:{justNow:"Ahora mismo",rightNow:"Ahora mismo",future:"en %s",past:"hace %s",sec:n(["1 segundo","%d segundos"]),min:n(["1 minuto","%d minutos"]),hour:n(["1 hora","%d horas"]),day:n(["1 da","%d das"]),month:n(["1 mes","%d meses"]),year:n(["1 ao","%d aos"])},dateFormats:{readable:"DD MMMM YYYY",readableTime:"DD MMMM YYYY HH:mm",readableAbbreviated:"DD MMM YYYY",readableWithWeekday:"DDDD, DD MMMM YYYY",default:"DD/MM/YYYY"},dates:{months:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],monthsShort:["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"],weekdays:["Domingo","Lunes","Martes","Mircoles","Jueves","Viernes","Sbado"],shortWeekdays:["Dom.","Lun.","Mar.","Mi.","Jue.","Vie.","Sb."],minWeekdays:["Do","Lu","Ma","Mi","Ju","Vi","S"]},d3:{grouping:[3],currency:["",""],dateTime:"%A, %e de %B de %Y, %X",date:"%d/%m/%Y",time:"%H:%M:%S",periods:["AM","PM"]},datePicker:{closeText:"Cerrar",prevText:"Ant",nextText:"Sig",currentText:"Hoy",weekHeader:"Sm",dateFormat:"dd/mm/yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},pluralForm:function(e){return 1!==e?1:0}};function n(e,t){return function(t){return e[r.pluralForm(t)].replace(/%d/i,t)}}},function(e,t){var r={delimiters:{thousands:".",decimal:","},relativeTime:{justNow:"Vor kurzem",rightNow:"Jetzt",future:"in %s",past:"vor %s",sec:n(["1 Sekunde","%d Sekunden"]),min:n(["1 Minute","%d Minuten"]),hour:n(["1 Stunde","%d Stunden"]),day:n(["1 Tag","%d Tagen"]),month:n(["1 Monat","%d Monaten"]),year:n(["1 Jahr","%d Jahren"])},dateFormats:{readable:"DD MMMM YYYY",readableTime:"DD MMMM YYYY HH:mm",readableAbbreviated:"DD MMM YYYY",readableWithWeekday:"DDDD, DD MMMM YYYY",default:"DD.MM.YYYY"},dates:{months:["Januar","Februar","Mrz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],monthsShort:["Jan","Feb","Mrz","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"],weekdays:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],shortWeekdays:["So.","Mo.","Di.","Mi.","Do.","Fr.","Sa."],minWeekdays:["So","Mo","Di","Mi","Do","Fr","Sa"]},d3:{grouping:[3],currency:[""," "],dateTime:"%A, der %e. %B %Y, %X",date:"%d.%m.%Y",time:"%H:%M:%S",periods:["AM","PM"]},datePicker:{closeText:"Schlieen",prevText:"Zurck",nextText:"Weiter",currentText:"Heute",weekHeader:"KW",dateFormat:"dd.mm.yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},pluralForm:function(e){return 1!==e?1:0}};function n(e,t){return function(t){return e[r.pluralForm(t)].replace(/%d/i,t)}}e.exports=r},function(e,t){var r=e.exports={delimiters:{thousands:".",decimal:","},relativeTime:{justNow:"Rcemment",rightNow:"Maintenant",future:"dans %s",past:"il y a %s",sec:n(["1 seconde","%d secondes"]),min:n(["1 minute","%d minutes"]),hour:n(["1 heure","%d heures"]),day:n(["1 jour","%d jours"]),month:n(["1 mois","%d mois"]),year:n(["1 an","%d ans"])},dateFormats:{readable:"DD MMMM YYYY",readableTime:"DD MMMM YYYY HH:mm",readableAbbreviated:"DD MMM YYYY",readableWithWeekday:"DDDD DD MMMM YYYY",default:"DD/MM/YYYY"},dates:{months:["janvier","fvrier","mars","avril","mai","juin","juillet","aot","septembre","octobre","novembre","dcembre"],monthsShort:["janv.","fvr.","mars","avr.","mai","juin","juil.","aot","sept.","oct.","nov.","dc."],weekdays:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],shortWeekdays:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],minWeekdays:["Di","Lu","Ma","Me","Je","Ve","Sa"]},d3:{grouping:[3],currency:["$",""],dateTime:"%A, le %e %B %Y, %X",date:"%d/%m/%Y",time:"%H:%M:%S",periods:["AM","PM"]},datePicker:{closeText:"Fermer",prevText:"Prcdent",nextText:"Suivant",currentText:"Aujourd'hui",weekHeader:"Sem.",dateFormat:"dd/mm/yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},pluralForm:function(e){return e>1?1:0}};function n(e,t){return function(t){return e[r.pluralForm(t)].replace(/%d/i,t)}}},function(e,t){var r=e.exports={delimiters:{thousands:".",decimal:","},relativeTime:{justNow:"Un momento fa",rightNow:"Ora",future:function(e){return(0===e.indexOf("1 ")?"in":"tra")+" "+e},past:"%s fa",sec:n(["1 secondo","%d secondi"]),min:n(["1 minuto","%d minuti"]),hour:n(["1 ora","%d ore"]),day:n(["1 giorno","%d giorni"]),month:n(["1 mese","%d mesi"]),year:n(["1 anno","%d anni"])},dateFormats:{readable:"DD MMMM YYYY",readableTime:"DD MMMM YYYY HH:mm",readableAbbreviated:"MMM DD, YYYY",readableWithWeekday:"DDDD, DD MMMM YYYY",default:"DD/MM/YYYY"},dates:{months:["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"],monthsShort:["Gen","Feb","Mar","Apr","Mag","Giu","Lug","Ago","Set","Ott","Nov","Dic"],weekdays:["Domenica","Luned","Marted","Mercoled","Gioved","Venerd","Sabato"],shortWeekdays:["Dom","Lun","Mar","Mer","Gio","Ven","Sab"],minWeekdays:["Do","Lu","Ma","Me","Gi","Ve","Sa"]},d3:{grouping:[3],currency:["",""],dateTime:"%A %e %B %Y, %X",date:"%d/%m/%Y",time:"%H:%M:%S",periods:["AM","PM"]},datePicker:{closeText:"Chiudi",prevText:"Prec",nextText:"Succ",currentText:"Oggi",weekHeader:"Sm",dateFormat:"dd/mm/yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},pluralForm:function(e){return 1!==e?1:0}};function n(e,t){return function(t){return e[r.pluralForm(t)].replace(/%d/i,t)}}},function(e,t){var r=e.exports={delimiters:{thousands:",",decimal:"."},relativeTime:{justNow:"Zojuist",rightNow:"Nu",future:"over %s",past:"%s geleden",sec:n(["1 seconde","%d seconden"]),min:n(["1 minuut","%d minuten"]),hour:n(["1 uur","%d uur"]),day:n(["1 dag","%d dagen"]),month:n(["1 maand","%d maanden"]),year:n(["1 jaar","%d jaar"])},dateFormats:{readable:"DD MMMM YYYY",readableTime:"DD MMMM YYYY HH:mm",readableAbbreviated:"MMM DD, YYYY",readableWithWeekday:"DDDD, DD MMMM YYYY",default:"DD-MM-YYYY"},dates:{months:["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december"],monthsShort:["jan","feb","mrt","apr","mei","jun","jul","aug","sep","okt","nov","dec"],weekdays:["zondag","maandag","dinsdag","woensdag","donderdag","vrijdag","zaterdag"],shortWeekdays:["zon","maa","din","woe","don","vri","zat"],minWeekdays:["zo","ma","di","wo","do","vr","za"]},d3:{grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%d-%m-%Y",time:"%H:%M:%S",periods:["AM","PM"]},datePicker:{closeText:"Sluiten",prevText:"",nextText:"",currentText:"Vandaag",weekHeader:"Wk",dateFormat:"dd-mm-yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},pluralForm:function(e){return 1!==e?1:0}};function n(e,t){return function(t){return e[r.pluralForm(t)].replace(/%d/i,t)}}},function(e,t){var r=e.exports={delimiters:{thousands:".",decimal:","},relativeTime:{justNow:"Przed chwil",rightNow:"W tej chwili",future:"za %s",past:"%s temu",sec:n(["1 sekunda","%d sekundy","%d sekund"]),min:n(["1 minuta","%d minuty","%d minut"]),hour:n(["1 godzina","%d godziny","%d godzin"]),day:n(["1 dzie","%d dni","%d dni"]),month:n(["1 miesic","%d miesice","%d miesicy"]),year:n(["1 rok","%d lata","%d lat"])},dateFormats:{readable:"DD MMMM YYYY",readableTime:"DD MMMM YYYY HH:mm",readableAbbreviated:"MMM DD, YYYY",readableWithWeekday:"DDDD, DD MMMM YYYY",default:"DD-MM-YYYY"},dates:{months:["Stycze","Luty","Marzec","Kwiecie","Maj","Czerwiec","Lipiec","Sierpie","Wrzesie","Padziernik","Listopad","Grudzie"],monthsDay:["Stycznia","Lutego","Marca","Kwietnia","Maja","Czerwca","Lipca","Sierpnia","Wrzenia","Padziernika","Listopada","Grudnia"],monthsShort:["Stycz.","Luty","Marz.","Kwie.","Maj","Czerw.","Lip.","Sierp.","Wrz.","Padz.","Listop.","Grudz."],monthsDayShort:["Stycz.","Lutego","Marca","Kwie.","Maja","Czerw.","Lip.","Sierp.","Wrz.","Padz.","Listop.","Grud."],weekdays:["Niedziela","Poniedziaek","Wtorek","roda","Czwartek","Pitek","Sobota"],shortWeekdays:["Niedz.","Pon.","Wt.","r.","Czw.","Pt.","Sob."],minWeekdays:["Niedz","Pon","Wt","r","Czw","Pt","Sob"]},d3:{grouping:[3],currency:["","z"],dateTime:"%A, %e %B %Y, %X",date:"%d/%m/%Y",time:"%H:%M:%S",periods:["AM","PM"]},datePicker:{closeText:"Zamknij",prevText:"Poprzedni",nextText:"Nastpny",currentText:"Dzi",weekHeader:"Tydz",dateFormat:"dd.mm.yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},pluralForm:function(e){return 1===e?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2}};function n(e,t){return function(t){return e[r.pluralForm(t)].replace(/%d/i,t)}}},function(e,t){var r=e.exports={delimiters:{thousands:".",decimal:","},relativeTime:{justNow:"Agora h pouco",rightNow:"Agora h pouco",future:"em %s",past:"h %s",sec:n(["1 segundo","%d segundos"]),min:n(["1 minuto","%d minutos"]),hour:n(["1 hora","%d horas"]),day:n(["1 dia","%d dias"]),month:n(["1 ms","%d meses"]),year:n(["1 ano","%d anos"])},dateFormats:{readable:"DD MMMM YYYY",readableTime:"DD MMMM YYYY HH:mm",readableAbbreviated:"MMM DD, YYYY",readableWithWeekday:"DDDD, DD MMMM YYYY",default:"DD/MM/YYYY"},dates:{months:["Janeiro","Fevereiro","Maro","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],monthsShort:["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"],weekdays:["Domingo","Segunda-Feira","Tera-Feira","Quarta-Feira","Quinta-Feira","Sexta-Feira","Sbado"],shortWeekdays:["Dom","Seg","Ter","Qua","Qui","Sex","Sb"],minWeekdays:["Dom","Seg","Ter","Qua","Qui","Sex","Sb"]},d3:{grouping:[3],currency:["$",""],dateTime:"%A, %e de %B de %Y. %X",date:"%d/%m/%Y",time:"%H:%M:%S",periods:["AM","PM"]},datePicker:{closeText:"Fechar",prevText:"Anterior",nextText:"Prximo",currentText:"Hoje",weekHeader:"Sm",dateFormat:"dd/mm/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},pluralForm:function(e){return 1!==e?1:0}};function n(e,t){return function(t){return e[r.pluralForm(t)].replace(/%d/i,t)}}},function(e,t){var r=e.exports={delimiters:{thousands:"",decimal:","},relativeTime:{justNow:"Alldeles nyss",rightNow:"Alldeles nyss",future:"om %s",past:"fr %s sedan",sec:n(["1 sekund","%d sekunder"]),min:n(["1 minut","%d minuter"]),hour:n(["1 timme","%d timmar"]),day:n(["1 dygn","%d dygn"]),month:n(["1 mnad","%d mnader"]),year:n(["1 r","%d r"])},dateFormats:{readable:"YYYY MMMM DD",readableTime:"YYYY MMMM DD HH:mm",readableAbbreviated:"MMM DD, YYYY",readableWithWeekday:"DDDD, YYYY MMMM DD",default:"YYYY-MMMM-DD"},dates:{months:["Januari","Februari","Mars","April","Maj","Juni","Juli","Augusti","September","Oktober","November","December"],monthsShort:["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Aug","Sep","Okt","Nov","Dec"],weekdays:["Sndag","Mndag","Tisdag","Onsdag","Torsdag","Fredag","Lrdag"],shortWeekdays:["Sn","Mn","Tis","Ons","Tor","Fre","Lr"],minWeekdays:["S","M","Ti","On","To","Fr","L"]},d3:{grouping:[3],currency:["","SEK"],dateTime:"%A den %d %B %Y %X",date:"%Y-%m-%d",time:"%H:%M:%S",periods:["fm","em"]},datePicker:{closeText:"Stng",prevText:"Frra",nextText:"Nsta",currentText:"Idag",weekHeader:"Ve",dateFormat:"yy-mm-dd",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},pluralForm:function(e){return 1!==e?1:0}};function n(e,t){return function(t){return e[r.pluralForm(t)].replace(/%d/i,t)}}},,,,,,,,,,,,,,,,,function(e,t,r){var n,i=7*r(26).MS_IN_SECOND,o=20*r(26).MS_IN_SECOND;e.exports={start:function(e){window.console&&window.console.info&&window.console.info("You like to look under the hood? Why not help us build the engine? https://soundcloud.com/jobs");var t,i,o=r(3).get("env");"development"!==o&&"staging"!==o||(t=o,i=window.document.head,r(13)("link[rel=icon]",i).remove().attr({type:"image/x-icon",href:r(1807)("./favicon_"+t+".ico")}).appendTo(i)),n=e||"DEVELOPMENT",r(3).set("app_version",n),window._scAuthCallbacks=r(866),a()}};var a=r(0).once((function(){var e,t,n,a,u,c,d,f=r(6).defer();r(16).setSigninView(r(681)),t=10,function e(){r(13)(window.document).one("ajaxSuccess",(function(n,i){!r(1).dateTimeHelper.setServerTime(i.getResponseHeader("Date"))&&--t&&e()}))}(),n=r(3).get("rollouts"),r(498).initialize({statusCode:r(1087),enableScheduling:Boolean(n&&n.get("internal_qa"))}),r(428).initialize(),r(991)({}),r(994)({}),r(1785)(),r(3).get("me").on("change:consumer_subscription",(function(){if(this.hasHighTier()){var e=r(17).instances.filter((function(e){return e.isBlocked()||e.isSnippetized()})).map((function(e){return e.fetch()}));r(6).mapEither((function(){r(8).trigger("policyRefresh")}),r(6).settled(e))}})),r(3).set("geoip",new(r(1088))),(a=new(r(32))({id:r(3).get("systemUserId")})).release=a.hold=r(0).noop,function(){var e;r(184).activate(),r(184).on(r(184).actions.STOP,l);var t=function(){window.clearTimeout(e)},n=function(){r(103)&&r(103).some((function(e){return e.get("playing")}))||r(184).disconnect()};r(8).on("audio:play",(function(){r(98).isCasting()||(r(184).reconnect(),r(184).publishEvent(r(184).events.PLAY),t())})),r(8).on("audio:pause",(function(){t(),e=window.setTimeout(n,o)}))}(),u=function(e,t,n){if(!1!==n.state&&function(e){return"me-user"===e.originType||"user"===e.originType&&e.origin===r(3).get("me").id}(n)){var i,o=r(12).getCurrentMetadata(),a=o&&r(57).extractPromotedAttrs(o.originalModel);n.context&&"promoted"===n.context.campaign?i=n.context:o&&a&&o.sound&&o.sound.getUrn()===t&&(i=a),i&&r(57).trackEvent(e,i)}},c=function(e,t){switch(t){case"target":return function(t){var n=r(53).generate(t.targetType,t.target);return u(e,n,t)};case"object":default:return function(t){var r=t.object&&t.object.getUrn();return u(e,r,t)}}},r(23).on("like",c("like","target")).on("comment",c("comment","target")).on("addToPlaylist",c("addToPlaylist","object")).on("createPlaylist",c("createPlaylist","object")).on("follow",c("follow","target")).on("repost",c("repost","target")).on("likeStation",c("like","target")),r(267).initialize(),d=new(r(207)),r(3).set("privacy_settings",d),r(245).initializeStreamingQuality(),r(175).initialize(),r(635).startPlayTracking(),r(1085).initialize(),r(538).scheduleMediaElementActivation(),r(1086).register();var p=function(){(e=function e(t){void 0===t&&(t=2);var n=r(3).get("me");var i=arguments[1];i||(i=r(6).defer().done((function(){r(8).trigger("connect:hasUserData")})));function o(e,t){0}n.id?i.resolve():n.fetch().done(i.resolve).fail((function(n){403===n.status?(o(),r(16).logout(),i.reject(n)):0===n.status?(o(),window.setTimeout((function(){return e(t,i)}),500)):t?(o(),e(t-1,i)):(o(),r(16).logout().always((function(){window.location.reload()})),i.reject(n))}));return i}()).done((function(){var e=r(3).get("me");e.on("change:creator_subscription",(function(){r(8).trigger("creator-subscription:changed")})),r(8).on("broadcast:checkout:creator_subscription_purchased",(function(){return e.pollForPlanChange()}))})),r(16).clearLegacyCookie(),window.setTimeout(r(16).loginToSoundCloudConnect,i)};r(69).setExperiments(r(3).get("experiments").getVariantIds()),(r(16).isLoggedIn()?r(6).resolve():r(16).loginWithCookies()).done(p).fail((function(){r(8).once("connect:login",p),r(3).get("me").lastFetchTime=Date.now(),e=r(6).resolve()})).always((function(){e.fail(r(158).ajaxFatal(r(632).USER_INFO_NOT_LOADED)).always(s).done(f.resolve).fail(f.reject)})),f.always((function(){if(!r(16).isLoggedIn()){var e=r(19).getFragmentParam("access_token");e?(r(21).removeFragmentParams("access_token","expires_in"),r(16).loginWithFacebook(e)):r(686).facebook&&r(96).loadFacebookSDK().then((function(){return r(96).getFacebookToken({promptUser:!1})})).then(r(16).loginWithFacebook)}}))}));function s(){var e,t=window.document,i=new(r(21));i.setRoutes(r(546),r(1089)),i.setLoader(r(1090)),r(103)&&r(103).initialize(),r(3).set("router",i),function(){var e,t;if(r(12).initialize(r(49),r(23),r(8),(function(e){var t=r(53).fromComponents({collection:"track-stations",id:e.id}),n=new(r(246))(null,{resource_id:t}),i=r(94).getStationPageUrl(e);return n.release(),{source:n,restoreUrl:i}})),r(3).get("me").id)(e=new(r(443))).setLimit(25),t=r(21).getRoute("youNetwork",null,"history");else{var n=r(346).select({field:"id",unique:!0,newestFirst:!0,limit:50}).map((function(e){return{id:e,kind:"sound"}}));if(!n.length)return;e=new(r(596))(n,{sourceInfo:{type:"history"}}),t=""}var i={restoreUrl:t,layoutInfo:{},sourceInfo:{}};r(12).setInitialHistorySource(e,i),e.release()}(),r(85).loadFromSettings(!1),r(1092).initialize(),r(12).on("change:repeatMode",(function(e){var t=r(12).getCurrentSound(),n=r(52).all,i=r(52).none,o=t&&t.getUrn(),a={click_name:e===n?"repeat::all":e===i?"repeat::none":"repeat::one"};o&&(a.click_object=o),r(11).trackClick(["play_controls","repeat_track",e===n?"all":e===i?"none":"one"],a)})),r(501).initialize(),r(503).initialize(),(r(208).isCountryUK()||r(3).get("rollouts").get("dax_tester"))&&r(502).initialize(),r(1093).default.initialize(),r(11).initialize(r(13)(t),r(12),!0),r(1094).initialize(),e=0,r(12).on("change:currentSound",(function(t){var n=t.current,i=r(311).allowed(),o=!r(152).focused(),a=r(76).get("newTrackNotifications");if("never"!==a&&r(16).isLoggedIn()&&n.isPlaying())if(null===i&&o)2==++e&&r(8).trigger("desktop-notification-reminder");else if(i&&("always"===a||"bg"===a&&o)){var s=function(){var e=n.get("user");r(311).create(n.get("title"),{icon:r(31).urlFrom(n,100),body:e.username,tag:"nowPlaying",duration:5e3}).on("click",window.focus,window)};n.attrExists(["title","user"])?s():n.fetch().then((function(){n.isPlaying()&&n===r(12).getCurrentSound()&&s()}))}})),new(r(1096))({el:r(13)("#app"),appVersion:n}).render(),r(22).history.start({root:"/",pushState:!0}),r(13)(window).on("unload",u)}function u(){r(11).dispose()}function l(){var e=r(12).getCurrentSound();!e||e.isPaused()||r(98).isCasting()||(e.pause({pause_reason:"concurrent_streaming"}),r(8).trigger("concurrent_streaming:pause"))}},,,function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},function(e,t,r){e.exports=function(){"use strict";var e=function(e){return Array.prototype.toString.call(e)},t=function(e,t){try{var r=document.createElement("canvas");r.width=1,r.height=1;var n=r.getContext("2d");return n.textBaseline="top",n.font="100px -no-font-family-here-",n.fillStyle=t,n.scale(.01,.01),n.fillText(e,0,0),n.getImageData(0,0,1,1).data}catch(e){return!1}};return function(r){var n=t(r,"#000"),i=t(r,"#fff");return n&&i&&function(t,r){var n=e(t);return n===e(r)&&"0,0,0,0"!==n}(n,i)}}()},,function(e,t,r){"use strict";(function(t){var n=r(872),i=Object.keys,o={dataType:"json",method:"get",query:{},timeout:3e3,includeCredentials:!1,customSettings:{}},a=["path","service"],s={headers:{},port:null,protocol:"http",query:{},customSettings:{}},u=["hostname"];function l(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.filter(Boolean).reduce((function(e,t){return i(t).forEach((function(r){void 0===e[r]?e[r]=t[r]:"object"==typeof e[r]&&"object"==typeof t[r]&&(e[r]=l(e[r],t[r]))})),e}),{})}function c(e){return JSON.parse(JSON.stringify(e))}var d=/:([\w-]+)/g;function f(e,t){var r=function(e,t){var r=e[t];if(!r)throw new Error('Could not find config for endpoint "'+t+'"');return n=r,i=c(n),"function"==typeof n.query&&(i.query=n.query),i;var n,i}(t.endpoints,e);return{endpoint:r,service:function(e,t){var r=e[t];if(!r)throw new Error('Could not find config for service "'+t+'"');return c(r)}(t.services,r.service)}}function p(e,t,r,n,i){var o;return e(r.protocol,r.hostname,r.port,function(e,t){return t?(d.lastIndex=0,e.replace(d,(function(e,r){return null!=t[r]?String(t[r]):""}))):e}(t.path,n),l(i,"function"==typeof(o=t.query)?o():o,r.query))}function h(e){var t=y(e,(function(t){var r=t.requestOptions,n=t.endpoint,i=t.service;return p(e.formatUrl,n,i,r.pathParams,r.queryParams)}));return function(r,i,o,a,s,u){void 0===i&&(i={}),void 0===o&&(o={}),void 0===a&&(a={}),void 0===u&&(u=[]);var l=f(r,e),c=l.endpoint,d=l.service,p={pathParams:i,queryParams:o,headers:a,data:s,args:u};return n.execMiddleware(e.middleware,t,e.Promise,{requestOptions:p,endpoint:c,service:d,context:e})}}function g(e){return function(t,r,i,o,a){void 0===i&&(i={}),void 0===a&&(a=[]);var s=f(t,e),u=s.endpoint,l=s.service,c={pathParams:{},queryParams:{},headers:i,data:o,args:a};return n.execMiddleware(e.middleware,y(e,(function(){return r})),e.Promise,{requestOptions:c,endpoint:u,service:l,context:e})}}function y(e,t){return function(r){var n=r.requestOptions,i=r.endpoint,o=r.service,a=(n.pathParams,n.queryParams,n.headers),s=n.data,u={method:i.method,url:t(r),dataType:i.dataType,data:s||null,headers:l(a,i.headers,o.headers),timeout:i.timeout,includeCredentials:!!i.includeCredentials};return e.requestTransport(u)}}function m(e,t){return i(e).reduce((function(r,n){var i=e[n];return void 0!==i&&(r[n]=t(i,n,e)),r}),{})}e.exports=function(e,r,n,c){var d=e.endpoints,y=e.services,_=e.defaults,v=void 0===_?{}:_;void 0===c&&(c="undefined"!=typeof window?window.Promise:t.Promise);var b={middleware:[]};if(b.Promise=c,!d||!y)throw new Error("Cannot create endpoints: invalid config format");if("function"!=typeof r)throw new Error("Cannot create endpoints: no api transport given");if(b.requestTransport=r,"function"!=typeof n)throw new Error("Cannot create endpoints: no url formatter given");b.formatUrl=n,b.services=m(y,(function(e,t){return function(e,t,r){return u.forEach((function(r){if(!(r in e))throw new Error('Service "'+t+'" missing required field: "'+r+'"')})),l({name:t},e,r,s)}(e,t,v.services)}));var w=i(b.services);b.endpoints=m(d,(function(e,t){return function(e,t,r,n){if(a.forEach((function(e){if(!(e in t))throw new Error('Endpoint "'+r+'" missing required field: "'+e+'"')})),!t.service||e.indexOf(t.service)<0)throw new Error('Endpoint "'+r+'" references unknown service: "'+t.service+'"');return l({name:r},t,n,o)}(w,e,t,v.endpoints)}));var E={callEndpoint:h(b),callEndpointByUrl:g(b),getUrlForEndpoint:function(e,t,r){var n=f(e,b),i=n.endpoint,o=n.service;return p(b.formatUrl,i,o,t,r)},use:function(e){return b.middleware.push(e),E}};return E}}).call(this,r(149))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.execMiddleware=function(e,t,r,n){return new r((function(e){return e(n)})).then(function(e,t,r){var n=0;return function i(o){if(n===e.length)return r(o);var a,s=e[n++](o,i);return(a=s)&&"object"==typeof a&&"function"==typeof a.then?s:new t((function(e){return e(s)}))}}(e,r,t))}},function(e,t,r){var n="get",i="post",o="put",a="delete",s="api-v2";e.exports=r(0).mapObject({activities:[n,s,"activities"],announcements:[n,s,"announcements"],audioAds:[n,s,"audio-ads"],charts:[n,s,"charts"],checkIdentifier:[n,s,"sign-in/identifier",{q:null}],comment:[n,s,"comments/:id"],commentDelete:[a,s,"comments/:id"],commentCreate:[i,s,"tracks/:track_id/comments",{body:null,timestamp:null}],commentSpam:[i,s,"comments/:id/spam"],connectLogin:[i,"api-auth","/connect/session",null,{includeCredentials:!0}],connectTokenExchange:[i,"api-auth","/connect/session/token",null,{includeCredentials:!0}],connectCleanLegacy:[i,"api-auth","/connect/clean-legacy",null,{includeCredentials:!0}],countFrontendErrors:[i,s,"/errors"],developerApps:[n,s,"apps"],playlistLikesIds:[n,s,"me/playlist_likes/ids"],playlistLikesCreate:[o,s,"users/:userId/playlist_likes/:id"],playlistLikesDelete:[a,s,"users/:userId/playlist_likes/:id"],systemPlaylistLikesUrns:[n,s,"me/system_playlist_likes/urns"],systemPlaylistLikesCreate:[o,s,"users/:userId/system_playlist_likes/:urn"],systemPlaylistLikesDelete:[a,s,"users/:userId/system_playlist_likes/:urn"],playlistRepostsIds:[n,s,"me/playlist_reposts/ids"],playlistRepostsCreate:[o,s,"me/playlist_reposts/:id"],playlistRepostsDelete:[a,s,"me/playlist_reposts/:id"],soundLikesIds:[n,s,"me/track_likes/ids"],soundLikesCreate:[o,s,"users/:userId/track_likes/:id"],soundLikesDelete:[a,s,"users/:userId/track_likes/:id"],experiments:[n,s,"assignments/:anonUserId"],mixedSelections:[n,s,"mixed-selections"],soundRepostsIds:[n,s,"me/track_reposts/ids"],soundRepostsCreate:[o,s,"me/track_reposts/:id"],soundRepostsDelete:[a,s,"me/track_reposts/:id"],featuredProfiles:[n,s,"users/:id/featured-profiles"],featuredTracks:[n,s,"featured_tracks/:pageName"],feedPlaylistUpdate:[o,s,"feed-playlists/:id"],feedTrackUpdate:[o,s,"feed-tracks/:urn"],me:[n,s,"me"],meAvatar:[i,s,"me/profile/avatar"],meRightsholders:[n,s,"me/rightsholders"],meUpdate:[o,s,"me"],myConnections:[n,s,"me/connected-applications"],myConnectionsDelete:[a,s,"me/connected-applications/:urn"],myConnectionsDeleteAll:[a,s,"me/connected-applications"],myEligibleMasteringTracks:[n,s,"me/mastering/eligible-tracks"],myExternalIdentities:[n,s,"me/external-identities"],myExternalIdentitiesDelete:[a,s,"me/external-identities/:id"],myExternalIdentitiesCreateGoogle:[i,s,"me/external-identities/connect/google"],myExternalIdentitiesCreateFacebook:[i,s,"me/external-identities/connect/facebook"],myFollowersIds:[n,s,"me/followers/ids"],myFollowingsIds:[n,s,"users/:userId/followings/ids"],myFollowingsCreate:[i,s,"me/followings/:id"],myFollowingsDelete:[a,s,"me/followings/:id"],myLibraryAlbumsAndPlaylists:[n,s,"users/:id/playlists/liked_and_owned"],myLibraryAlbumsPlaylistsAndSystemPlaylists:[n,s,"me/library/albums_playlists_and_system_playlists"],mySpamWarningsAck:[i,s,"me/spam_warnings/:urn/ack"],whoToFollowUsers:[n,s,"me/suggested/users/who_to_follow",{view:"recommended-first"}],offplatformProductCreate:[i,s,"me/off-platform-products"],offplatformProductUpdate:[o,s,"me/off-platform-products/:urn"],offplatformProductDelete:[a,s,"me/off-platform-products/:urn"],offplatformProductArtworkUpdate:[o,s,"me/off-platform-products/:urn/artwork"],offplatformProduct:[n,s,"me/off-platform-products/:urn"],offplatformProducts:[n,s,"me/off-platform-products"],offplatformProductStatus:[n,s,"me/off-platform-products/status"],offplatformProductDistribute:[o,s,"me/off-platform-products/:urn/distribute"],oscpUser:[n,s,"oscp/user_info"],oscpStatus:[n,s,"oscp/status"],oscpUserCreate:[i,s,"oscp/user_info"],oscpUserUpdate:[o,s,"oscp/user_info"],oscpPayoutCreate:[i,s,"oscp/payout"],oscpAvailableContract:[n,s,"oscp/contracts/available/:contract_type"],oscpActiveContract:[n,s,"oscp/contracts/active/:id"],oscpContractSign:[i,s,"oscp/contracts/sign/:contract_type"],paymentOrders:[n,s,"payments/orders/:type"],paymentQuotations:[n,s,"payments/quotations/:category"],paymentsConsumerSubscriptionsActive:[n,s,"payments/consumer-subscriptions/active"],paymentsSubscriptionsActive:[n,s,"payments/subscriptions/active"],paymentsConsumerSubscriptionsLatest:[n,s,"payments/consumer-subscriptions/latest"],paymentsSubscriptionsLatest:[n,s,"payments/subscriptions/latest"],paymentsOptOutOfActiveSubscription:[a,s,"payments/consumer-subscriptions/active/recurring"],playHistoryTracks:[n,s,"me/play-history/tracks"],playHistoryContexts:[n,s,"me/play-history/contexts"],playHistoryAdd:[i,s,"me/play-history"],playHistoryClear:[a,s,"me/play-history"],playlist:[n,s,"playlists/:id"],playlistUpdate:[o,s,"playlists/:id"],playlistArtworkUpdate:[o,s,"playlists/:urn/artwork"],playlistDelete:[a,s,"playlists/:id"],playlistCategory:[n,s,"playlists/:id/:category"],playlistCreate:[i,s,"playlists"],playlistDiscovery:[n,s,"playlists/discovery"],playlistsForTrack:[n,s,"tracks/:trackId/playlists"],playlistsWithoutAlbumsForTrack:[n,s,"tracks/:trackId/playlists_without_albums"],albumsForTrack:[n,s,"tracks/:trackId/albums"],promotedSearch:[n,s,"promoted/search"],promotedUploadTakeover:[n,s,"promoted/upload-takeover"],promotedUploadText:[n,s,"promoted/upload-text"],promotedUsers:[n,s,"promoted/users"],recommendedStations:[n,s,"stations/:type"],relatedSounds:[n,s,"tracks/:track_id/related"],reportCopyrightInfringement:[i,s,"copyright_reports"],reports:[n,s,"oscp/reports"],reportsLinks:[n,s,"oscp/reports/:month/:program/:type"],resetPassword:[i,s,"users/password_reset",{email:null}],resolve:[n,s,"resolve",{url:""}],rollouts:[n,s,"features/:names"],search:[n,s,"search"],searchQueries:[n,s,"search/queries"],searchCategory:[n,s,"search/:category"],searchSuggestTags:[n,s,"search/suggest/tags"],shortcutsFollowings:[n,s,"me/shortcuts/followings"],shortcutsTrackLikes:[n,s,"me/shortcuts/track-likes"],shortcutsOwnTracks:[n,s,"me/shortcuts/own-tracks"],signinWithFacebook:[i,s,"sign-in/facebook"],signinWithGoogle:[i,s,"sign-in/google"],signinWithPassword:[i,s,"sign-in/password"],signupWithEmail:[i,s,"sign-up/email"],signupWithEmailToken:[i,s,"sign-up/email/token"],signupWithFacebook:[i,s,"sign-up/facebook"],signupWithGoogle:[i,s,"sign-up/google"],station:[n,s,"stations/:urn"],stationBatch:[n,s,"stations",{urns:null}],stationTracks:[n,s,"stations/:urn/tracks"],likedStations:[n,s,"stations/liked"],likedStationIds:[n,s,"stations/liked/ids"],likeStation:[o,s,"stations/liked/:id"],unlikeStation:[a,s,"stations/liked/:id"],stream:[n,s,"stream"],streamNotifications:[n,s,"stream/notifications"],streamUserProfile:[n,s,"stream/users/:id"],streamUserReposts:[n,s,"stream/users/:id/reposts"],studentStatus:[n,s,"me/student-verification/status"],systemPlaylist:[n,s,"system-playlists/:urn"],tagsSuggested:[n,s,"tags/suggested/:urn"],tagsSuggestedCategory:[n,s,"tags/suggested/:category/:urn"],territoriesWhichRequireExplicitRightsholder:[n,s,"tracks/explicit-rightsholder-required-in"],timeseriesTrack:[n,s,"users/:user_urn/tracks/:track_urn/stats/timeseries/:metric",{from:null,to:null,resolution:null}],timeseriesUser:[n,s,"users/:user_urn/stats/timeseries/:metric",{from:null,to:null,resolution:null,tracks:null}],topUserStats:[n,s,"users/:user_urn/stats/top/:metric/:by",{from:null,to:null}],topListsUserStats:[n,s,"users/:user_urn/stats/top-lists/:metric/:by",{from:null,to:null}],topTrackStats:[n,s,"users/:user_urn/tracks/:track_urn/stats/top/:metric/:by",{from:null,to:null}],topListsTrackStats:[n,s,"users/:user_urn/tracks/:track_urn/stats/top-lists/:metric/:by",{from:null,to:null}],totalsUserStats:[n,s,"users/:user_urn/stats/totals/:metric"],totalsTrackStats:[n,s,"users/:user_urn/tracks/:track_urn/stats/totals/:metric"],track:[n,s,"tracks/:urn"],trackAsOwner:[n,s,"tracks/:urn",{representation:"owner"}],trackBatch:[n,s,"tracks"],trackCategory:[n,s,"tracks/:id/:category"],trackCreate:[i,s,"tracks"],trackComments:[n,s,"tracks/:id/comments",{threaded:"0",filter_replies:"0"}],trackCommentsThreaded:[n,s,"tracks/:id/comments",{threaded:"1",filter_replies:"0"}],trackCommentsFilterReplies:[n,s,"tracks/:id/comments",{threaded:"0",filter_replies:"1"}],trackDelete:[a,s,"tracks/:id"],trackDownload:[n,s,"tracks/:id/download"],trackArtworkUpdate:[o,s,"tracks/:urn/artwork"],trackPermalinkAvailability:[n,s,"track_permalink_availability",{permalink:null}],trackUpdate:[o,s,"tracks/:urn"],trinityPublish:[n,s,"tpub/publish"],trinitySubscribe:[n,s,"tsub/subscribe"],uploadPolicyCreate:[i,s,"uploads/track-upload-policy"],uploadTranscodingTrigger:[i,s,"uploads/:id/track-transcoding"],uploadTranscodingStatus:[n,s,"uploads/:id/track-transcoding"],user:[n,s,"users/:id"],userAlbums:[n,s,"users/:id/albums"],userAsOwner:[n,s,"users/:urn",{representation:"owner"}],userComments:[n,s,"users/:id/comments"],userDelete:[i,s,"users/:urn/deletion"],userEmailCreate:[i,s,"users/:user_id/emails"],userEmailDelete:[a,s,"users/:user_id/emails/:id"],userEmailResendConfirmation:[i,s,"users/:user_id/emails/:id/confirmation"],userEmailUpdate:[o,s,"users/:user_id/emails/:id"],userEmails:[n,s,"users/:id/emails"],userFollowers:[n,s,"users/:id/followers"],userFollowersFollowedBy:[n,s,"users/:id/followers/followed_by/:followed_by"],userFollowings:[n,s,"users/:id/followings"],userFollowingsNotFollowedBy:[n,s,"users/:id/followings/not_followed_by/:not_followed_by"],userLikes:[n,s,"users/:id/likes"],userTrackLikes:[n,s,"users/:id/track_likes"],userNotificationsPreferences:[n,s,"users/:id/notifications/preferences"],userPlaylists:[n,s,"users/:id/playlists"],userPlaylistsWithoutAlbums:[n,s,"users/:id/playlists_without_albums"],userRelatedArtists:[n,s,"users/:id/relatedartists"],userResetPassword:[i,s,"users/:id/password_reset"],userSettings:[n,s,"users/:id/settings"],userSpotlight:[n,s,"users/:id/spotlight"],userToptracks:[n,s,"users/:id/toptracks"],userTracks:[n,s,"users/:id/tracks"],userUpdate:[o,s,"users/:urn"],userWebProfiles:[n,s,"users/:urn/web-profiles"],userWebProfilesUpdate:[i,s,"users/:urn/web-profiles"],privacySettings:[n,s,"me/settings/privacy"],privacySettingsUpdate:[o,s,"me/settings/privacy"],userBlockings:[n,s,"me/mutings"],userBlockingsIds:[n,s,"me/mutings/users/ids"],userBlockingsDelete:[a,s,"me/mutings/:urn"],userBlockingsCreate:[o,s,"me/mutings/:urn",{reported:null,remove_activities:null}],secretLinkReset:[i,s,":urn/secret_token/reset"],visuals:[i,s,"visuals"],visualsPolicy:[n,s,"presign/visuals"],v2SignOut:[i,s,"/sign-out",{},{dataType:"text"}]},(function(e){return{method:e[0],service:e[1],path:e[2],query:e[3],timeout:1e4,includeCredentials:e[4]&&e[4].includeCredentials,dataType:e[4]&&e[4].dataType}}))},function(e,t,r){var n=r(19).parse(r(3).get("api_v2_host")),i=r(19).parse(r(3).get("api_auth_host")),o=r(19).parse("https://api.soundcloud.com/");e.exports={"api-v2":{hostname:n.host,protocol:n.scheme,port:n.port,headers:{Accept:"application/json, text/javascript, */*; q=0.1"},query:{client_id:"iDJ0Aa4u1XF1NNjmMMsbSMv0ugQz4xEQ"}},"public-api":{hostname:o.host,protocol:o.scheme,query:{client_id:"iDJ0Aa4u1XF1NNjmMMsbSMv0ugQz4xEQ"}},braze:{hostname:"rest.iad-01.braze.com",protocol:"https"},"api-auth":{hostname:i.host,protocol:i.scheme,port:i.port,headers:{Accept:"application/json, text/javascript, */*; q=0.1"},query:{client_id:"iDJ0Aa4u1XF1NNjmMMsbSMv0ugQz4xEQ"}}}},,,,,,,,,,,,function(e,t,r){(function(t){/*! airbrake-js v1.5.0 */
var n;"undefined"!=typeof self&&self,n=function(e,r){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=0)}({"./node_modules/error-stack-parser/error-stack-parser.js":
/*!***************************************************************!*\
  !*** ./node_modules/error-stack-parser/error-stack-parser.js ***!
  \***************************************************************/
/*! no static exports found */function(e,t,r){!function(t,n){"use strict";e.exports=n(r(/*! stackframe */"./node_modules/stackframe/stackframe.js"))}(0,(function(e){"use strict";var t=/(^|@)\S+\:\d+/,r=/^\s*at .*(\S+\:\d+|\(native\))/m,n=/^(eval@)?(\[native code\])?$/;return{parse:function(e){if(void 0!==e.stacktrace||void 0!==e["opera#sourceloc"])return this.parseOpera(e);if(e.stack&&e.stack.match(r))return this.parseV8OrIE(e);if(e.stack)return this.parseFFOrSafari(e);throw new Error("Cannot parse given Error object")},extractLocation:function(e){if(-1===e.indexOf(":"))return[e];var t=/(.+?)(?:\:(\d+))?(?:\:(\d+))?$/.exec(e.replace(/[\(\)]/g,""));return[t[1],t[2]||void 0,t[3]||void 0]},parseV8OrIE:function(t){return t.stack.split("\n").filter((function(e){return!!e.match(r)}),this).map((function(t){t.indexOf("(eval ")>-1&&(t=t.replace(/eval code/g,"eval").replace(/(\(eval at [^\()]*)|(\)\,.*$)/g,""));var r=t.replace(/^\s+/,"").replace(/\(eval code/g,"(").split(/\s+/).slice(1),n=this.extractLocation(r.pop()),i=r.join(" ")||void 0,o=["eval","<anonymous>"].indexOf(n[0])>-1?void 0:n[0];return new e({functionName:i,fileName:o,lineNumber:n[1],columnNumber:n[2],source:t})}),this)},parseFFOrSafari:function(t){return t.stack.split("\n").filter((function(e){return!e.match(n)}),this).map((function(t){if(t.indexOf(" > eval")>-1&&(t=t.replace(/ line (\d+)(?: > eval line \d+)* > eval\:\d+\:\d+/g,":$1")),-1===t.indexOf("@")&&-1===t.indexOf(":"))return new e({functionName:t});var r=/((.*".+"[^@]*)?[^@]*)(?:@)/,n=t.match(r),i=n&&n[1]?n[1]:void 0,o=this.extractLocation(t.replace(r,""));return new e({functionName:i,fileName:o[0],lineNumber:o[1],columnNumber:o[2],source:t})}),this)},parseOpera:function(e){return!e.stacktrace||e.message.indexOf("\n")>-1&&e.message.split("\n").length>e.stacktrace.split("\n").length?this.parseOpera9(e):e.stack?this.parseOpera11(e):this.parseOpera10(e)},parseOpera9:function(t){for(var r=/Line (\d+).*script (?:in )?(\S+)/i,n=t.message.split("\n"),i=[],o=2,a=n.length;o<a;o+=2){var s=r.exec(n[o]);s&&i.push(new e({fileName:s[2],lineNumber:s[1],source:n[o]}))}return i},parseOpera10:function(t){for(var r=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,n=t.stacktrace.split("\n"),i=[],o=0,a=n.length;o<a;o+=2){var s=r.exec(n[o]);s&&i.push(new e({functionName:s[3]||void 0,fileName:s[2],lineNumber:s[1],source:n[o]}))}return i},parseOpera11:function(r){return r.stack.split("\n").filter((function(e){return!!e.match(t)&&!e.match(/^Error created at/)}),this).map((function(t){var r,n=t.split("@"),i=this.extractLocation(n.pop()),o=n.shift()||"",a=o.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^\)]*\)/g,"")||void 0;o.match(/\(([^\)]*)\)/)&&(r=o.replace(/^[^\(]+\(([^\)]*)\)$/,"$1"));var s=void 0===r||"[arguments not available]"===r?void 0:r.split(",");return new e({functionName:a,args:s,fileName:i[0],lineNumber:i[1],columnNumber:i[2],source:t})}),this)}}}))},"./node_modules/promise-polyfill/src/finally.js":
/*!******************************************************!*\
  !*** ./node_modules/promise-polyfill/src/finally.js ***!
  \******************************************************/
/*! exports provided: default */function(e,t,r){"use strict";r.r(t),t.default=function(e){var t=this.constructor;return this.then((function(r){return t.resolve(e()).then((function(){return r}))}),(function(r){return t.resolve(e()).then((function(){return t.reject(r)}))}))}},"./node_modules/promise-polyfill/src/index.js":
/*!****************************************************!*\
  !*** ./node_modules/promise-polyfill/src/index.js ***!
  \****************************************************/
/*! exports provided: default */function(e,t,r){"use strict";r.r(t),function(e){var n=r(/*! ./finally */"./node_modules/promise-polyfill/src/finally.js"),i=setTimeout;function o(){}function a(e){if(!(this instanceof a))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],f(e,this)}function s(e,t){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,a._immediateFn((function(){var r=1===e._state?t.onFulfilled:t.onRejected;if(null!==r){var n;try{n=r(e._value)}catch(e){return void l(t.promise,e)}u(t.promise,n)}else(1===e._state?u:l)(t.promise,e._value)}))):e._deferreds.push(t)}function u(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var r=t.then;if(t instanceof a)return e._state=3,e._value=t,void c(e);if("function"==typeof r)return void f((n=r,i=t,function(){n.apply(i,arguments)}),e)}e._state=1,e._value=t,c(e)}catch(t){l(e,t)}var n,i}function l(e,t){e._state=2,e._value=t,c(e)}function c(e){2===e._state&&0===e._deferreds.length&&a._immediateFn((function(){e._handled||a._unhandledRejectionFn(e._value)}));for(var t=0,r=e._deferreds.length;t<r;t++)s(e,e._deferreds[t]);e._deferreds=null}function d(e,t,r){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=r}function f(e,t){var r=!1;try{e((function(e){r||(r=!0,u(t,e))}),(function(e){r||(r=!0,l(t,e))}))}catch(e){if(r)return;r=!0,l(t,e)}}a.prototype.catch=function(e){return this.then(null,e)},a.prototype.then=function(e,t){var r=new this.constructor(o);return s(this,new d(e,t,r)),r},a.prototype.finally=n.default,a.all=function(e){return new a((function(t,r){if(!e||void 0===e.length)throw new TypeError("Promise.all accepts an array");var n=Array.prototype.slice.call(e);if(0===n.length)return t([]);var i=n.length;function o(e,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var s=a.then;if("function"==typeof s)return void s.call(a,(function(t){o(e,t)}),r)}n[e]=a,0==--i&&t(n)}catch(e){r(e)}}for(var a=0;a<n.length;a++)o(a,n[a])}))},a.resolve=function(e){return e&&"object"==typeof e&&e.constructor===a?e:new a((function(t){t(e)}))},a.reject=function(e){return new a((function(t,r){r(e)}))},a.race=function(e){return new a((function(t,r){for(var n=0,i=e.length;n<i;n++)e[n].then(t,r)}))},a._immediateFn="function"==typeof e&&function(t){e(t)}||function(e){i(e,0)},a._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)},t.default=a}.call(this,r(/*! ./../../timers-browserify/main.js */"./node_modules/timers-browserify/main.js").setImmediate)},"./node_modules/promise-polyfill/src/polyfill.js":
/*!*******************************************************!*\
  !*** ./node_modules/promise-polyfill/src/polyfill.js ***!
  \*******************************************************/
/*! no exports provided */function(e,t,r){"use strict";r.r(t),function(e){var t=r(/*! ./index */"./node_modules/promise-polyfill/src/index.js"),n=r(/*! ./finally */"./node_modules/promise-polyfill/src/finally.js"),i=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==e)return e;throw new Error("unable to locate global object")}();"Promise"in i?i.Promise.prototype.finally||(i.Promise.prototype.finally=n.default):i.Promise=t.default}.call(this,r(/*! ./../../webpack/buildin/global.js */"./node_modules/webpack/buildin/global.js"))},"./node_modules/setimmediate/setImmediate.js":
/*!***************************************************!*\
  !*** ./node_modules/setimmediate/setImmediate.js ***!
  \***************************************************/
/*! no static exports found */function(e,r,n){(function(e){!function(e,r){"use strict";if(!e.setImmediate){var n,i,o,a,s,u=1,l={},c=!1,d=e.document,f=Object.getPrototypeOf&&Object.getPrototypeOf(e);f=f&&f.setTimeout?f:e,"[object process]"==={}.toString.call(e.process)?n=function(e){t.nextTick((function(){h(e)}))}:function(){if(e.postMessage&&!e.importScripts){var t=!0,r=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=r,t}}()?(a="setImmediate$"+Math.random()+"$",s=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(a)&&h(+t.data.slice(a.length))},e.addEventListener?e.addEventListener("message",s,!1):e.attachEvent("onmessage",s),n=function(t){e.postMessage(a+t,"*")}):e.MessageChannel?((o=new MessageChannel).port1.onmessage=function(e){h(e.data)},n=function(e){o.port2.postMessage(e)}):d&&"onreadystatechange"in d.createElement("script")?(i=d.documentElement,n=function(e){var t=d.createElement("script");t.onreadystatechange=function(){h(e),t.onreadystatechange=null,i.removeChild(t),t=null},i.appendChild(t)}):n=function(e){setTimeout(h,0,e)},f.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),r=0;r<t.length;r++)t[r]=arguments[r+1];var i={callback:e,args:t};return l[u]=i,n(u),u++},f.clearImmediate=p}function p(e){delete l[e]}function h(e){if(c)setTimeout(h,0,e);else{var t=l[e];if(t){c=!0;try{!function(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(r,n)}}(t)}finally{p(e),c=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,n(/*! ./../webpack/buildin/global.js */"./node_modules/webpack/buildin/global.js"))},"./node_modules/stackframe/stackframe.js":
/*!***********************************************!*\
  !*** ./node_modules/stackframe/stackframe.js ***!
  \***********************************************/
/*! no static exports found */function(e,t,r){!function(t,r){"use strict";e.exports=r()}(0,(function(){"use strict";function e(e){return!isNaN(parseFloat(e))&&isFinite(e)}function t(e){return e.charAt(0).toUpperCase()+e.substring(1)}function r(e){return function(){return this[e]}}var n=["isConstructor","isEval","isNative","isToplevel"],i=["columnNumber","lineNumber"],o=["fileName","functionName","source"],a=n.concat(i,o,["args"]);function s(e){if(e instanceof Object)for(var r=0;r<a.length;r++)e.hasOwnProperty(a[r])&&void 0!==e[a[r]]&&this["set"+t(a[r])](e[a[r]])}s.prototype={getArgs:function(){return this.args},setArgs:function(e){if("[object Array]"!==Object.prototype.toString.call(e))throw new TypeError("Args must be an Array");this.args=e},getEvalOrigin:function(){return this.evalOrigin},setEvalOrigin:function(e){if(e instanceof s)this.evalOrigin=e;else{if(!(e instanceof Object))throw new TypeError("Eval Origin must be an Object or StackFrame");this.evalOrigin=new s(e)}},toString:function(){return(this.getFunctionName()||"{anonymous}")+"("+(this.getArgs()||[]).join(",")+")"+(this.getFileName()?"@"+this.getFileName():"")+(e(this.getLineNumber())?":"+this.getLineNumber():"")+(e(this.getColumnNumber())?":"+this.getColumnNumber():"")}};for(var u=0;u<n.length;u++)s.prototype["get"+t(n[u])]=r(n[u]),s.prototype["set"+t(n[u])]=function(e){return function(t){this[e]=Boolean(t)}}(n[u]);for(var l=0;l<i.length;l++)s.prototype["get"+t(i[l])]=r(i[l]),s.prototype["set"+t(i[l])]=function(t){return function(r){if(!e(r))throw new TypeError(t+" must be a Number");this[t]=Number(r)}}(i[l]);for(var c=0;c<o.length;c++)s.prototype["get"+t(o[c])]=r(o[c]),s.prototype["set"+t(o[c])]=function(e){return function(t){this[e]=String(t)}}(o[c]);return s}))},"./node_modules/timers-browserify/main.js":
/*!************************************************!*\
  !*** ./node_modules/timers-browserify/main.js ***!
  \************************************************/
/*! no static exports found */function(e,t,r){(function(e){var n=void 0!==e&&e||"undefined"!=typeof self&&self||window,i=Function.prototype.apply;function o(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new o(i.call(setTimeout,n,arguments),clearTimeout)},t.setInterval=function(){return new o(i.call(setInterval,n,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(n,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},r(/*! setimmediate */"./node_modules/setimmediate/setImmediate.js"),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,r(/*! ./../webpack/buildin/global.js */"./node_modules/webpack/buildin/global.js"))},"./node_modules/webpack/buildin/global.js":
/*!***********************************!*\
  !*** (webpack)/buildin/global.js ***!
  \***********************************/
/*! no static exports found */function(e,t){var r;r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(r=window)}e.exports=r},"./src/client.ts":
/*!***********************!*\
  !*** ./src/client.ts ***!
  \***********************/
/*! no static exports found */function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};r(/*! promise-polyfill/src/polyfill */"./node_modules/promise-polyfill/src/polyfill.js");var i=n(r(/*! ./jsonify_notice */"./src/jsonify_notice.ts")),o=n(r(/*! ./processor/stacktracejs */"./src/processor/stacktracejs.ts")),a=n(r(/*! ./filter/ignore */"./src/filter/ignore.ts")),s=n(r(/*! ./filter/debounce */"./src/filter/debounce.ts")),u=n(r(/*! ./filter/uncaught_message */"./src/filter/uncaught_message.ts")),l=n(r(/*! ./filter/angular_message */"./src/filter/angular_message.ts")),c=n(r(/*! ./filter/window */"./src/filter/window.ts")),d=n(r(/*! ./filter/node */"./src/filter/node.ts")),f=r(/*! ./reporter/reporter */"./src/reporter/reporter.ts"),p=n(r(/*! ./reporter/fetch */"./src/reporter/fetch.ts")),h=n(r(/*! ./reporter/request */"./src/reporter/request.ts")),g=n(r(/*! ./reporter/xhr */"./src/reporter/xhr.ts")),y=n(r(/*! ./reporter/jsonp */"./src/reporter/jsonp.ts")),m=n(r(/*! ./historian */"./src/historian.ts")),_=function(){function e(e){void 0===e&&(e={});var t=this;if(this.filters=[],this.offline=!1,this.todo=[],this.onClose=[],!e.projectId||!e.projectKey)throw new Error("airbrake: projectId and projectKey are required");this.opts=e,this.opts.host=this.opts.host||"https://api.airbrake.io",this.opts.timeout=this.opts.timeout||1e4,this.opts.keysBlacklist=this.opts.keysBlacklist||[/password/,/secret/],this.processor=e.processor||o.default,this.setReporter(e.reporter||f.defaultReporter(e)),this.addFilter(a.default),this.addFilter(s.default()),this.addFilter(u.default),this.addFilter(l.default),e.environment&&this.addFilter((function(t){return t.context.environment=e.environment,t})),"object"==typeof window?(this.addFilter(c.default),window.addEventListener&&(this.onOnline=this.onOnline.bind(this),window.addEventListener("online",this.onOnline),this.onOffline=this.onOffline.bind(this),window.addEventListener("offline",this.onOffline),this.onUnhandledrejection=this.onUnhandledrejection.bind(this),window.addEventListener("unhandledrejection",this.onUnhandledrejection),this.onClose.push((function(){window.removeEventListener("online",t.onOnline),window.removeEventListener("offline",t.onOffline),window.removeEventListener("unhandledrejection",t.onUnhandledrejection)})))):this.addFilter(d.default),this.historian=m.default.instance(),this.historian.registerNotifier(this),(e.unwrapConsole||function(e){var t=e.environment;return t&&t.startsWith&&t.startsWith("dev")}(e))&&this.historian.unwrapConsole()}return e.prototype.close=function(){for(var e=0,t=this.onClose;e<t.length;e++)(0,t[e])();this.historian.unregisterNotifier(this)},e.prototype.setReporter=function(e){switch(e){case"fetch":case"node":this.reporter=p.default;break;case"request":this.reporter=h.default;break;case"xhr":this.reporter=g.default;break;case"jsonp":this.reporter=y.default;break;default:this.reporter=e}},e.prototype.addFilter=function(e){this.filters.push(e)},e.prototype.notify=function(e){var t=this,r={id:"",errors:[],context:Object.assign({severity:"error"},e.context),params:e.params||{},environment:e.environment||{},session:e.session||{}};if("object"==typeof e&&void 0!==e.error||(e={error:e}),!e.error)return r.error=new Error("airbrake: got err="+JSON.stringify(e.error)+", wanted an Error"),Promise.resolve(r);if(this.opts.ignoreWindowError&&e.context&&e.context.windowError)return r.error=new Error("airbrake: window error is ignored"),Promise.resolve(r);if(this.offline)return new Promise((function(n,i){for(t.todo.push({err:e,resolve:n,reject:i});t.todo.length>100;){var o=t.todo.shift();if(void 0===o)break;r.error=new Error("airbrake: offline queue is too large"),o.resolve(r)}}));var n=this.historian.getHistory();n.length>0&&(r.context.history=n);var o=this.processor(e.error);r.errors.push(o);for(var a=0,s=this.filters;a<s.length;a++){var u=(0,s[a])(r);if(null===u)return r.error=new Error("airbrake: error is filtered"),Promise.resolve(r);r=u}r.context||(r.context={}),r.context.language="JavaScript",r.context.notifier={name:"airbrake-js",version:"1.5.0",url:"https://github.com/airbrake/airbrake-js"};var l=i.default(r,{keysBlacklist:this.opts.keysBlacklist});return this.reporter(r,l,this.opts)},e.prototype.wrap=function(e,t){if(void 0===t&&(t=[]),e._airbrake)return e;var r=this,n=function(){var t=Array.prototype.slice.call(arguments),n=r.wrapArguments(t);try{return e.apply(this,n)}catch(e){throw r.notify({error:e,params:{arguments:t}}),this.historian.ignoreNextWindowError(),e}};for(var i in e)e.hasOwnProperty(i)&&(n[i]=e[i]);for(var o=0,a=t;o<a.length;o++)i=a[o],e.hasOwnProperty(i)&&(n[i]=e[i]);return n._airbrake=!0,n.inner=e,n},e.prototype.wrapArguments=function(e){for(var t in e){var r=e[t];"function"==typeof r&&(e[t]=this.wrap(r))}return e},e.prototype.call=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var n=this.wrap(e);return n.apply(this,Array.prototype.slice.call(arguments,1))},e.prototype.onerror=function(){this.historian.onerror.apply(this.historian,arguments)},e.prototype.onOnline=function(){this.offline=!1;for(var e=function(e){t.notify(e.err).then((function(t){e.resolve(t)}))},t=this,r=0,n=this.todo;r<n.length;r++)e(n[r]);this.todo=[]},e.prototype.onOffline=function(){this.offline=!0},e.prototype.onUnhandledrejection=function(e){var t=e.reason||e.detail.reason,r=t.message||String(t);r.indexOf&&0===r.indexOf("airbrake: ")||this.notify(t)},e}();e.exports=_},"./src/filter/angular_message.ts":
/*!***************************************!*\
  !*** ./src/filter/angular_message.ts ***!
  \***************************************/
/*! no static exports found */function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=new RegExp(["^","\\[(\\$.+)\\]","\\s","([\\s\\S]+)","$"].join(""));t.default=function(e){var t=e.errors[0];if(""!==t.type&&"Error"!==t.type)return e;var r=t.message.match(n);return null!==r&&(t.type=r[1],t.message=r[2]),e}},"./src/filter/debounce.ts":
/*!********************************!*\
  !*** ./src/filter/debounce.ts ***!
  \********************************/
/*! no static exports found */function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e,t;return function(r){var n=JSON.stringify(r.errors);return n===e?null:(t&&clearTimeout(t),e=n,t=setTimeout((function(){e=""}),1e3),r)}}},"./src/filter/ignore.ts":
/*!******************************!*\
  !*** ./src/filter/ignore.ts ***!
  \******************************/
/*! no static exports found */function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=["Script error","Script error.","InvalidAccessError"];t.default=function(e){var t=e.errors[0];return""===t.type&&-1!==n.indexOf(t.message)?null:t.backtrace&&t.backtrace.length>0&&"<anonymous>"===t.backtrace[0].file?null:e}},"./src/filter/node.ts":
/*!****************************!*\
  !*** ./src/filter/node.ts ***!
  \****************************/
/*! no static exports found */function(e,r,n){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e){var r;try{r=n(/*! os */"os")}catch(e){}if(r&&(e.context.os=r.type()+"/"+r.release(),e.context.architecture=r.arch(),e.context.hostname=r.hostname(),e.params.os={homedir:r.homedir(),uptime:r.uptime(),freemem:r.freemem(),totalmem:r.totalmem(),loadavg:r.loadavg()}),t)for(var i in e.context.platform=t.platform,e.context.rootDirectory||(e.context.rootDirectory=t.cwd()),e.context.environment="production",e.params.process={pid:t.pid,cwd:t.cwd(),execPath:t.execPath,argv:t.argv},["uptime","cpuUsage","memoryUsage"])t[i]&&(e.params.process[i]=t[i]());return e}},"./src/filter/uncaught_message.ts":
/*!****************************************!*\
  !*** ./src/filter/uncaught_message.ts ***!
  \****************************************/
/*! no static exports found */function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=new RegExp(["^","Uncaught\\s","(.+?)",":\\s","(.+)","$"].join(""));t.default=function(e){var t=e.errors[0];if(""!==t.type&&"Error"!==t.type)return e;var r=t.message.match(n);return null!==r&&(t.type=r[1],t.message=r[2]),e}},"./src/filter/window.ts":
/*!******************************!*\
  !*** ./src/filter/window.ts ***!
  \******************************/
/*! no static exports found */function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return window.navigator&&window.navigator.userAgent&&(e.context.userAgent=window.navigator.userAgent),window.location&&(e.context.url=String(window.location),e.context.rootDirectory=window.location.protocol+"//"+window.location.host),e}},"./src/historian.ts":
/*!**************************!*\
  !*** ./src/historian.ts ***!
  \**************************/
/*! no static exports found */function(e,r,n){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i=n(/*! ./instrumentation/dom */"./src/instrumentation/dom.ts"),o=["debug","log","info","warn","error"],a=function(){function e(){var e=this;if(this.historyMaxLen=20,this.notifiers=[],this.errors=[],this.ignoreWindowError=0,this.history=[],this.ignoreNextXHR=0,"object"==typeof console&&console.error&&(this.consoleError=console.error),"object"==typeof window){var r=this,n=window.onerror;window.onerror=function(){n&&n.apply(this,arguments),r.onerror.apply(r,arguments)},this.domEvents(),"function"==typeof fetch&&this.fetch(),"object"==typeof history&&this.location()}"object"==typeof t&&"function"==typeof t.on&&(t.on("uncaughtException",(function(r){e.notify(r).then((function(){1===t.listeners("uncaughtException").length&&(e.consoleError&&e.consoleError("uncaught exception",r),t.exit(1))}))})),t.on("unhandledRejection",(function(r,n){var i=r.message||String(r);i.indexOf&&0===i.indexOf("airbrake: ")||e.notify(r).then((function(){1===t.listeners("unhandledRejection").length&&(e.consoleError&&e.consoleError("unhandled rejection",r),t.exit(1))}))}))),"object"==typeof console&&this.console(),"undefined"!=typeof XMLHttpRequest&&this.xhr()}return e.instance=function(){return e._instance||(e._instance=new e),e._instance},e.prototype.registerNotifier=function(e){this.notifiers.push(e);for(var t=0,r=this.errors;t<r.length;t++){var n=r[t];this.notifyNotifiers(n)}this.errors=[]},e.prototype.unregisterNotifier=function(e){var t=this.notifiers.indexOf(e);-1!==t&&this.notifiers.splice(t,1)},e.prototype.notify=function(e){return this.notifiers.length>0?this.notifyNotifiers(e):(this.errors.push(e),this.errors.length>this.historyMaxLen&&(this.errors=this.errors.slice(-this.historyMaxLen)),Promise.resolve({}))},e.prototype.notifyNotifiers=function(e){for(var t=[],r=0,n=this.notifiers;r<n.length;r++){var i=n[r];t.push(i.notify(e))}return Promise.all(t).then((function(e){return e[0]}))},e.prototype.onerror=function(e,t,r,n,i){this.ignoreWindowError>0||(i?this.notify({error:i,context:{windowError:!0}}):t&&r&&this.notify({error:{message:e,fileName:t,lineNumber:r,columnNumber:n,noStack:!0},context:{windowError:!0}}))},e.prototype.ignoreNextWindowError=function(){var e=this;this.ignoreWindowError++,setTimeout((function(){return e.ignoreWindowError--}))},e.prototype.getHistory=function(){return this.history},e.prototype.pushHistory=function(e){this.isDupState(e)?this.lastState.num?this.lastState.num++:this.lastState.num=2:(e.date||(e.date=new Date),this.history.push(e),this.lastState=e,this.history.length>this.historyMaxLen&&(this.history=this.history.slice(-this.historyMaxLen)))},e.prototype.isDupState=function(e){if(!this.lastState)return!1;for(var t in e)if("date"!==t&&e[t]!==this.lastState[t])return!1;return!0},e.prototype.domEvents=function(){var e=i.makeEventHandler(this);window.addEventListener&&(window.addEventListener("load",e),window.addEventListener("error",(function(t){"error"in t||e(t)}),!0)),"object"==typeof document&&document.addEventListener&&(document.addEventListener("DOMContentLoaded",e),document.addEventListener("click",e),document.addEventListener("keypress",e))},e.prototype.console=function(){for(var e=this,t=function(t){if(!(t in console))return"continue";var r=console[t],n=function(){r.apply(console,arguments),e.pushHistory({type:"log",severity:t,arguments:Array.prototype.slice.call(arguments)})};n.inner=r,console[t]=n},r=0,n=o;r<n.length;r++)t(n[r])},e.prototype.unwrapConsole=function(){for(var e=0,t=o;e<t.length;e++){var r=t[e];r in console&&console[r].inner&&(console[r]=console[r].inner)}},e.prototype.fetch=function(){var e=this,t=window.fetch;window.fetch=function(r,n){var i={type:"xhr",date:new Date};return i.url="string"==typeof r?r:r.url,n&&n.method?i.method=n.method:i.method="GET",e.ignoreNextXHR++,setTimeout((function(){return e.ignoreNextXHR--})),t.apply(this,arguments).then((function(t){return i.statusCode=t.status,i.duration=(new Date).getTime()-i.date.getTime(),e.pushHistory(i),t})).catch((function(t){throw i.error=t,i.duration=(new Date).getTime()-i.date.getTime(),e.pushHistory(i),t}))}},e.prototype.xhr=function(){var e=this,t=XMLHttpRequest.prototype.open;XMLHttpRequest.prototype.open=function(r,n,i,o,a){0===e.ignoreNextXHR&&(this.__state={type:"xhr",method:r,url:n}),t.apply(this,arguments)};var r=XMLHttpRequest.prototype.send;XMLHttpRequest.prototype.send=function(t){var n=this.onreadystatechange;return this.onreadystatechange=function(t){if(4===this.readyState&&this.__state&&e.recordReq(this),n)return n.apply(this,arguments)},this.__state&&(this.__state.date=new Date),r.apply(this,arguments)}},e.prototype.recordReq=function(e){var t=e.__state;t.statusCode=e.status,t.duration=(new Date).getTime()-t.date.getTime(),this.pushHistory(t)},e.prototype.location=function(){this.lastLocation=document.location.pathname;var e=this,t=window.onpopstate;window.onpopstate=function(r){if(e.recordLocation(document.location.pathname),t)return t.apply(this,arguments)};var r=history.pushState;history.pushState=function(t,n,i){i&&e.recordLocation(i.toString()),r.apply(this,arguments)}},e.prototype.recordLocation=function(e){var t=e.indexOf("://");t>=0?(t=(e=e.slice(t+3)).indexOf("/"),e=t>=0?e.slice(t):"/"):"/"!==e.charAt(0)&&(e="/"+e),this.pushHistory({type:"location",from:this.lastLocation,to:e}),this.lastLocation=e},e}();r.default=a},"./src/instrumentation/dom.ts":
/*!************************************!*\
  !*** ./src/instrumentation/dom.ts ***!
  \************************************/
/*! no static exports found */function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=["type","name","src"];function i(e){if(!e)return"";var t=[];if(e.tagName&&t.push(e.tagName.toLowerCase()),e.id&&(t.push("#"),t.push(e.id)),e.className&&(t.push("."),t.push(e.className.split(" ").join("."))),e.getAttribute)for(var r=0,i=n;r<i.length;r++){var o=i[r],a=e.getAttribute(o);a&&t.push("["+o+'="'+a+'"]')}return t.join("")}t.makeEventHandler=function(e){return function(t){var r;try{r=t.target}catch(e){return}if(r){var n={type:t.type};try{n.target=function(e){for(var t=[],r=e;r;){var n=i(r);if(""!==n&&(t.push(n),t.length>10))break;r=r.parentNode}return 0===t.length?String(e):t.reverse().join(" > ")}(r)}catch(e){n.target="<"+e.toString()+">"}e.pushHistory(n)}}}},"./src/internal/compat.ts":
/*!********************************!*\
  !*** ./src/internal/compat.ts ***!
  \********************************/
/*! no static exports found */function(e,t){Object.assign||(Object.assign=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];for(var n=function(t){t&&Object.keys(t).forEach((function(r){return e[r]=t[r]}))},i=0,o=t;i<o.length;i++){var a=o[i];n(a)}return e})},"./src/jsonify_notice.ts":
/*!*******************************!*\
  !*** ./src/jsonify_notice.ts ***!
  \*******************************/
/*! no static exports found */function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=128;function i(e,t){return e>>t||1}t.default=function(e,t){var r=void 0===t?{}:t,n=r.maxLength,i=void 0===n?64e3:n,s=r.keysBlacklist,u=void 0===s?[]:s;if(e.errors)for(var l in e.errors){var c=new o({keysBlacklist:u});e.errors[l]=c.truncate(e.errors[l])}for(var d="",f=["context","params","environment","session"],p=0;p<8;p++){for(var h={level:p,keysBlacklist:u},g=0,y=f;g<y.length;g++)(w=e[b=y[g]])&&(e[b]=a(w,h));if((d=JSON.stringify(e)).length<i)return d}var m={json:d.slice(0,Math.floor(i/2))+"..."};f.push("errors");for(var _=0,v=f;_<v.length;_++){var b,w;(w=e[b=v[_]])&&(d=JSON.stringify(w),m[b]=d.length)}var E=new Error("airbrake: notice exceeds max length and can't be truncated");throw E.params=m,E};var o=function(){function e(e){this.maxStringLength=1024,this.maxObjectLength=n,this.maxArrayLength=n,this.maxDepth=8,this.keys=[],this.keysBlacklist=[],this.seen=[];var t=e.level||0;this.keysBlacklist=e.keysBlacklist||[],this.maxStringLength=i(this.maxStringLength,t),this.maxObjectLength=i(this.maxObjectLength,t),this.maxArrayLength=i(this.maxArrayLength,t),this.maxDepth=i(this.maxDepth,t)}return e.prototype.truncate=function(e,t,r){if(void 0===t&&(t=""),void 0===r&&(r=0),null==e)return e;switch(typeof e){case"boolean":case"number":case"function":return e;case"string":return this.truncateString(e);case"object":break;default:return this.truncateString(String(e))}if(e instanceof String)return this.truncateString(e.toString());if(e instanceof Boolean||e instanceof Number||e instanceof Date||e instanceof RegExp)return e;if(e instanceof Error)return this.truncateString(e.toString());if(this.seen.indexOf(e)>=0)return"[Circular "+this.getPath(e)+"]";var n=function(e){return Object.prototype.toString.apply(e).slice("[object ".length,-1)}(e);if(++r>this.maxDepth)return"[Truncated "+n+"]";switch(this.keys.push(t),this.seen.push(e),n){case"Array":return this.truncateArray(e,r);case"Object":return this.truncateObject(e,r);default:var i=this.maxDepth;this.maxDepth=0;var o=this.truncateObject(e,r);return o.__type=n,this.maxDepth=i,o}},e.prototype.getPath=function(e){for(var t=this.seen.indexOf(e),r=[this.keys[t]],n=t;n>=0;n--){var i=this.seen[n];i&&s(i,r[0])===e&&(e=i,r.unshift(this.keys[n]))}return"~"+r.join(".")},e.prototype.truncateString=function(e){return e.length>this.maxStringLength?e.slice(0,this.maxStringLength)+"...":e},e.prototype.truncateArray=function(e,t){void 0===t&&(t=0);var r=0,n=[];for(var i in e){var o=e[i];if(n.push(this.truncate(o,i,t)),++r>=this.maxArrayLength)break}return n},e.prototype.truncateObject=function(e,t){void 0===t&&(t=0);var r=0,n={};for(var i in e)if(u(i,this.keysBlacklist))n[i]="[Filtered]";else{var o=s(e,i);if(void 0!==o&&"function"!=typeof o&&(n[i]=this.truncate(o,i,t),++r>=this.maxObjectLength))break}return n},e}();function a(e,t){return void 0===t&&(t={}),new o(t).truncate(e)}function s(e,t){try{return e[t]}catch(e){return}}function u(e,t){for(var r=0,n=t;r<n.length;r++){var i=n[r];if(i===e)return!0;if(i instanceof RegExp&&e.match(i))return!0}return!1}t.truncate=a},"./src/processor/stacktracejs.ts":
/*!***************************************!*\
  !*** ./src/processor/stacktracejs.ts ***!
  \***************************************/
/*! no static exports found */function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(/*! error-stack-parser */"./node_modules/error-stack-parser/error-stack-parser.js"),i="object"==typeof console&&console.warn;function o(e){try{return n.parse(e)}catch(t){i&&e.stack&&console.warn("ErrorStackParser:",t.toString(),e.stack)}return e.fileName?[e]:[]}t.default=function(e){var t=[];if(!e.noStack){var r=o(e);if(0===r.length)try{throw new Error("fake")}catch(e){(r=o(e)).shift(),r.shift()}for(var n=0,i=r;n<i.length;n++){var a=i[n];t.push({function:a.functionName||"",file:a.fileName||"",line:a.lineNumber||0,column:a.columnNumber||0})}}return{type:e.name?e.name:"",message:e.message?String(e.message):String(e),backtrace:t}}},"./src/reporter/fetch.ts":
/*!*******************************!*\
  !*** ./src/reporter/fetch.ts ***!
  \*******************************/
/*! no static exports found */function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r(/*! isomorphic-fetch */"isomorphic-fetch");var n=r(/*! ./reporter */"./src/reporter/reporter.ts"),i=0;t.default=function(e,t,r){if(Date.now()/1e3<i)return e.error=n.errors.ipRateLimited,Promise.resolve(e);var o=r.host+"/api/v3/projects/"+r.projectId+"/notices?key="+r.projectKey,a={method:"POST",body:t};return new Promise((function(t,r){fetch(o,a).then((function(r){if(401===r.status)return e.error=n.errors.unauthorized,void t(e);if(429!==r.status)if(r.status>=200&&r.status<500){var o=void 0;try{o=r.json()}catch(r){return e.error=r,void t(e)}o.then((function(r){return r.id?(e.id=r.id,void t(e)):r.message?(e.error=new Error(r.message),void t(e)):void 0}))}else r.text().then((function(n){e.error=new Error("airbrake: fetch: unexpected response: code="+r.status+" body='"+n+"'"),t(e)}));else{e.error=n.errors.ipRateLimited,t(e);var a=r.headers.get("X-RateLimit-Delay");if(!a)return;var s=parseInt(a,10);s>0&&(i=Date.now()/1e3+s)}})).catch((function(r){e.error=r,t(e)}))}))}},"./src/reporter/jsonp.ts":
/*!*******************************!*\
  !*** ./src/reporter/jsonp.ts ***!
  \*******************************/
/*! no static exports found */function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=0;t.default=function(e,t,r){return new Promise((function(i,o){var a="airbrakeCb"+String(++n);window[a]=function(t){try{delete window[a]}catch(e){window[a]=void 0}return t.id?(e.id=t.id,void i(e)):t.message?(e.error=new Error(t.message),void i(e)):(e.error=new Error(t),void i(e))},t=encodeURIComponent(t);var s=r.host+"/api/v3/projects/"+r.projectId+"/create-notice?key="+r.projectKey+"&callback="+a+"&body="+t,u=window.document,l=u.getElementsByTagName("head")[0],c=u.createElement("script");c.src=s,c.onload=function(){return l.removeChild(c)},c.onerror=function(){l.removeChild(c),e.error=new Error("airbrake: JSONP script error"),i(e)},l.appendChild(c)}))}},"./src/reporter/reporter.ts":
/*!**********************************!*\
  !*** ./src/reporter/reporter.ts ***!
  \**********************************/
/*! no static exports found */function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultReporter=function(e){return e.request?"request":"function"==typeof fetch?"fetch":"function"==typeof XMLHttpRequest?"xhr":"object"==typeof window?"jsonp":"fetch"},t.errors={unauthorized:new Error("airbrake: unauthorized: project id or key are wrong"),ipRateLimited:new Error("airbrake: IP is rate limited")}},"./src/reporter/request.ts":
/*!*********************************!*\
  !*** ./src/reporter/request.ts ***!
  \*********************************/
/*! no static exports found */function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(/*! ./reporter */"./src/reporter/reporter.ts"),i=0;t.default=function(e,t,r){if(Date.now()/1e3<i)return e.error=n.errors.ipRateLimited,Promise.resolve(e);var o=r.host+"/api/v3/projects/"+r.projectId+"/notices?key="+r.projectKey;return new Promise((function(a,s){r.request({url:o,method:"POST",body:t,headers:{"content-type":"application/json"},timeout:r.timeout},(function(t,r,o){if(t)return e.error=t,void a(e);if(!r.statusCode)return e.error=new Error("airbrake: node: statusCode is null or undefined"),void a(e);if(401===r.statusCode)return e.error=n.errors.unauthorized,void a(e);if(429!==r.statusCode){if(r.statusCode>=200&&r.statusCode<500){var s=void 0;try{s=JSON.parse(o)}catch(t){return e.error=t,void a(e)}if(s.id)return e.id=s.id,void a(e);if(s.message)return e.error=new Error(s.message),void a(e)}o=o.trim(),e.error=new Error("airbrake: node: unexpected response: code="+r.statusCode+" body='"+o+"'"),a(e)}else{e.error=n.errors.ipRateLimited,a(e);var u=r.headers["x-ratelimit-delay"];if(!u)return;var l=void 0;if("string"==typeof u)l=u;else{if(!(u instanceof Array))return;l=u[0]}var c=parseInt(l,10);c>0&&(i=Date.now()/1e3+c)}}))}))}},"./src/reporter/xhr.ts":
/*!*****************************!*\
  !*** ./src/reporter/xhr.ts ***!
  \*****************************/
/*! no static exports found */function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(/*! ./reporter */"./src/reporter/reporter.ts"),i=0;t.default=function(e,t,r){if(Date.now()/1e3<i)return e.error=n.errors.ipRateLimited,Promise.resolve(e);var o=r.host+"/api/v3/projects/"+r.projectId+"/notices?key="+r.projectKey;return new Promise((function(a,s){var u=new XMLHttpRequest;u.open("POST",o,!0),u.timeout=r.timeout,u.onreadystatechange=function(){if(4===u.readyState){if(401===u.status)return e.error=n.errors.unauthorized,void a(e);if(429!==u.status){if(u.status>=200&&u.status<500){var t=void 0;try{t=JSON.parse(u.responseText)}catch(t){return e.error=t,void a(e)}if(t.id)return e.id=t.id,void a(e);if(t.message)return e.error=new Error(t.message),void a(e)}var r=u.responseText.trim();e.error=new Error("airbrake: xhr: unexpected response: code="+u.status+" body='"+r+"'"),a(e)}else{e.error=n.errors.ipRateLimited,a(e);var o=u.getResponseHeader("X-RateLimit-Delay");if(!o)return;var s=parseInt(o,10);s>0&&(i=Date.now()/1e3+s)}}},u.send(t)}))}},0:
/*!******************************************************!*\
  !*** multi ./src/internal/compat.ts ./src/client.ts ***!
  \******************************************************/
/*! no static exports found */function(e,t,r){r(/*! ./src/internal/compat.ts */"./src/internal/compat.ts"),e.exports=r(/*! ./src/client.ts */"./src/client.ts")},"isomorphic-fetch":
/*!***********************************************************************************************************************!*\
  !*** external {"commonjs":"isomorphic-fetch","commonjs2":"isomorphic-fetch","amd":"isomorphic-fetch","root":"fetch"} ***!
  \***********************************************************************************************************************/
/*! no static exports found */function(e,t){e.exports=r},os:
/*!**************************************************************!*\
  !*** external {"commonjs":"os","commonjs2":"os","amd":"os"} ***!
  \**************************************************************/
/*! no static exports found */function(t,r){if(void 0===e){var n=new Error("Cannot find module 'undefined'");throw n.code="MODULE_NOT_FOUND",n}t.exports=e}})},e.exports=n(function(){try{return r(887)}catch(e){}}(),r(888))}).call(this,r(500))},function(e,t){t.endianness=function(){return"LE"},t.hostname=function(){return"undefined"!=typeof location?location.hostname:""},t.loadavg=function(){return[]},t.uptime=function(){return 0},t.freemem=function(){return Number.MAX_VALUE},t.totalmem=function(){return Number.MAX_VALUE},t.cpus=function(){return[]},t.type=function(){return"Browser"},t.release=function(){return"undefined"!=typeof navigator?navigator.appVersion:""},t.networkInterfaces=t.getNetworkInterfaces=function(){return{}},t.arch=function(){return"javascript"},t.platform=function(){return"browser"},t.tmpdir=t.tmpDir=function(){return"/tmp"},t.EOL="\n",t.homedir=function(){return"/"}},function(e,t,r){r(889),e.exports=self.fetch.bind(self)},function(e,t,r){"use strict";r.r(t),r.d(t,"Headers",(function(){return l})),r.d(t,"Request",(function(){return y})),r.d(t,"Response",(function(){return _})),r.d(t,"DOMException",(function(){return b})),r.d(t,"fetch",(function(){return w}));var n={searchParams:"URLSearchParams"in self,iterable:"Symbol"in self&&"iterator"in Symbol,blob:"FileReader"in self&&"Blob"in self&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in self,arrayBuffer:"ArrayBuffer"in self};if(n.arrayBuffer)var i=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],o=ArrayBuffer.isView||function(e){return e&&i.indexOf(Object.prototype.toString.call(e))>-1};function a(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function s(e){return"string"!=typeof e&&(e=String(e)),e}function u(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return n.iterable&&(t[Symbol.iterator]=function(){return t}),t}function l(e){this.map={},e instanceof l?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function c(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function d(e){return new Promise((function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}}))}function f(e){var t=new FileReader,r=d(t);return t.readAsArrayBuffer(e),r}function p(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function h(){return this.bodyUsed=!1,this._initBody=function(e){var t;this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:n.blob&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:n.formData&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:n.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():n.arrayBuffer&&n.blob&&((t=e)&&DataView.prototype.isPrototypeOf(t))?(this._bodyArrayBuffer=p(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):n.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(e)||o(e))?this._bodyArrayBuffer=p(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):n.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},n.blob&&(this.blob=function(){var e=c(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?c(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(f)}),this.text=function(){var e,t,r,n=c(this);if(n)return n;if(this._bodyBlob)return e=this._bodyBlob,t=new FileReader,r=d(t),t.readAsText(e),r;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),r=new Array(t.length),n=0;n<t.length;n++)r[n]=String.fromCharCode(t[n]);return r.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},n.formData&&(this.formData=function(){return this.text().then(m)}),this.json=function(){return this.text().then(JSON.parse)},this}l.prototype.append=function(e,t){e=a(e),t=s(t);var r=this.map[e];this.map[e]=r?r+", "+t:t},l.prototype.delete=function(e){delete this.map[a(e)]},l.prototype.get=function(e){return e=a(e),this.has(e)?this.map[e]:null},l.prototype.has=function(e){return this.map.hasOwnProperty(a(e))},l.prototype.set=function(e,t){this.map[a(e)]=s(t)},l.prototype.forEach=function(e,t){for(var r in this.map)this.map.hasOwnProperty(r)&&e.call(t,this.map[r],r,this)},l.prototype.keys=function(){var e=[];return this.forEach((function(t,r){e.push(r)})),u(e)},l.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),u(e)},l.prototype.entries=function(){var e=[];return this.forEach((function(t,r){e.push([r,t])})),u(e)},n.iterable&&(l.prototype[Symbol.iterator]=l.prototype.entries);var g=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function y(e,t){var r,n,i=(t=t||{}).body;if(e instanceof y){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new l(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,i||null==e._bodyInit||(i=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new l(t.headers)),this.method=(r=t.method||this.method||"GET",n=r.toUpperCase(),g.indexOf(n)>-1?n:r),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(i)}function m(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var r=e.split("="),n=r.shift().replace(/\+/g," "),i=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(n),decodeURIComponent(i))}})),t}function _(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new l(t.headers),this.url=t.url||"",this._initBody(e)}y.prototype.clone=function(){return new y(this,{body:this._bodyInit})},h.call(y.prototype),h.call(_.prototype),_.prototype.clone=function(){return new _(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new l(this.headers),url:this.url})},_.error=function(){var e=new _(null,{status:0,statusText:""});return e.type="error",e};var v=[301,302,303,307,308];_.redirect=function(e,t){if(-1===v.indexOf(t))throw new RangeError("Invalid status code");return new _(null,{status:t,headers:{location:e}})};var b=self.DOMException;try{new b}catch(e){(b=function(e,t){this.message=e,this.name=t;var r=Error(e);this.stack=r.stack}).prototype=Object.create(Error.prototype),b.prototype.constructor=b}function w(e,t){return new Promise((function(r,i){var o=new y(e,t);if(o.signal&&o.signal.aborted)return i(new b("Aborted","AbortError"));var a=new XMLHttpRequest;function s(){a.abort()}a.onload=function(){var e,t,n={status:a.status,statusText:a.statusText,headers:(e=a.getAllResponseHeaders()||"",t=new l,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(e){var r=e.split(":"),n=r.shift().trim();if(n){var i=r.join(":").trim();t.append(n,i)}})),t)};n.url="responseURL"in a?a.responseURL:n.headers.get("X-Request-URL");var i="response"in a?a.response:a.responseText;r(new _(i,n))},a.onerror=function(){i(new TypeError("Network request failed"))},a.ontimeout=function(){i(new TypeError("Network request failed"))},a.onabort=function(){i(new b("Aborted","AbortError"))},a.open(o.method,o.url,!0),"include"===o.credentials?a.withCredentials=!0:"omit"===o.credentials&&(a.withCredentials=!1),"responseType"in a&&n.blob&&(a.responseType="blob"),o.headers.forEach((function(e,t){a.setRequestHeader(t,e)})),o.signal&&(o.signal.addEventListener("abort",s),a.onreadystatechange=function(){4===a.readyState&&o.signal.removeEventListener("abort",s)}),a.send(void 0===o._bodyInit?null:o._bodyInit)}))}w.polyfill=!0,self.fetch||(self.fetch=w,self.Headers=l,self.Request=y,self.Response=_)},,,,,,,,,,,,,function(e,t,r){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0});var i=r(508),o=r(504),a=r(351),s=r(176),u=i.loadStrategyWrapperStore({Store:o.MemoryStore,strategies:(n={},n[a.V2LoadStrategy.LocalNoCreate]=function(e){return(0,e.get)()},n[a.V2LoadStrategy.LocalOnly]=function(e){var t=e.get,r=e.create,n=t();return n.status===s.Status.Missing&&(n=r()),n},n[a.V2LoadStrategy.LocalThenNetwork]=function(e){var t=e.get,r=e.create,n=e.next,i=t();return i.status===s.Status.Missing&&(i=r()),n(),i},n[a.V2LoadStrategy.ForceNetwork]=function(e){return(0,e.next)()},n)});t.V2MemoryStore=u},function(e,t,r){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0});var i=r(508),o=r(507),a=r(351),s=i.loadStrategyWrapperStore({Store:o.NetworkStore,strategies:(n={},n[a.V2LoadStrategy.LocalNoCreate]=function(e){return(0,e.next)()},n[a.V2LoadStrategy.LocalOnly]=function(e){return(0,e.next)()},n[a.V2LoadStrategy.LocalThenNetwork]=function(e){var t=e.get,r=e.next,n=t();return r(),n},n[a.V2LoadStrategy.ForceNetwork]=function(e){var t=e.get,r=e.next,n=t();return r(),n},n)});t.V2NetworkStore=s},function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r(905),o=r(176),a=r(505),s=r(906),u=function(){function e(e){var t=this;this.nextId=function(){return"$$DL-"+t._nextId++},this.store=e,this._nextId=1,this._keyIndex=new a.IdIndex,this._entityIdIndex=new Map,this.subscriptions=new Map,this.dataProviderKey=Symbol("DataProvider"),this.store.onPush((function(e){var r=e.context.get(t.dataProviderKey);if(void 0!==r||e.status!==o.Status.Created&&e.status!==o.Status.Valid||(r=t._keyIndex.getOrUpdate(e.entityDesc,e.data,t.nextId)),void 0!==r){var n=t.subscriptions.get(r);n&&n.forEach((function(t){e.status!==o.Status.Valid&&e.status!==o.Status.Created&&e.status!==o.Status.Missing||t.notifyChange(e)}))}}))}return e.prototype.subscribe=function(e){var t,r;if("entityId"in e&&e.entityId){if(void 0===(t=this._entityIdIndex.get(e.entityId)))return null;if(void 0===(r=t.get(this.dataProviderKey)))return null}else{if(!("properties"in e)||void 0===e.properties)return null;r=this._keyIndex.getOrUpdate(e.desc,e.properties,this.nextId),void 0===(t=this._entityIdIndex.get(r))&&(t=(new s.Context).set(this.dataProviderKey,r),this._entityIdIndex.set(r,t))}var o=this.store.get(n({},e,{properties:e.properties||{},context:t})),a=this.subscriptions.get(r);void 0===a&&(a=[],this.subscriptions.set(r,a));var u=new i.ModelSubscription(this,o,{context:o.context,entityId:r,entityDesc:o.entityDesc});return a.push(u),u},e.prototype.loadEntity=function(e){return this.store.get({desc:e.entityDesc,properties:{},context:e.context,loadStrategy:e.loadStrategy})},e.prototype.updateEntry=function(e){this.store.updateEntry(e)},e}();t.DataProvider=u,t.default=u},function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r(176),o=function(){function e(e,t,r){this._dataProvider=e,this.entry=t,this.entityId=r.entityId,this.entityDesc=r.entityDesc,this._context=r.context,this._changeHandlers=new Set}return e.prototype.refresh=function(e){return this._dataProvider.loadEntity({context:this._context,entityDesc:this.entityDesc,entityId:this.entityId,loadStrategy:e})},e.prototype.notifyChange=function(e){var t=this.entry;this.entry=e,this._changeHandlers.forEach((function(r){return r(e,t,null)}))},e.prototype.onChange=function(e){this._changeHandlers.add(e)},e.prototype.mutate=function(e){if(!this.entry)throw new Error("Cannot mutate an unknown entry");if(this.entry.status!==i.Status.Valid&&this.entry.status!==i.Status.Created)throw new Error("Cannot mutate an entry with status "+this.entry.status);var t=Object.assign({},this.entry);t.data=n({},this.entry.data,e),this._dataProvider.updateEntry(t)},e.prototype.unsubscribe=function(){throw new Error("Method not implemented.")},e}();t.ModelSubscription=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){this._map=new Map}return e.prototype.set=function(e,t){return this._map.set(e,t),this},e.prototype.get=function(e){return this._map.get(e)},e}();t.Context=n},,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,r){e.exports=r.p+"assets/images/loader-dark-45940ae3.gif"},,,,,,function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48dGl0bGU+Q2xvc2U8L3RpdGxlPjxwYXRoIGQ9Ik0xMCA4LjU0NUwzLjQ1NSAyIDIgMy40NTUgOC41NDUgMTAgMiAxNi41NDUgMy40NTUgMTggMTAgMTEuNDU1IDE2LjU0NSAxOCAxOCAxNi41NDUgMTEuNDU1IDEwIDE4IDMuNDU1IDE2LjU0NSAyIDEwIDguNTQ1eiIgZmlsbD0iI0U1RTVFNSIgZmlsbC1ydWxlPSJldmVub2RkIi8+PC9zdmc+Cg=="},,,function(e,t,r){e.exports=r.p+"assets/images/tooltip_inactive-17c43e39.svg"},function(e,t,r){e.exports=r.p+"assets/images/tooltip_active-9c15ad7a.svg"},,function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAASElEQVR4AWMYPMDY2Pg/sRinAcRYNNwNgGFkMZzylNg2iA0wNTW1A2p6DaJhBqCLk2QIyABkPskuARkA00yO/+WgBsjRNBMCALF3R8EeB25UAAAAAElFTkSuQmCC"},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAhElEQVR4Ae3OAQbAMBQD0F5iu0hbKL3Qzrv7bD4+BDLWoCR8qN+fVxwHU2t9FLMfoCyKAQYYsC8Ahxwm/zcC8CBAHQMM6L1fc87jKyB248+y8ihprd2JQACWx268L0HkQUAAgO9KEAlg5TJEAki5DpEAUq5D5JByHYKUazPGOBPwt9x5AUD4HGzwiqKGAAAAAElFTkSuQmCC"},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,r){e.exports=r(993)},function(e,t){function r(e,t){return"function"==typeof t.test?t.test(e):e===t}e.exports=function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];return{get:function(t,n){return!(!e[t]||!r(e[t].experiment_name,n))&&e[t].variant_name},getAll:function(){return e},getVariantIds:function(){return Object.keys(e).reduce((function(t,r){return null!=e[r].variant_id&&(t[r]=e[r].variant_id),t}),{})}}}},,function(e,t,r){"use strict";e.exports=function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];return{get:function(t){return!!e[t]},getAll:function(){return e}}}},,,,,function(e,t,r){"use strict";var n=r(1001),i=r(1002);function o(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}t.parse=v,t.resolve=function(e,t){return v(e,!1,!0).resolve(t)},t.resolveObject=function(e,t){return e?v(e,!1,!0).resolveObject(t):t},t.format=function(e){i.isString(e)&&(e=v(e));return e instanceof o?e.format():o.prototype.format.call(e)},t.Url=o;var a=/^([a-z0-9.+-]+:)/i,s=/:[0-9]*$/,u=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,l=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),c=["'"].concat(l),d=["%","/","?",";","#"].concat(c),f=["/","?","#"],p=/^[+a-z0-9A-Z_-]{0,63}$/,h=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,g={javascript:!0,"javascript:":!0},y={javascript:!0,"javascript:":!0},m={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},_=r(1003);function v(e,t,r){if(e&&i.isObject(e)&&e instanceof o)return e;var n=new o;return n.parse(e,t,r),n}o.prototype.parse=function(e,t,r){if(!i.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var o=e.indexOf("?"),s=-1!==o&&o<e.indexOf("#")?"?":"#",l=e.split(s);l[0]=l[0].replace(/\\/g,"/");var v=e=l.join(s);if(v=v.trim(),!r&&1===e.split("#").length){var b=u.exec(v);if(b)return this.path=v,this.href=v,this.pathname=b[1],b[2]?(this.search=b[2],this.query=t?_.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var w=a.exec(v);if(w){var E=(w=w[0]).toLowerCase();this.protocol=E,v=v.substr(w.length)}if(r||w||v.match(/^\/\/[^@\/]+@[^@\/]+/)){var S="//"===v.substr(0,2);!S||w&&y[w]||(v=v.substr(2),this.slashes=!0)}if(!y[w]&&(S||w&&!m[w])){for(var A,P,I=-1,M=0;M<f.length;M++){-1!==(T=v.indexOf(f[M]))&&(-1===I||T<I)&&(I=T)}-1!==(P=-1===I?v.lastIndexOf("@"):v.lastIndexOf("@",I))&&(A=v.slice(0,P),v=v.slice(P+1),this.auth=decodeURIComponent(A)),I=-1;for(M=0;M<d.length;M++){var T;-1!==(T=v.indexOf(d[M]))&&(-1===I||T<I)&&(I=T)}-1===I&&(I=v.length),this.host=v.slice(0,I),v=v.slice(I),this.parseHost(),this.hostname=this.hostname||"";var k="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!k)for(var C=this.hostname.split(/\./),x=(M=0,C.length);M<x;M++){var D=C[M];if(D&&!D.match(p)){for(var O="",R=0,L=D.length;R<L;R++)D.charCodeAt(R)>127?O+="x":O+=D[R];if(!O.match(p)){var N=C.slice(0,M),j=C.slice(M+1),F=D.match(h);F&&(N.push(F[1]),j.unshift(F[2])),j.length&&(v="/"+j.join(".")+v),this.hostname=N.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),k||(this.hostname=n.toASCII(this.hostname));var U=this.port?":"+this.port:"",B=this.hostname||"";this.host=B+U,this.href+=this.host,k&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==v[0]&&(v="/"+v))}if(!g[E])for(M=0,x=c.length;M<x;M++){var z=c[M];if(-1!==v.indexOf(z)){var H=encodeURIComponent(z);H===z&&(H=escape(z)),v=v.split(z).join(H)}}var G=v.indexOf("#");-1!==G&&(this.hash=v.substr(G),v=v.slice(0,G));var V=v.indexOf("?");if(-1!==V?(this.search=v.substr(V),this.query=v.substr(V+1),t&&(this.query=_.parse(this.query)),v=v.slice(0,V)):t&&(this.search="",this.query={}),v&&(this.pathname=v),m[E]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){U=this.pathname||"";var q=this.search||"";this.path=U+q}return this.href=this.format(),this},o.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",r=this.pathname||"",n=this.hash||"",o=!1,a="";this.host?o=e+this.host:this.hostname&&(o=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&i.isObject(this.query)&&Object.keys(this.query).length&&(a=_.stringify(this.query));var s=this.search||a&&"?"+a||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||m[t])&&!1!==o?(o="//"+(o||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):o||(o=""),n&&"#"!==n.charAt(0)&&(n="#"+n),s&&"?"!==s.charAt(0)&&(s="?"+s),t+o+(r=r.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})))+(s=s.replace("#","%23"))+n},o.prototype.resolve=function(e){return this.resolveObject(v(e,!1,!0)).format()},o.prototype.resolveObject=function(e){if(i.isString(e)){var t=new o;t.parse(e,!1,!0),e=t}for(var r=new o,n=Object.keys(this),a=0;a<n.length;a++){var s=n[a];r[s]=this[s]}if(r.hash=e.hash,""===e.href)return r.href=r.format(),r;if(e.slashes&&!e.protocol){for(var u=Object.keys(e),l=0;l<u.length;l++){var c=u[l];"protocol"!==c&&(r[c]=e[c])}return m[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}if(e.protocol&&e.protocol!==r.protocol){if(!m[e.protocol]){for(var d=Object.keys(e),f=0;f<d.length;f++){var p=d[f];r[p]=e[p]}return r.href=r.format(),r}if(r.protocol=e.protocol,e.host||y[e.protocol])r.pathname=e.pathname;else{for(var h=(e.pathname||"").split("/");h.length&&!(e.host=h.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==h[0]&&h.unshift(""),h.length<2&&h.unshift(""),r.pathname=h.join("/")}if(r.search=e.search,r.query=e.query,r.host=e.host||"",r.auth=e.auth,r.hostname=e.hostname||e.host,r.port=e.port,r.pathname||r.search){var g=r.pathname||"",_=r.search||"";r.path=g+_}return r.slashes=r.slashes||e.slashes,r.href=r.format(),r}var v=r.pathname&&"/"===r.pathname.charAt(0),b=e.host||e.pathname&&"/"===e.pathname.charAt(0),w=b||v||r.host&&e.pathname,E=w,S=r.pathname&&r.pathname.split("/")||[],A=(h=e.pathname&&e.pathname.split("/")||[],r.protocol&&!m[r.protocol]);if(A&&(r.hostname="",r.port=null,r.host&&(""===S[0]?S[0]=r.host:S.unshift(r.host)),r.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===h[0]?h[0]=e.host:h.unshift(e.host)),e.host=null),w=w&&(""===h[0]||""===S[0])),b)r.host=e.host||""===e.host?e.host:r.host,r.hostname=e.hostname||""===e.hostname?e.hostname:r.hostname,r.search=e.search,r.query=e.query,S=h;else if(h.length)S||(S=[]),S.pop(),S=S.concat(h),r.search=e.search,r.query=e.query;else if(!i.isNullOrUndefined(e.search)){if(A)r.hostname=r.host=S.shift(),(k=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=k.shift(),r.host=r.hostname=k.shift());return r.search=e.search,r.query=e.query,i.isNull(r.pathname)&&i.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!S.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var P=S.slice(-1)[0],I=(r.host||e.host||S.length>1)&&("."===P||".."===P)||""===P,M=0,T=S.length;T>=0;T--)"."===(P=S[T])?S.splice(T,1):".."===P?(S.splice(T,1),M++):M&&(S.splice(T,1),M--);if(!w&&!E)for(;M--;M)S.unshift("..");!w||""===S[0]||S[0]&&"/"===S[0].charAt(0)||S.unshift(""),I&&"/"!==S.join("/").substr(-1)&&S.push("");var k,C=""===S[0]||S[0]&&"/"===S[0].charAt(0);A&&(r.hostname=r.host=C?"":S.length?S.shift():"",(k=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=k.shift(),r.host=r.hostname=k.shift()));return(w=w||r.host&&S.length)&&!C&&S.unshift(""),S.length?r.pathname=S.join("/"):(r.pathname=null,r.path=null),i.isNull(r.pathname)&&i.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=e.auth||r.auth,r.slashes=r.slashes||e.slashes,r.href=r.format(),r},o.prototype.parseHost=function(){var e=this.host,t=s.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},function(e,t,r){(function(e,n){var i;/*! https://mths.be/punycode v1.4.1 by @mathias */!function(o){t&&t.nodeType,e&&e.nodeType;var a="object"==typeof n&&n;a.global!==a&&a.window!==a&&a.self;var s,u=2147483647,l=36,c=1,d=26,f=38,p=700,h=72,g=128,y="-",m=/^xn--/,_=/[^\x20-\x7E]/,v=/[\x2E\u3002\uFF0E\uFF61]/g,b={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},w=l-c,E=Math.floor,S=String.fromCharCode;function A(e){throw new RangeError(b[e])}function P(e,t){for(var r=e.length,n=[];r--;)n[r]=t(e[r]);return n}function I(e,t){var r=e.split("@"),n="";return r.length>1&&(n=r[0]+"@",e=r[1]),n+P((e=e.replace(v,".")).split("."),t).join(".")}function M(e){for(var t,r,n=[],i=0,o=e.length;i<o;)(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<o?56320==(64512&(r=e.charCodeAt(i++)))?n.push(((1023&t)<<10)+(1023&r)+65536):(n.push(t),i--):n.push(t);return n}function T(e){return P(e,(function(e){var t="";return e>65535&&(t+=S((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=S(e)})).join("")}function k(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function C(e,t,r){var n=0;for(e=r?E(e/p):e>>1,e+=E(e/t);e>w*d>>1;n+=l)e=E(e/w);return E(n+(w+1)*e/(e+f))}function x(e){var t,r,n,i,o,a,s,f,p,m,_,v=[],b=e.length,w=0,S=g,P=h;for((r=e.lastIndexOf(y))<0&&(r=0),n=0;n<r;++n)e.charCodeAt(n)>=128&&A("not-basic"),v.push(e.charCodeAt(n));for(i=r>0?r+1:0;i<b;){for(o=w,a=1,s=l;i>=b&&A("invalid-input"),((f=(_=e.charCodeAt(i++))-48<10?_-22:_-65<26?_-65:_-97<26?_-97:l)>=l||f>E((u-w)/a))&&A("overflow"),w+=f*a,!(f<(p=s<=P?c:s>=P+d?d:s-P));s+=l)a>E(u/(m=l-p))&&A("overflow"),a*=m;P=C(w-o,t=v.length+1,0==o),E(w/t)>u-S&&A("overflow"),S+=E(w/t),w%=t,v.splice(w++,0,S)}return T(v)}function D(e){var t,r,n,i,o,a,s,f,p,m,_,v,b,w,P,I=[];for(v=(e=M(e)).length,t=g,r=0,o=h,a=0;a<v;++a)(_=e[a])<128&&I.push(S(_));for(n=i=I.length,i&&I.push(y);n<v;){for(s=u,a=0;a<v;++a)(_=e[a])>=t&&_<s&&(s=_);for(s-t>E((u-r)/(b=n+1))&&A("overflow"),r+=(s-t)*b,t=s,a=0;a<v;++a)if((_=e[a])<t&&++r>u&&A("overflow"),_==t){for(f=r,p=l;!(f<(m=p<=o?c:p>=o+d?d:p-o));p+=l)P=f-m,w=l-m,I.push(S(k(m+P%w,0))),f=E(P/w);I.push(S(k(f,0))),o=C(r,b,n==i),r=0,++n}++r,++t}return I.join("")}s={version:"1.4.1",ucs2:{decode:M,encode:T},decode:x,encode:D,toASCII:function(e){return I(e,(function(e){return _.test(e)?"xn--"+D(e):e}))},toUnicode:function(e){return I(e,(function(e){return m.test(e)?x(e.slice(4).toLowerCase()):e}))}},void 0===(i=function(){return s}.call(t,r,t,e))||(e.exports=i)}()}).call(this,r(345)(e),r(149))},function(e,t,r){"use strict";e.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},function(e,t,r){"use strict";t.decode=t.parse=r(1004),t.encode=t.stringify=r(1005)},function(e,t,r){"use strict";function n(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,r,o){t=t||"&",r=r||"=";var a={};if("string"!=typeof e||0===e.length)return a;var s=/\+/g;e=e.split(t);var u=1e3;o&&"number"==typeof o.maxKeys&&(u=o.maxKeys);var l=e.length;u>0&&l>u&&(l=u);for(var c=0;c<l;++c){var d,f,p,h,g=e[c].replace(s,"%20"),y=g.indexOf(r);y>=0?(d=g.substr(0,y),f=g.substr(y+1)):(d=g,f=""),p=decodeURIComponent(d),h=decodeURIComponent(f),n(a,p)?i(a[p])?a[p].push(h):a[p]=[a[p],h]:a[p]=h}return a};var i=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},function(e,t,r){"use strict";var n=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,r,s){return t=t||"&",r=r||"=",null===e&&(e=void 0),"object"==typeof e?o(a(e),(function(a){var s=encodeURIComponent(n(a))+r;return i(e[a])?o(e[a],(function(e){return s+encodeURIComponent(n(e))})).join(t):s+encodeURIComponent(n(e[a]))})).join(t):s?encodeURIComponent(n(s))+r+encodeURIComponent(n(e)):""};var i=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function o(e,t){if(e.map)return e.map(t);for(var r=[],n=0;n<e.length;n++)r.push(t(e[n],n));return r}var a=Object.keys||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t}},,,,function(e,t,r){var n;window,n=function(e,t,r){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=8)}([function(t,r){t.exports=e},function(e,r){e.exports=t},function(e,t){e.exports=r},function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t){return e.call(this,"An error occurred trying to append to the buffer.",t)||this}return i(t,e),t.prototype.getCode=function(){return"HLS_MSE_PLAYER.APPEND_ERROR"},t}(r(0).errors.PlayerFatalError);t.AppendError=o},function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t){return e.call(this,"An error occurred trying to initialize the buffer.",t)||this}return i(t,e),t.prototype.getCode=function(){return"HLS_MSE_PLAYER.INITIALIZE_ERROR"},t}(r(0).errors.PlayerFatalError);t.InitializeError=o},function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t){var r=e.call(this,"An error occurred when trying to retrieve a playlist/segment/key.",t)||this;return r._internalRetrievalError=t,r}return i(t,e),t.prototype.getCode=function(){return"HLS_MSE_PLAYER.RETRIEVAL_ERROR."+this._internalRetrievalError.getCode()},t}(r(0).errors.PlayerError);t.RetrievalError=o},function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(){return e.call(this,"A transmuxer could not be found.")||this}return i(t,e),t.prototype.getCode=function(){return"HLS_MSE_PLAYER.NO_TRANSMUXER_ERROR"},t}(r(0).errors.NotSupportedError);t.NoTransmuxerError=o},function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.getCode=function(){return"HLS_MSE_PLAYER.PLAYLIST_UPDATE_ERROR"},t}(r(0).errors.PlayerFatalError);t.PlaylistUpdateError=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.version="29.5.1",t.buildNumber=1996;var n=r(9);t.HLSMSEPlayer=n.HLSMSEPlayer;var i=r(15);t.errors=i.errors;var o=r(1);t.retrievalErrors=o.retrievalErrors},function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var o=r(0),a=r(1),s=r(2),u=r(10),l=r(14),c=r(3),d=r(4),f=r(5),p=r(6),h=r(7),g=o.helpers.find,y=o.helpers.Promise,m=o.helpers.time.now,_=o.errors.PlayerFatalError,v=o.eventDispatcher.EventDispatcher,b=o.logger.prefixLogger,w=o.helpers.abortableJob.abortedError,E=o.helpers.browser.isSafari();function S(e){if(e.hasEnded()){var t=e.getCompleteDuration();if(null===t)throw new Error("Expected playlist duration to be available.");return t}return 1/0}function A(e){var t=a.TransmuxerFactory.retrieveTransmuxers(e),r=g(t,(function(t){var r=s.helpers.mimeType.buildMimeTypeFromFormat(t.getOutputFormat(),e);return!!r&&u.MSE.isSupported(r)}))||null;if(!r)return null;var n=r.getOutputFormat(),i=s.helpers.mimeType.buildMimeTypeFromFormat(n,e);return i?{transmuxer:r,mimeType:i}:null}var P=function(e){function t(t,r){var n=e.call(this,r)||this;if(n._onSegmentRequestQueued=new v,n._onSegmentRequestStart=new v,n._onSegmentRetrieved=new v,n._onSegmentRequestFailed=new v,n._onSegmentReady=new v,n._onSegmentAppendQueued=new v,n._onSegmentAppendEnd=new v,n._playlist=null,n._playlistSegmentRetriever=null,n._playlistUpdateJob=null,n._initialPlaylistRetrieveCompleted=!1,n._playlistUpdateTimer=null,n._earliestAllowedNextUpdateTime=m(),n._mse=null,n._simpleMSE=null,n._transmuxerAndMimeType=null,n._lastSegmentAppended=null,n._maxBufferLength=null,n._cacheSize=null,n._playlistUpdateEventHandle=null,n._playlistDuration=null,n._logger=b(n._logger,"HLSMSEPlayer"),void 0!==r.maxBufferLength&&r.maxBufferLength<0)throw new Error("maxBufferLength cannot be < 0.");if(void 0!==r.memoryCacheSize&&r.memoryCacheSize<0)throw new Error("memoryCacheSize cannot be < 0.");return n.onSegmentRequestQueued=n._onSegmentRequestQueued.getHandle(),n.onSegmentRequestStart=n._onSegmentRequestStart.getHandle(),n.onSegmentRetrieved=n._onSegmentRetrieved.getHandle(),n.onSegmentRequestFailed=n._onSegmentRequestFailed.getHandle(),n.onSegmentReady=n._onSegmentReady.getHandle(),n.onSegmentAppendQueued=n._onSegmentAppendQueued.getHandle(),n.onSegmentAppendEnd=n._onSegmentAppendEnd.getHandle(),n.__descriptor=t,n.__playerDependencies=r,n._queuedPlaylist=t.playlist,n}return i(t,e),t.isFormatSupported=function(e){return!!u.MSE.isSupported()&&!!A(e)},t.prototype.getBufferedTimeRanges=function(){var e=this._playlistSegmentRetriever;return e?o.TimeRange.normalize(e.getSegmentsWithData().map((function(e){return e.segment.getTimeRange()}))):[]},t.prototype.getCompleteBufferedTimeRanges=function(){var e=this._playlistSegmentRetriever;return e?o.TimeRange.normalize(e.getSegmentsWithData().filter((function(e){return e.complete})).map((function(e){return e.segment.getTimeRange()}))):[]},t.prototype.getMaxBufferLength=function(){return this._maxBufferLength},t.prototype.getBufferController=function(){var e=this;return{setMaxBufferLength:function(t){if(t<0)throw new Error("Max buffer length cannot be < 0.");e._logger.debug("Updating max buffer length.",t),e._maxBufferLength=t,e._playlistSegmentRetriever?e._playlistSegmentRetriever.updateMaxBufferLength(t):e._logger.debug("Cannot update right now. Playlist segment retriever doesn't exist.")}}},t.prototype.switchPlaylist=function(e){if(this._logger.debug("Updating playlist."),!this._hasInitialized())return this._logger.debug("Cannot update right now. Still initializing."),void(this._queuedPlaylist=e);this._playlistSegmentRetriever&&(this._playlistSegmentRetriever.switchPlaylist(null),this._logger.debug("Removed current URL.")),this._disposePlaylist(),this._setPlaylist(e)},t.prototype.getMemoryCacheMaxSize=function(){return null!==this._cacheSize?this._cacheSize:1e8},t.prototype.getMemoryCacheUsage=function(){return this._playlistSegmentRetriever?this._playlistSegmentRetriever.getCacheUsage():0},t.prototype.getMemoryCacheController=function(){var e=this;return{setMaxCacheSize:function(t){if(t<0)throw new Error("Max size cannot be < 0.");e._cacheSize=t,e._playlistSegmentRetriever&&e._playlistSegmentRetriever.updateCacheSize(t)}}},t.prototype._canPlay=function(){if(!u.MSE.isSupported())return this._logger.debug("MSE not supported."),y.resolve(!1);var e=A(this.__descriptor.segmentFormat);return e?(this._transmuxerAndMimeType=e,y.resolve(!0)):(this._logger.debug("No transmuxer found."),y.resolve(new p.NoTransmuxerError))},t.prototype._getUrlForMediaElement=function(){if(!this._mse)throw new Error("MSE does not exist.");return this._mse.getUrl()},t.prototype._handleDurationUpdates=function(){},t.prototype._initialize=function(){var t=this.__playerDependencies;if(null===this._maxBufferLength&&(void 0!==t.maxBufferLength?this._maxBufferLength=t.maxBufferLength:this._maxBufferLength=3e4),this._logger.debug("Initialized max buffer length.",this._maxBufferLength),null===this._cacheSize&&(void 0!==t.memoryCacheSize?this._cacheSize=t.memoryCacheSize:this._cacheSize=1e8),this._logger.debug("Initialized cache size.",this._cacheSize),e.prototype._initialize.call(this),!this._queuedPlaylist)throw new Error("Playlist should exist.");this._setPlaylist(this._queuedPlaylist),this._queuedPlaylist=null},t.prototype._initMediaElement=function(t,r){this._simpleMSE&&(this._simpleMSE.kill(),this._simpleMSE=null,this._logger.debug("Killed SimpleMSE.")),this._mse&&(this._mse.kill(),this._mse=null,this._logger.debug("Killed MSE.")),r?(this._initMSE(),this._initSimpleMSE(),e.prototype._initMediaElement.call(this,t,!0)):e.prototype._initMediaElement.call(this,t,!1)},t.prototype._shouldBeEnded=function(){var t=this._lastSegmentAppended;if(!t||!t.isFinalSegment())return!1;if(!E)return e.prototype._shouldBeEnded.call(this);if(e.prototype._shouldBeEnded.call(this))return!0;if(!this.getMediaElement())return!1;var r=this._duration;return this._stallDetected&&null!==r&&this._getMediaElementPosition()>=r-600},t.prototype._handleSeekChange=function(t,r){e.prototype._handleSeekChange.call(this,t,r),this._playlistSegmentRetriever&&(this._logger.debug("Explicitly updating playlist segment retriever, as seek requested."),this._playlistSegmentRetriever.update(),this._findSegmentAndAppendToMSE())},t.prototype._performSeek=function(t,r){return this._mse&&!o.TimeRange.rangesContainTime(t,this._mse.getBuffered())&&(this._logger.debug("Seeking to an unbuffered area."),this._initSimpleMSE()),e.prototype._performSeek.call(this,t,r)},t.prototype._kill=function(){this._simpleMSE&&(this._logger.debug("Killing SimpleMSE."),this._simpleMSE.kill(),this._simpleMSE=null),this._mse&&(this._logger.debug("Killing MSE."),this._mse.kill(),this._mse=null),this._playlistSegmentRetriever&&(this._logger.debug("Killing playlist segment retriever."),this._playlistSegmentRetriever.kill(),this._playlistSegmentRetriever=null),this._disposePlaylist(),e.prototype._kill.call(this)},t.prototype._disposePlaylist=function(){this._playlistUpdateJob&&(this._logger.debug("Aborting playlist retrieve job."),this._playlistUpdateJob.abort(),this._playlistUpdateJob=null),this._playlistUpdateTimer&&(window.clearTimeout(this._playlistUpdateTimer),this._playlistUpdateTimer=null),this._playlistUpdateEventHandle&&(this._playlistUpdateEventHandle.remove(),this._playlistUpdateEventHandle=null),this._playlist=null},t.prototype._initMSE=function(){var e=this;if(!this._transmuxerAndMimeType)throw new Error("Transmuxer should have been configured.");var t=this._mse=new u.MSE(this._transmuxerAndMimeType.mimeType,this._logger);t.whenInitialized().then((function(){e._duration&&t.updateDuration(e._duration).catch((function(t){e._logger.warn("Error updating MSE duration.",t)}))})).catch((function(t){t!==u.killedError&&(e._logger.error("Error during mse initialization.",t),e._triggerError(new d.InitializeError(t)))}))},t.prototype._initSimpleMSE=function(){var e=this;if(!this._mse)throw new Error("MSE should exist.");this._simpleMSE&&this._simpleMSE.kill(),this._lastSegmentAppended=null;var t=this._simpleMSE=new l.SimpleMSE(this._mse,(function(){return e._getSegmentDataToAppendNext()}),(function(){return e._getMediaElementPosition()}),(function(t){e._triggerError(new c.AppendError(t))}),this._logger);t.onAppendQueued.subscribe(this._onSegmentAppendQueued.dispatch),t.onAppendEnd.subscribe((function(t){if(E){var r=e.getMediaElement();r&&e._isMediaElementPaused(r)&&r.ended&&e.isActuallyPlaying()&&(e._logger.debug("Calling play() on media element because we just appended something and should be playing."),e._callMediaElementPlay(r))}e._onSegmentAppendEnd.dispatch(t)})),t.start()},t.prototype._getMediaElementPosition=function(){var e=this.getMediaElement();if(!e)throw new Error("No media element.");return 1e3*e.currentTime},t.prototype._whenPlaylistRetrieved=function(){var e=this,t=this._playlist;if(!t)throw new Error("Playlist should have been retrieved.");if(this._playlistUpdateEventHandle=t.onUpdated.subscribe((function(){e._updateLocalDurationsFromPlaylist(),e._handleDurationChange(),e._schedulePlaylistUpdate()})),this._initialPlaylistRetrieveCompleted){var r=S(t);if(this._playlistDuration<r)return this._logger.error("The duration from the new playlist was less than the previous one."),void this._triggerError(new h.PlaylistUpdateError("The duration from the new playlist was less than the previous one.",{oldDuration:this._playlistDuration,newDuration:r}))}if(!this._transmuxerAndMimeType)throw new Error("Transmuxer should have been configured.");if(this._playlistSegmentRetriever)this._logger.debug("Switching playlist for playlist segment retriever."),this._playlistSegmentRetriever.switchPlaylist(t);else{var n=this._maxBufferLength;if(null===n)throw new Error("maxBufferLength should have been initiaized by now.");this._logger.debug("Creating playlist segment retriever.");var i=this._cacheSize;if(null===i)throw new Error("cacheSize should be set.");var o=new a.PlaylistSegmentRetriever({playlist:t,getPosition:function(){return e.getPosition()},maxBufferLength:n,cacheSize:i,transmuxer:this._transmuxerAndMimeType.transmuxer,logger:this._logger});o.onSegmentRequestQueued.subscribe(this._onSegmentRequestQueued.dispatch),o.onSegmentRequestStart.subscribe(this._onSegmentRequestStart.dispatch),o.onSegmentRetrieved.subscribe(this._onSegmentRetrieved.dispatch),o.onSegmentRequestFailed.subscribe(this._onSegmentRequestFailed.dispatch),this._playlistSegmentRetriever=o,o.onError.subscribe((function(t){e._logger.error("Error from playlist segment retriever.",t),t instanceof a.retrievalErrors.RetrievalError?e._triggerError(new f.RetrievalError(t)):e._triggerError(new _("Unexpected error when trying to retrieve segment.",t))})),o.onSegmentDataRetrieveStarted.subscribe((function(t){var r=t.segment;e._logger.debug("Segment retrieve started.",r.getEventRepresentation()),e._findSegmentAndAppendToMSE(),e._updateLocalDurationsFromPlaylist(),e._handleDurationChange(),e._onSegmentReady.dispatch({segment:r.getEventRepresentation()})}))}t.hasEnded()||this._schedulePlaylistUpdate(),this._updateLocalDurationsFromPlaylist(),this._update((function(){e._handleDurationChange(),e._initialPlaylistRetrieveCompleted=!0}))},t.prototype._schedulePlaylistUpdate=function(){var e=this,t=this._playlist;if(!t)throw new Error("Playlist should exist.");if((!this._playlistUpdateJob||this._playlistUpdateJob.hasCompleted())&&(this._playlistUpdateTimer&&(window.clearTimeout(this._playlistUpdateTimer),this._playlistUpdateTimer=null),!t.hasEnded())){var r=this.isPlaying()?t.getDuration()-this.getPosition()-1e4:1/0,n=t.getExpireTime(),i=n?m()-n:1/0,o=Math.max(0,this._earliestAllowedNextUpdateTime-m()),s=Math.max(o,Math.min(r,i,t.getType()===a.PlaylistType.EVENT?1e4:1/0));s<1/0&&(this._earliestAllowedNextUpdateTime=m()+2e3,this._playlistUpdateTimer=window.setTimeout((function(){e._playlistUpdateTimer=null,(e._playlistUpdateJob=t.update()).onError((function(t){t!==w&&(e._handlePlaylistUpdateError(t),e._schedulePlaylistUpdate())}))}),s))}},t.prototype._updateLocalDurationsFromPlaylist=function(){var e=this,t=this._playlist;if(!t)throw new Error("Missing playlist.");var r=this._duration=S(t),n=this._mse;n&&n.whenInitialized().then((function(){return n.updateDuration(r)})).catch((function(t){e._logger.warn("Error updating MSE duration.",t)})),this._playlistDuration=t.getDuration()},t.prototype._findSegmentAndAppendToMSE=function(){var e=this._simpleMSE;if(e&&e.waitingForSegmentData()){var t=this._getSegmentDataToAppendNext();t&&(this._logger.debug("Providing segment to SimpleMSE.",t.eventRepresentation),e.provideNextSegmentData(t))}},t.prototype._setPlaylist=function(e){var t=this;if(this._playlist)throw new Error("Playlist already exists.");this._playlist=e,this._playlistUpdateJob=this._playlist.update(),this._playlistUpdateJob.onCompletion((function(){t._logger.debug("Playlist retrieved."),t._whenPlaylistRetrieved()})),this._playlistUpdateJob.onError((function(e){e!==w&&t._handlePlaylistUpdateError(e)}))},t.prototype._handlePlaylistUpdateError=function(e){this._logger.error("Error when retrieving playlist.",e),e instanceof a.retrievalErrors.RetrievalError?this._triggerError(new f.RetrievalError(e)):this._triggerError(new _("Unexpected error when retrieving playlist.",e))},t.prototype._getSegmentDataToAppendNext=function(){var e=this._lastSegmentAppended;this._logger.debug("Looking for segment to append next.",!!e);var t=this._playlistSegmentRetriever;if(!t)return this._logger.debug("No segment retriever."),null;if(e)return(r=this._getSubsequentSegment(e))?(i=r.segment,this._logger.debug("Found segment.",i.getEventRepresentation()),this._lastSegmentAppended=i,{data:r.dataRetrieveJob,startTime:i.getTimeRange().start,eventRepresentation:i.getEventRepresentation()}):(this._logger.debug("No segment found."),e.isFinalSegment()&&(this._logger.debug("The last segment we appended was the last one in the stream. Signalling EOS."),this._signalEOS()),null);var r,n=this.getPosition();if(!(r=g(t.getSegmentsWithData(),(function(e){return e.segment.getTimeRange().containsTime(n)}))))return this._logger.debug("No segment found.",n),null;var i=r.segment,o=r.dataRetrieveJob,a=n-i.getTimeRange().start;if(!this.getMediaElement())throw new Error("Media element should exist.");var s={data:o,startTime:i.getTimeRange().start,eventRepresentation:i.getEventRepresentation()};if(!i.isFinalSegment())for(var u=i.getTimeRange().duration-a;u<1e3;){var l=this._getSubsequentSegment(i);if(!l)return this._logger.debug("Not enough segments to cover min append duration.",u),null;l.segment.isFinalSegment()?u=1/0:u+=l.segment.getTimeRange().duration}return this._logger.debug("Found initial segment.",i.getEventRepresentation()),this._lastSegmentAppended=i,s},t.prototype._getSubsequentSegment=function(e){var t=this._playlistSegmentRetriever;if(!t)return this._logger.debug("No segment retriever."),null;var r=t.getSegmentsWithData(),n=r[r.map((function(e){return e.segment.getSequenceNumber()})).indexOf(e.getSequenceNumber())+1];return n&&n.segment.getTimeRange().start===e.getTimeRange().end?n:null},t.prototype._signalEOS=function(){var e=this;this._logger.debug("Signalling EOS."),this._simpleMSE&&(this._simpleMSE.kill(),this._logger.debug("Killed SimpleMSE."),this._simpleMSE=null);var t=this._mse;t&&!t.eosSignalled()&&t.signalEOS().catch((function(r){t===e._mse&&("InvalidStateError"!==r.name?(e._logger.error("Error occurred when signalling EOS.",r),e._triggerError(new c.AppendError(r))):e._logger.error("InvalidStateError occurred when signalling EOS.",r))}))},t}(s.HTML5PlayerBase);t.HLSMSEPlayer=P},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),i=r(2),o=r(11),a=n.helpers.deferred.buildDeferred,s=i.helpers.timeRanges.buildTimeRanges,u=n.helpers.Promise,l=n.logger.prefixLogger,c=n.logger.noOpLogger,d=n.helpers.browser.isIE(),f=n.helpers.browser.isSafari(),p=n.helpers.browser.isEdge(),h='audio/mp4; codecs="mp3"',g=n.helpers.browser.getSafariVersion(),y=n.helpers.browser.getChromeVersion(),m=f||!!(y&&y.major<=49),_=!!g&&g.major<10||!!y&&y.major<=49;t.killedError=new Error("MSE killed.");var v=function(){function e(e,t){var r=this.constructor;if(void 0===t&&(t=c),this._sourceBuffer=null,this._initialized=!1,this._initializeDeferred=a(),this._whenIdleDeferred=a(),this._error=null,this._dead=!1,this._eosSignalled=!1,this._pendingActions=[],this._currentAction=null,this._pendingStartTime=0,this._logger=l(t,"MSE"),this._onMediaSourceInit=this._onMediaSourceInit.bind(this),this._onMediaSourceError=this._onMediaSourceError.bind(this),this._onSourceBufferUpdateEnd=this._onSourceBufferUpdateEnd.bind(this),this._onSourceBufferError=this._onSourceBufferError.bind(this),!r.isSupported(e))throw this._logger.error("Not supported."),new Error("Not supported.");f&&e===h&&(e="audio/mp4"),this._type=e,this._useSegmentsMode=_&&0===e.indexOf("audio/mp4"),this._mediaSource=new MediaSource,this._mediaSource.addEventListener("sourceopen",this._onMediaSourceInit,!1),this._mediaSource.addEventListener("error",this._onMediaSourceError,!1),this._mediaSource.addEventListener("sourceended",this._onSourceBufferUpdateEnd,!1),this._url=URL.createObjectURL(this._mediaSource),this._logger.debug("Created URL.",this._url)}return e.isSupported=function(e){return!d&&"MediaSource"in window&&(!e||!(!f||e!==h)||!(g&&g.major<10&&"audio/mpeg"===e)&&!(y&&y.major<50&&'audio/webm; codecs="opus"'===e)&&MediaSource.isTypeSupported(e))},e.prototype.whenInitialized=function(){return this._initializeDeferred.promise},e.prototype.whenIdle=function(){return this._whenIdleDeferred?this._whenIdleDeferred.promise:u.resolve(void 0)},e.prototype.isIdle=function(){return this._dead||!this._whenIdleDeferred},e.prototype.hasInitialized=function(){return this._initialized},e.prototype.getError=function(){return this._error},e.prototype.getUrl=function(){return this._ensureNotDead(),this._url},e.prototype.getBuffered=function(){if(this._ensureNotDead(),!this._sourceBuffer)return[];try{return s(this._sourceBuffer.buffered)}catch(e){if("InvalidStateError"===e.name&&"Failed to read the 'buffered' property from 'SourceBuffer': This SourceBuffer has been removed from the parent media source."===e.message)return[];throw e}},e.prototype.append=function(e,t){if(void 0===t&&(t=null),this._ensureNotDead(),this._ensureInitialized(),this._logger.debug("append() called.",t),m&&0===this._type.indexOf("audio/mp4")){this._logger.debug("Rewriting internal timestamp to 0.");try{e=o.clearMP4InternalTimestamp(e,!this._useSegmentsMode)}catch(e){return this._logger.error("Error rewriting timestamps.",e),this._handleError(e),u.reject(e)}}var r=a();if(null!==t&&this._sourceBuffer&&this._sourceBuffer.buffered.length){var i=new n.TimeRange(0,1/0);this._pendingActions.push({type:"remove",deferred:a(),range:i,abort:!0})}return this._pendingActions.push({type:"append",data:e,deferred:r,startTime:t}),this._eosSignalled=!1,this._performNextAction(),r.promise},e.prototype.remove=function(e){if(0===e.duration)throw new Error("Remove range must have a duration > 0.");this._ensureNotDead(),this._ensureInitialized(),this._logger.debug("remove() called.",e);var t=a();return this._pendingActions.push({type:"remove",range:e,deferred:t,abort:!1}),this._eosSignalled=!1,this._performNextAction(),t.promise},e.prototype.signalEOS=function(){if(this._ensureNotDead(),this._ensureInitialized(),this._logger.debug("signalEOS() called."),this._eosSignalled)return this._logger.debug("Ignoring because already signalled EOS."),u.resolve();this._eosSignalled=!0;var e=a();return this._pendingActions.push({type:"eos",deferred:e}),this._performNextAction(),e.promise},e.prototype.updateDuration=function(e){if(e<=0)throw new Error("Duration must be > 0.");this._ensureNotDead(),this._ensureInitialized(),this._logger.debug("updateDuration() called.",e);var t=a();return this._pendingActions.push({type:"duration",duration:e,deferred:t}),this._performNextAction(),t.promise},e.prototype.eosSignalled=function(){return this._eosSignalled},e.prototype.kill=function(){if(!this._dead){this._logger.debug("kill() called."),this._dead=!0,this._mediaSource.removeEventListener("sourceopen",this._onMediaSourceInit,!1),this._mediaSource.removeEventListener("sourceended",this._onSourceBufferUpdateEnd,!1),this._mediaSource.removeEventListener("error",this._onMediaSourceError,!1),this._sourceBuffer&&(this._sourceBuffer.removeEventListener("updateend",this._onSourceBufferUpdateEnd,!1),this._sourceBuffer.removeEventListener("error",this._onSourceBufferError,!1)),URL.revokeObjectURL(this._url);var e=this._error||t.killedError,r=this._currentAction?[this._currentAction]:[];(r=r.concat(this._pendingActions)).forEach((function(t){t.deferred.reject(e)})),this._whenIdleDeferred||(this._whenIdleDeferred=a()),this._whenIdleDeferred.reject(e),this._initialized||this._initializeDeferred.reject(e),this._pendingActions.length=0,this._logger.debug("Killed.")}},e.prototype._ensureInitialized=function(){if(!this._initialized)throw new Error("Not initialized yet.")},e.prototype._ensureNotDead=function(){if(this._error)throw new Error("MSE is dead because of error: "+this._error.message);if(this._dead)throw new Error("MSE is dead.")},e.prototype._onMediaSourceInit=function(){this._logger.debug("MSE initialized."),this._mediaSource.removeEventListener("sourceopen",this._onMediaSourceInit,!1);try{this._logger.debug("Creating source buffer.",this._type),this._sourceBuffer=this._mediaSource.addSourceBuffer(this._type),this._sourceBuffer.mode=this._useSegmentsMode?"segments":"sequence",this._logger.debug("Using append mode: "+this._sourceBuffer.mode),this._sourceBuffer.addEventListener("updateend",this._onSourceBufferUpdateEnd,!1),this._sourceBuffer.addEventListener("error",this._onSourceBufferError,!1)}catch(e){this._handleError(e)}this._initializeDeferred.resolve(void 0),this._whenIdleDeferred.resolve(void 0),this._initialized=!0,this._performNextAction()},e.prototype._onMediaSourceError=function(e){this._handleError(e)},e.prototype._handleError=function(e){this._logger.error("Error occurred.",e),this._dead||(this._error=e||new Error("Unknown error."),this.kill())},e.prototype._onSourceBufferUpdateEnd=function(){if(!this._dead){var e=this._currentAction;if(e){var t=this.getBuffered();this._logger.debug("Update ended.",t),null!==this._pendingStartTime&&n.TimeRange.getCoverage(t).end>this._pendingStartTime&&(this._pendingStartTime=null),this._currentAction=null,e.deferred.resolve(void 0),this._performNextAction()}else this._logger.debug("Ignoring stray updateend event.")}},e.prototype._onSourceBufferError=function(e){this._handleError(e)},e.prototype._performNextAction=function(){var e=this,t=this._whenIdleDeferred;if(!this._currentAction&&this._sourceBuffer){var r=this._pendingActions.shift();if(!r)return this._logger.debug("No more actions."),void(t&&(this._whenIdleDeferred=null,t.resolve(void 0)));switch(t||(this._whenIdleDeferred=a()),this._currentAction=r,this._logger.debug("Performing next action...",r),r.type){case"append":null!==r.startTime&&(this._pendingStartTime=r.startTime);var i=n.TimeRange.getCoverage(this.getBuffered());try{if(null!==this._pendingStartTime)this._setTimestampOffset(this._sourceBuffer,this._pendingStartTime);else if("segments"===this._sourceBuffer.mode){var o=i.end;this._logger.debug('Setting timestampOffset because in "segments" mode.',o),this._setTimestampOffset(this._sourceBuffer,o)}this._logger.debug("Calling appendBuffer()."),this._sourceBuffer.appendBuffer(r.data)}catch(e){this._handleError(e)}break;case"remove":try{var s=r.range;this._logger.debug("Calling remove().",s.start,s.end),!r.abort||f||p||"open"!==this._mediaSource.readyState||this._sourceBuffer.abort(),this._sourceBuffer.remove(s.start/1e3,s.end/1e3)}catch(e){this._handleError(e)}break;case"duration":this._logger.debug("Updating duration.",r.duration);try{this._mediaSource.duration=r.duration/1e3,window.setTimeout((function(){return e._onSourceBufferUpdateEnd()}),0)}catch(t){this._mediaSource.duration>=r.duration/1e3?(this._logger.warn("Failed to update MSE durtion but ignoring because current one is higher.",t),window.setTimeout((function(){return e._onSourceBufferUpdateEnd()}),0)):(this._logger.error("Could not update MSE durtion.",t),this._handleError(t))}break;case"eos":try{this._logger.debug("Calling endOfStream()."),this._mediaSource.endOfStream()}catch(e){this._handleError(e)}break;default:this._handleError(new Error("Unknown action."))}}},e.prototype._setTimestampOffset=function(e,t){try{return e.timestampOffset=t/1e3,!0}catch(e){if(11===e.code)return this._logger.debug("Failed to set timestampOffset.",e),!1;throw e}},e}();t.MSE=v},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),i=r(12),o=8,a=1936286840,s=1836019558,u=1953653094,l=1952867444;function c(e,t){for(var r=e.byteLength,n=0;n<r;){var i=e.getUint32(n);if(1===i)throw new Error("Large atom size not supported.");if(0===i&&(i=r-n),t(e.getUint32(n+4),new DataView(e.buffer,e.byteOffset+n+o,i-o)))break;n+=i}}t.clearMP4InternalTimestamp=function(e,t){void 0===t&&(t=!1);var r=function(e){c(e,(function(e,t){return e===l&&(o(t),!0)}))},o=function(e){var r,n=e.getUint8(0);t?r=i(0):(r=i(e.getUint32(4)),n>0&&(r=(r=r.shiftLeft(32)).add(e.getUint32(8))),null===f&&(f=r),r=r.subtract(f)),n>0?(e.setUint32(4,r.shiftRight(32).toJSNumber()),e.setUint32(8,r.and(65535).toJSNumber())):e.setUint32(4,r.toJSNumber())},d=n.helpers.arrayBuffer.combine([e]),f=null;return c(new DataView(d.buffer,d.byteOffset,d.byteLength),(function(e,t){switch(e){case a:i=(n=t).getUint8(0),n.setUint32(12,0),i>0&&n.setUint32(16,0);break;case s:!function(e){c(e,(function(e,t){return e===u&&(r(t),!0)}))}(t)}var n,i;return!1})),d}},function(e,t,r){(function(e){var r,n=function(e){"use strict";var t=1e7,r=7,i=9007199254740992,o=d(i),a=Math.log(i);function s(e,t){return void 0===e?s[0]:void 0!==t?10==+t?Y(e):z(e,t):Y(e)}function u(e,t){this.value=e,this.sign=t,this.isSmall=!1}function l(e){this.value=e,this.sign=e<0,this.isSmall=!0}function c(e){return-i<e&&e<i}function d(e){return e<1e7?[e]:e<1e14?[e%1e7,Math.floor(e/1e7)]:[e%1e7,Math.floor(e/1e7)%1e7,Math.floor(e/1e14)]}function f(e){p(e);var r=e.length;if(r<4&&T(e,o)<0)switch(r){case 0:return 0;case 1:return e[0];case 2:return e[0]+e[1]*t;default:return e[0]+(e[1]+e[2]*t)*t}return e}function p(e){for(var t=e.length;0===e[--t];);e.length=t+1}function h(e){for(var t=new Array(e),r=-1;++r<e;)t[r]=0;return t}function g(e){return e>0?Math.floor(e):Math.ceil(e)}function y(e,r){var n,i,o=e.length,a=r.length,s=new Array(o),u=0,l=t;for(i=0;i<a;i++)u=(n=e[i]+r[i]+u)>=l?1:0,s[i]=n-u*l;for(;i<o;)u=(n=e[i]+u)===l?1:0,s[i++]=n-u*l;return u>0&&s.push(u),s}function m(e,t){return e.length>=t.length?y(e,t):y(t,e)}function _(e,r){var n,i,o=e.length,a=new Array(o),s=t;for(i=0;i<o;i++)n=e[i]-s+r,r=Math.floor(n/s),a[i]=n-r*s,r+=1;for(;r>0;)a[i++]=r%s,r=Math.floor(r/s);return a}function v(e,r){var n,i,o=e.length,a=r.length,s=new Array(o),u=0,l=t;for(n=0;n<a;n++)(i=e[n]-u-r[n])<0?(i+=l,u=1):u=0,s[n]=i;for(n=a;n<o;n++){if(!((i=e[n]-u)<0)){s[n++]=i;break}i+=l,s[n]=i}for(;n<o;n++)s[n]=e[n];return p(s),s}function b(e,r,n){var i,o,a=e.length,s=new Array(a),c=-r,d=t;for(i=0;i<a;i++)o=e[i]+c,c=Math.floor(o/d),o%=d,s[i]=o<0?o+d:o;return"number"==typeof(s=f(s))?(n&&(s=-s),new l(s)):new u(s,n)}function w(e,r){var n,i,o,a,s=e.length,u=r.length,l=h(s+u),c=t;for(o=0;o<s;++o){a=e[o];for(var d=0;d<u;++d)n=a*r[d]+l[o+d],i=Math.floor(n/c),l[o+d]=n-i*c,l[o+d+1]+=i}return p(l),l}function E(e,r){var n,i,o=e.length,a=new Array(o),s=t,u=0;for(i=0;i<o;i++)n=e[i]*r+u,u=Math.floor(n/s),a[i]=n-u*s;for(;u>0;)a[i++]=u%s,u=Math.floor(u/s);return a}function S(e,t){for(var r=[];t-- >0;)r.push(0);return r.concat(e)}function A(e,r,n){return new u(e<t?E(r,e):w(r,d(e)),n)}function P(e){var r,n,i,o,a=e.length,s=h(a+a),u=t;for(i=0;i<a;i++){n=0-(o=e[i])*o;for(var l=i;l<a;l++)r=o*e[l]*2+s[i+l]+n,n=Math.floor(r/u),s[i+l]=r-n*u;s[i+a]=n}return p(s),s}function I(e,r){var n,i,o,a,s=e.length,u=h(s),l=t;for(o=0,n=s-1;n>=0;--n)o=(a=o*l+e[n])-(i=g(a/r))*r,u[n]=0|i;return[u,0|o]}function M(e,r){var n,i,o=Y(r),a=e.value,c=o.value;if(0===c)throw new Error("Cannot divide by zero");if(e.isSmall)return o.isSmall?[new l(g(a/c)),new l(a%c)]:[s[0],e];if(o.isSmall){if(1===c)return[e,s[0]];if(-1==c)return[e.negate(),s[0]];var y=Math.abs(c);if(y<t){i=f((n=I(a,y))[0]);var m=n[1];return e.sign&&(m=-m),"number"==typeof i?(e.sign!==o.sign&&(i=-i),[new l(i),new l(m)]):[new u(i,e.sign!==o.sign),new l(m)]}c=d(y)}var _=T(a,c);if(-1===_)return[s[0],e];if(0===_)return[s[e.sign===o.sign?1:-1],s[0]];i=(n=a.length+c.length<=200?function(e,r){var n,i,o,a,s,u,l,c=e.length,d=r.length,p=t,g=h(r.length),y=r[d-1],m=Math.ceil(p/(2*y)),_=E(e,m),v=E(r,m);for(_.length<=c&&_.push(0),v.push(0),y=v[d-1],i=c-d;i>=0;i--){for(n=p-1,_[i+d]!==y&&(n=Math.floor((_[i+d]*p+_[i+d-1])/y)),o=0,a=0,u=v.length,s=0;s<u;s++)o+=n*v[s],l=Math.floor(o/p),a+=_[i+s]-(o-l*p),o=l,a<0?(_[i+s]=a+p,a=-1):(_[i+s]=a,a=0);for(;0!==a;){for(n-=1,o=0,s=0;s<u;s++)(o+=_[i+s]-p+v[s])<0?(_[i+s]=o+p,o=0):(_[i+s]=o,o=1);a+=o}g[i]=n}return _=I(_,m)[0],[f(g),f(_)]}(a,c):function(e,r){for(var n,i,o,a,s,u=e.length,l=r.length,c=[],d=[],h=t;u;)if(d.unshift(e[--u]),p(d),T(d,r)<0)c.push(0);else{o=d[(i=d.length)-1]*h+d[i-2],a=r[l-1]*h+r[l-2],i>l&&(o=(o+1)*h),n=Math.ceil(o/a);do{if(T(s=E(r,n),d)<=0)break;n--}while(n);c.push(n),d=v(d,s)}return c.reverse(),[f(c),f(d)]}(a,c))[0];var b=e.sign!==o.sign,w=n[1],S=e.sign;return"number"==typeof i?(b&&(i=-i),i=new l(i)):i=new u(i,b),"number"==typeof w?(S&&(w=-w),w=new l(w)):w=new u(w,S),[i,w]}function T(e,t){if(e.length!==t.length)return e.length>t.length?1:-1;for(var r=e.length-1;r>=0;r--)if(e[r]!==t[r])return e[r]>t[r]?1:-1;return 0}function k(e){var t=e.abs();return!t.isUnit()&&(!!(t.equals(2)||t.equals(3)||t.equals(5))||!(t.isEven()||t.isDivisibleBy(3)||t.isDivisibleBy(5))&&(!!t.lesser(25)||void 0))}u.prototype=Object.create(s.prototype),l.prototype=Object.create(s.prototype),u.prototype.add=function(e){var t=Y(e);if(this.sign!==t.sign)return this.subtract(t.negate());var r=this.value,n=t.value;return t.isSmall?new u(_(r,Math.abs(n)),this.sign):new u(m(r,n),this.sign)},u.prototype.plus=u.prototype.add,l.prototype.add=function(e){var t=Y(e),r=this.value;if(r<0!==t.sign)return this.subtract(t.negate());var n=t.value;if(t.isSmall){if(c(r+n))return new l(r+n);n=d(Math.abs(n))}return new u(_(n,Math.abs(r)),r<0)},l.prototype.plus=l.prototype.add,u.prototype.subtract=function(e){var t=Y(e);if(this.sign!==t.sign)return this.add(t.negate());var r=this.value,n=t.value;return t.isSmall?b(r,Math.abs(n),this.sign):function(e,t,r){var n;return T(e,t)>=0?n=v(e,t):(n=v(t,e),r=!r),"number"==typeof(n=f(n))?(r&&(n=-n),new l(n)):new u(n,r)}(r,n,this.sign)},u.prototype.minus=u.prototype.subtract,l.prototype.subtract=function(e){var t=Y(e),r=this.value;if(r<0!==t.sign)return this.add(t.negate());var n=t.value;return t.isSmall?new l(r-n):b(n,Math.abs(r),r>=0)},l.prototype.minus=l.prototype.subtract,u.prototype.negate=function(){return new u(this.value,!this.sign)},l.prototype.negate=function(){var e=this.sign,t=new l(-this.value);return t.sign=!e,t},u.prototype.abs=function(){return new u(this.value,!1)},l.prototype.abs=function(){return new l(Math.abs(this.value))},u.prototype.multiply=function(e){var r,n,i,o=Y(e),a=this.value,l=o.value,c=this.sign!==o.sign;if(o.isSmall){if(0===l)return s[0];if(1===l)return this;if(-1===l)return this.negate();if((r=Math.abs(l))<t)return new u(E(a,r),c);l=d(r)}return n=a.length,i=l.length,new u(-.012*n-.012*i+15e-6*n*i>0?function e(t,r){var n=Math.max(t.length,r.length);if(n<=30)return w(t,r);n=Math.ceil(n/2);var i=t.slice(n),o=t.slice(0,n),a=r.slice(n),s=r.slice(0,n),u=e(o,s),l=e(i,a),c=e(m(o,i),m(s,a)),d=m(m(u,S(v(v(c,u),l),n)),S(l,2*n));return p(d),d}(a,l):w(a,l),c)},u.prototype.times=u.prototype.multiply,l.prototype._multiplyBySmall=function(e){return c(e.value*this.value)?new l(e.value*this.value):A(Math.abs(e.value),d(Math.abs(this.value)),this.sign!==e.sign)},u.prototype._multiplyBySmall=function(e){return 0===e.value?s[0]:1===e.value?this:-1===e.value?this.negate():A(Math.abs(e.value),this.value,this.sign!==e.sign)},l.prototype.multiply=function(e){return Y(e)._multiplyBySmall(this)},l.prototype.times=l.prototype.multiply,u.prototype.square=function(){return new u(P(this.value),!1)},l.prototype.square=function(){var e=this.value*this.value;return c(e)?new l(e):new u(P(d(Math.abs(this.value))),!1)},u.prototype.divmod=function(e){var t=M(this,e);return{quotient:t[0],remainder:t[1]}},l.prototype.divmod=u.prototype.divmod,u.prototype.divide=function(e){return M(this,e)[0]},l.prototype.over=l.prototype.divide=u.prototype.over=u.prototype.divide,u.prototype.mod=function(e){return M(this,e)[1]},l.prototype.remainder=l.prototype.mod=u.prototype.remainder=u.prototype.mod,u.prototype.pow=function(e){var t,r,n,i=Y(e),o=this.value,a=i.value;if(0===a)return s[1];if(0===o)return s[0];if(1===o)return s[1];if(-1===o)return i.isEven()?s[1]:s[-1];if(i.sign)return s[0];if(!i.isSmall)throw new Error("The exponent "+i.toString()+" is too large.");if(this.isSmall&&c(t=Math.pow(o,a)))return new l(g(t));for(r=this,n=s[1];!0&a&&(n=n.times(r),--a),0!==a;)a/=2,r=r.square();return n},l.prototype.pow=u.prototype.pow,u.prototype.modPow=function(e,t){if(e=Y(e),(t=Y(t)).isZero())throw new Error("Cannot take modPow with modulus 0");for(var r=s[1],n=this.mod(t);e.isPositive();){if(n.isZero())return s[0];e.isOdd()&&(r=r.multiply(n).mod(t)),e=e.divide(2),n=n.square().mod(t)}return r},l.prototype.modPow=u.prototype.modPow,u.prototype.compareAbs=function(e){var t=Y(e),r=this.value,n=t.value;return t.isSmall?1:T(r,n)},l.prototype.compareAbs=function(e){var t=Y(e),r=Math.abs(this.value),n=t.value;return t.isSmall?r===(n=Math.abs(n))?0:r>n?1:-1:-1},u.prototype.compare=function(e){if(e===1/0)return-1;if(e===-1/0)return 1;var t=Y(e),r=this.value,n=t.value;return this.sign!==t.sign?t.sign?1:-1:t.isSmall?this.sign?-1:1:T(r,n)*(this.sign?-1:1)},u.prototype.compareTo=u.prototype.compare,l.prototype.compare=function(e){if(e===1/0)return-1;if(e===-1/0)return 1;var t=Y(e),r=this.value,n=t.value;return t.isSmall?r==n?0:r>n?1:-1:r<0!==t.sign?r<0?-1:1:r<0?1:-1},l.prototype.compareTo=l.prototype.compare,u.prototype.equals=function(e){return 0===this.compare(e)},l.prototype.eq=l.prototype.equals=u.prototype.eq=u.prototype.equals,u.prototype.notEquals=function(e){return 0!==this.compare(e)},l.prototype.neq=l.prototype.notEquals=u.prototype.neq=u.prototype.notEquals,u.prototype.greater=function(e){return this.compare(e)>0},l.prototype.gt=l.prototype.greater=u.prototype.gt=u.prototype.greater,u.prototype.lesser=function(e){return this.compare(e)<0},l.prototype.lt=l.prototype.lesser=u.prototype.lt=u.prototype.lesser,u.prototype.greaterOrEquals=function(e){return this.compare(e)>=0},l.prototype.geq=l.prototype.greaterOrEquals=u.prototype.geq=u.prototype.greaterOrEquals,u.prototype.lesserOrEquals=function(e){return this.compare(e)<=0},l.prototype.leq=l.prototype.lesserOrEquals=u.prototype.leq=u.prototype.lesserOrEquals,u.prototype.isEven=function(){return 0==(1&this.value[0])},l.prototype.isEven=function(){return 0==(1&this.value)},u.prototype.isOdd=function(){return 1==(1&this.value[0])},l.prototype.isOdd=function(){return 1==(1&this.value)},u.prototype.isPositive=function(){return!this.sign},l.prototype.isPositive=function(){return this.value>0},u.prototype.isNegative=function(){return this.sign},l.prototype.isNegative=function(){return this.value<0},u.prototype.isUnit=function(){return!1},l.prototype.isUnit=function(){return 1===Math.abs(this.value)},u.prototype.isZero=function(){return!1},l.prototype.isZero=function(){return 0===this.value},u.prototype.isDivisibleBy=function(e){var t=Y(e),r=t.value;return 0!==r&&(1===r||(2===r?this.isEven():this.mod(t).equals(s[0])))},l.prototype.isDivisibleBy=u.prototype.isDivisibleBy,u.prototype.isPrime=function(){var e=k(this);if(void 0!==e)return e;for(var t,r,i,o,a=this.abs(),u=a.prev(),l=[2,3,5,7,11,13,17,19],c=u;c.isEven();)c=c.divide(2);for(i=0;i<l.length;i++)if(!(o=n(l[i]).modPow(c,a)).equals(s[1])&&!o.equals(u)){for(r=!0,t=c;r&&t.lesser(u);t=t.multiply(2))(o=o.square().mod(a)).equals(u)&&(r=!1);if(r)return!1}return!0},l.prototype.isPrime=u.prototype.isPrime,u.prototype.isProbablePrime=function(e){var t=k(this);if(void 0!==t)return t;for(var r=this.abs(),i=void 0===e?5:e,o=0;o<i;o++)if(!n.randBetween(2,r.minus(2)).modPow(r.prev(),r).isUnit())return!1;return!0},l.prototype.isProbablePrime=u.prototype.isProbablePrime,u.prototype.modInv=function(e){for(var t,r,i,o=n.zero,a=n.one,s=Y(e),u=this.abs();!u.equals(n.zero);)t=s.divide(u),r=o,i=s,o=a,s=u,a=r.subtract(t.multiply(a)),u=i.subtract(t.multiply(u));if(!s.equals(1))throw new Error(this.toString()+" and "+e.toString()+" are not co-prime");return-1===o.compare(0)&&(o=o.add(e)),this.isNegative()?o.negate():o},l.prototype.modInv=u.prototype.modInv,u.prototype.next=function(){var e=this.value;return this.sign?b(e,1,this.sign):new u(_(e,1),this.sign)},l.prototype.next=function(){var e=this.value;return e+1<i?new l(e+1):new u(o,!1)},u.prototype.prev=function(){var e=this.value;return this.sign?new u(_(e,1),!0):b(e,1,this.sign)},l.prototype.prev=function(){var e=this.value;return e-1>-i?new l(e-1):new u(o,!0)};for(var C=[1];2*C[C.length-1]<=t;)C.push(2*C[C.length-1]);var x=C.length,D=C[x-1];function O(e){return("number"==typeof e||"string"==typeof e)&&+Math.abs(e)<=t||e instanceof u&&e.value.length<=1}function R(e,t,r){t=Y(t);for(var i=e.isNegative(),o=t.isNegative(),a=i?e.not():e,s=o?t.not():t,u=0,l=0,c=null,d=null,f=[];!a.isZero()||!s.isZero();)u=(c=M(a,D))[1].toJSNumber(),i&&(u=D-1-u),l=(d=M(s,D))[1].toJSNumber(),o&&(l=D-1-l),a=c[0],s=d[0],f.push(r(u,l));for(var p=0!==r(i?1:0,o?1:0)?n(-1):n(0),h=f.length-1;h>=0;h-=1)p=p.multiply(D).add(n(f[h]));return p}u.prototype.shiftLeft=function(e){if(!O(e))throw new Error(String(e)+" is too large for shifting.");if((e=+e)<0)return this.shiftRight(-e);var t=this;if(t.isZero())return t;for(;e>=x;)t=t.multiply(D),e-=x-1;return t.multiply(C[e])},l.prototype.shiftLeft=u.prototype.shiftLeft,u.prototype.shiftRight=function(e){var t;if(!O(e))throw new Error(String(e)+" is too large for shifting.");if((e=+e)<0)return this.shiftLeft(-e);for(var r=this;e>=x;){if(r.isZero()||r.isNegative()&&r.isUnit())return r;r=(t=M(r,D))[1].isNegative()?t[0].prev():t[0],e-=x-1}return(t=M(r,C[e]))[1].isNegative()?t[0].prev():t[0]},l.prototype.shiftRight=u.prototype.shiftRight,u.prototype.not=function(){return this.negate().prev()},l.prototype.not=u.prototype.not,u.prototype.and=function(e){return R(this,e,(function(e,t){return e&t}))},l.prototype.and=u.prototype.and,u.prototype.or=function(e){return R(this,e,(function(e,t){return e|t}))},l.prototype.or=u.prototype.or,u.prototype.xor=function(e){return R(this,e,(function(e,t){return e^t}))},l.prototype.xor=u.prototype.xor;var L=1<<30,N=(t&-t)*(t&-t)|L;function j(e){var r=e.value,n="number"==typeof r?r|L:r[0]+r[1]*t|N;return n&-n}function F(e,t){return e=Y(e),t=Y(t),e.greater(t)?e:t}function U(e,t){return e=Y(e),t=Y(t),e.lesser(t)?e:t}function B(e,t){if(e=Y(e).abs(),t=Y(t).abs(),e.equals(t))return e;if(e.isZero())return t;if(t.isZero())return e;for(var r,n,i=s[1];e.isEven()&&t.isEven();)r=Math.min(j(e),j(t)),e=e.divide(r),t=t.divide(r),i=i.multiply(r);for(;e.isEven();)e=e.divide(j(e));do{for(;t.isEven();)t=t.divide(j(t));e.greater(t)&&(n=t,t=e,e=n),t=t.subtract(e)}while(!t.isZero());return i.isUnit()?e:e.multiply(i)}u.prototype.bitLength=function(){var e=this;return e.compareTo(n(0))<0&&(e=e.negate().subtract(n(1))),0===e.compareTo(n(0))?n(0):n(function e(t,r){if(r.compareTo(t)<=0){var i=e(t,r.square(r)),o=i.p,a=i.e,s=o.multiply(r);return s.compareTo(t)<=0?{p:s,e:2*a+1}:{p:o,e:2*a}}return{p:n(1),e:0}}(e,n(2)).e).add(n(1))},l.prototype.bitLength=u.prototype.bitLength;var z=function(e,t){for(var r=e.length,n=Math.abs(t),i=0;i<r;i++)if("-"!==(c=e[i].toLowerCase())&&/[a-z0-9]/.test(c)){if(/[0-9]/.test(c)&&+c>=n){if("1"===c&&1===n)continue;throw new Error(c+" is not a valid digit in base "+t+".")}if(c.charCodeAt(0)-87>=n)throw new Error(c+" is not a valid digit in base "+t+".")}if(2<=t&&t<=36&&r<=a/Math.log(t)){var o=parseInt(e,t);if(isNaN(o))throw new Error(c+" is not a valid digit in base "+t+".");return new l(parseInt(e,t))}t=Y(t);var s=[],u="-"===e[0];for(i=u?1:0;i<e.length;i++){var c,d=(c=e[i].toLowerCase()).charCodeAt(0);if(48<=d&&d<=57)s.push(Y(c));else if(97<=d&&d<=122)s.push(Y(c.charCodeAt(0)-87));else{if("<"!==c)throw new Error(c+" is not a valid character");var f=i;do{i++}while(">"!==e[i]);s.push(Y(e.slice(f+1,i)))}}return H(s,t,u)};function H(e,t,r){var n,i=s[0],o=s[1];for(n=e.length-1;n>=0;n--)i=i.add(e[n].times(o)),o=o.times(t);return r?i.negate():i}function G(e){return e<=35?"0123456789abcdefghijklmnopqrstuvwxyz".charAt(e):"<"+e+">"}function V(e,t){if((t=n(t)).isZero()){if(e.isZero())return{value:[0],isNegative:!1};throw new Error("Cannot convert nonzero numbers to base 0.")}if(t.equals(-1)){if(e.isZero())return{value:[0],isNegative:!1};if(e.isNegative())return{value:[].concat.apply([],Array.apply(null,Array(-e)).map(Array.prototype.valueOf,[1,0])),isNegative:!1};var r=Array.apply(null,Array(+e-1)).map(Array.prototype.valueOf,[0,1]);return r.unshift([1]),{value:[].concat.apply([],r),isNegative:!1}}var i=!1;if(e.isNegative()&&t.isPositive()&&(i=!0,e=e.abs()),t.equals(1))return e.isZero()?{value:[0],isNegative:!1}:{value:Array.apply(null,Array(+e)).map(Number.prototype.valueOf,1),isNegative:i};for(var o,a=[],s=e;s.isNegative()||s.compareAbs(t)>=0;){o=s.divmod(t),s=o.quotient;var u=o.remainder;u.isNegative()&&(u=t.minus(u).abs(),s=s.next()),a.push(u.toJSNumber())}return a.push(s.toJSNumber()),{value:a.reverse(),isNegative:i}}function q(e,t){var r=V(e,t);return(r.isNegative?"-":"")+r.value.map(G).join("")}function W(e){if(c(+e)){var t=+e;if(t===g(t))return new l(t);throw new Error("Invalid integer: "+e)}var n="-"===e[0];n&&(e=e.slice(1));var i=e.split(/e/i);if(i.length>2)throw new Error("Invalid integer: "+i.join("e"));if(2===i.length){var o=i[1];if("+"===o[0]&&(o=o.slice(1)),(o=+o)!==g(o)||!c(o))throw new Error("Invalid integer: "+o+" is not a valid exponent.");var a=i[0],s=a.indexOf(".");if(s>=0&&(o-=a.length-s-1,a=a.slice(0,s)+a.slice(s+1)),o<0)throw new Error("Cannot include negative exponent part for integers");e=a+=new Array(o+1).join("0")}if(!/^([0-9][0-9]*)$/.test(e))throw new Error("Invalid integer: "+e);for(var d=[],f=e.length,h=r,y=f-h;f>0;)d.push(+e.slice(y,f)),(y-=h)<0&&(y=0),f-=h;return p(d),new u(d,n)}function Y(e){return"number"==typeof e?function(e){if(c(e)){if(e!==g(e))throw new Error(e+" is not an integer.");return new l(e)}return W(e.toString())}(e):"string"==typeof e?W(e):e}u.prototype.toArray=function(e){return V(this,e)},l.prototype.toArray=function(e){return V(this,e)},u.prototype.toString=function(e){if(void 0===e&&(e=10),10!==e)return q(this,e);for(var t,r=this.value,n=r.length,i=String(r[--n]);--n>=0;)t=String(r[n]),i+="0000000".slice(t.length)+t;return(this.sign?"-":"")+i},l.prototype.toString=function(e){return void 0===e&&(e=10),10!=e?q(this,e):String(this.value)},u.prototype.toJSON=l.prototype.toJSON=function(){return this.toString()},u.prototype.valueOf=function(){return parseInt(this.toString(),10)},u.prototype.toJSNumber=u.prototype.valueOf,l.prototype.valueOf=function(){return this.value},l.prototype.toJSNumber=l.prototype.valueOf;for(var Z=0;Z<1e3;Z++)s[Z]=new l(Z),Z>0&&(s[-Z]=new l(-Z));return s.one=s[1],s.zero=s[0],s.minusOne=s[-1],s.max=F,s.min=U,s.gcd=B,s.lcm=function(e,t){return e=Y(e).abs(),t=Y(t).abs(),e.divide(B(e,t)).multiply(t)},s.isInstance=function(e){return e instanceof u||e instanceof l},s.randBetween=function(e,r){var n=U(e=Y(e),r=Y(r)),i=F(e,r).subtract(n).add(1);if(i.isSmall)return n.add(Math.floor(Math.random()*i));for(var o=[],a=!0,s=i.value.length-1;s>=0;s--){var c=a?i.value[s]:t,d=g(Math.random()*c);o.unshift(d),d<c&&(a=!1)}return o=f(o),n.add("number"==typeof o?new l(o):new u(o,!1))},s.fromArray=function(e,t,r){return H(e.map(Y),Y(t||10),r)},s}();e.hasOwnProperty("exports")&&(e.exports=n),void 0===(r=function(){return n}.apply(t,[]))||(e.exports=r)}).call(this,r(13)(e))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),i=n.eventDispatcher.EventDispatcher,o=n.logger.prefixLogger,a=n.logger.noOpLogger,s=function(){function e(e,t,r,n,s){void 0===s&&(s=a);var u=this;this._onAppendQueued=new i,this._onAppendEnd=new i,this._providedStartTime=!1,this._needsInitData=!0,this._updateTimerId=null,this._gcTimerId=null,this._waitingForData=!1,this._started=!1,this._error=null,this._currentRetrieveHandle=null,this._mseInitialized=!1,this._logger=o(s,"SimpleMSE"),this.onAppendQueued=this._onAppendQueued.getHandle(),this.onAppendEnd=this._onAppendEnd.getHandle(),this._mse=e,this._getNextSegmentData=t,this._getPosition=r,this._onError=n,e.whenInitialized().then((function(){u._mseInitialized=!0,!u._error&&u._started&&(u._logger.debug("MSE initialized. Preparing to update."),u._prepareUpdate())})).catch((function(e){u._error||(u._logger.error("Error when waiting for MSE to initialize.",e),u._handleError(e||new Error("Error waiting for MSE to initialize.")))}))}return e.prototype.start=function(){if(this._checkNotErrored(),this._started)throw new Error("Already started.");this._logger.debug("start() called."),this._scheduleGC(),this._started=!0,this._prepareUpdate()},e.prototype.kill=function(){this._error||(this._logger.debug("kill() called."),this._error=new Error("Killed."),this._clearTimers(),this._logger.debug("Killed."))},e.prototype.waitingForSegmentData=function(){return this._checkNotErrored(),this._waitingForData},e.prototype.provideNextSegmentData=function(e){if(this._checkNotErrored(),!this._waitingForData)throw new Error("Not waiting for data.");this._logger.debug("Segment data provided."),this._waitingForData=!1,this._update(e)},e.prototype._prepareUpdate=function(){if(!this._updateTimerId){var e=this._mse;if(this._mseInitialized){var t=e.getBuffered(),r=this._getPosition(),i=n.helpers.find(t,(function(e){return e.containsTime(r)}));if(!i||i.end<=this._getPosition()+15e3){this._logger.debug("Requesting next segment data.");var o=this._getNextSegmentData();o?(this._logger.debug("Got segment data."),this._update(o)):(this._logger.debug("Did not get any data."),this._waitingForData=!0)}else this._scheduleUpdate()}}},e.prototype._gc=function(){var e=this;if(this._mseInitialized){var t=this._mse,r=n.TimeRange.getCoverage(t.getBuffered()),i=this._getPosition()-5e3;if(r.start<i){var o=new n.TimeRange(r.start,i-r.start);this._logger.debug("Removing media that has been played.",o),t.remove(o).then((function(){e._logger.debug("Removed media that has been played.",o),e._error||e._scheduleGC()})).catch((function(t){e._logger.error("Error when attempting to remove media that has been played.",o,t),e._error||e._scheduleGC()}))}else this._scheduleGC()}else this._scheduleGC()},e.prototype._update=function(e){var t=this,r=e.data,i=e.eventRepresentation,o=e.startTime,a=this._mse;this._onAppendQueued.dispatch({segment:i}),this._logger.debug("Appending...",i,o);var s=[],u=!1,l=!1,c=!1,d=this._currentRetrieveHandle=r.run(),f=function(){if(!u&&!t._error){var e=s.shift();if(e&&!e.byteLength)t._logger.warn("Got 0 bytes to append. Skipping..."),f();else if(e){u=!0;var r=t._providedStartTime?null:o;t._logger.debug("Appending part...",i,e.byteLength,r),a.append(e,r).then((function(){t._providedStartTime=!0,u=!1,l=!0,f()})).catch((function(e){t._error||(t._logger.error("Error updating MSE.",e,i),t._handleError(e||new Error("Error updating MSE.")))}))}else c&&(t._logger.debug("Append finished.",i),l||t._logger.warn("There was nothing to append."),t._currentRetrieveHandle=null,t._onAppendEnd.dispatch({segment:i}),t._prepareUpdate())}};d.onProgressUpdate((function(e){var r;r=t._needsInitData&&e.initData?n.helpers.arrayBuffer.combine([e.initData,e.data]):e.data,t._needsInitData=!1,s.push(r),f()})),d.onError((function(e){t._error||(t._logger.error("Error whilst retrieving data.",e,i),t._handleError(e||new Error("Error retrieving data for MSE.")))})),d.onCompletion((function(){t._logger.debug("Got all data for append.",i),c=!0,f()}))},e.prototype._scheduleUpdate=function(){var e=this;this._updateTimerId=window.setTimeout((function(){e._updateTimerId=null,e._prepareUpdate()}),500)},e.prototype._scheduleGC=function(){var e=this;this._gcTimerId||(this._gcTimerId=window.setTimeout((function(){e._gcTimerId=null,e._gc()}),2e4))},e.prototype._checkNotErrored=function(){if(this._error)throw this._error},e.prototype._clearTimers=function(){this._updateTimerId&&(this._logger.debug("Clearing update timer."),window.clearTimeout(this._updateTimerId),this._updateTimerId=null),this._gcTimerId&&(window.clearTimeout(this._gcTimerId),this._gcTimerId=null),this._currentRetrieveHandle&&(this._currentRetrieveHandle.abort(),this._currentRetrieveHandle=null)},e.prototype._handleError=function(e){this._error||(this._error=e,this._logger.error("Error occurred.",e),this._clearTimers(),this._onError(e))},e}();t.SimpleMSE=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(3),i=r(4),o=r(7),a=r(6),s=r(5);!function(e){e.AppendError=n.AppendError,e.InitializeError=i.InitializeError,e.PlaylistUpdateError=o.PlaylistUpdateError,e.NoTransmuxerError=a.NoTransmuxerError,e.RetrievalError=s.RetrievalError}(t.errors||(t.errors={}))}])},e.exports=n(r(77),r(541),r(539))},function(e,t,r){var n;window,n=function(e){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=8)}([function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){this._msg=e}return e.prototype.getMsg=function(){return this._msg},e}();t.OggParserError=n},function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t}(r(0).OggParserError);t.ChecksumFailedError=o},function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t}(r(0).OggParserError);t.PageFromDifferentBitstreamError=o},function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t}(r(0).OggParserError);t.PageSequenceNumberDidNotIncrementError=o},function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t}(r(0).OggParserError);t.UnexpectedBOSError=o},function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t}(r(0).OggParserError);t.UnexpectedEOSError=o},function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t}(r(0).OggParserError);t.NoSegmentsInPageError=o},function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t}(r(0).OggParserError);t.IncompletePageError=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.version="29.5.1",t.buildNumber=1996,function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(9));var n=r(0);t.OggParserError=n.OggParserError;var i=r(1);t.ChecksumFailedError=i.ChecksumFailedError;var o=r(6);t.NoSegmentsInPageError=o.NoSegmentsInPageError;var a=r(2);t.PageFromDifferentBitstreamError=a.PageFromDifferentBitstreamError;var s=r(3);t.PageSequenceNumberDidNotIncrementError=s.PageSequenceNumberDidNotIncrementError;var u=r(4);t.UnexpectedBOSError=u.UnexpectedBOSError;var l=r(5);t.UnexpectedEOSError=l.UnexpectedEOSError;var c=r(7);t.IncompletePageError=c.IncompletePageError},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(10),i=r(11),o=r(1),a=r(2),s=r(3),u=r(4),l=r(5),c=r(6),d=r(7),f=n.helpers.arrayBuffer.combine,p=new Uint8Array([79,103,103,83]),h=new Uint8Array([0,0,0,0]),g=27;function y(e,t,r){if(void 0===r&&(r=1),t<0||t+r>e.byteLength)throw new Error("extract() out of bounds. "+t+" "+r+" "+e.byteLength);return e.slice(t,t+r)}function m(e,t){return void 0===t&&(t=!0),new DataView(e).getUint32(0,t)}function _(e){var t=new Uint8Array(e.buffer,e.byteOffset),r=t.byteLength;if(r<g)throw new d.IncompletePageError("Incomplete page.");var n=y(t,26);if(r<g+n[0])throw new d.IncompletePageError("Incomplete page.");var a=y(t,g,n[0]),s={version:y(t,4),type:y(t,5),granulePosition:y(t,6,8),bitstreamSerialNumber:y(t,14,4),pageSequenceNumber:y(t,18,4),checksum:y(t,22,4),pageSegments:n,segmentTable:a},u=[],l=g+n[0];if(a.forEach((function(e){if(r<l+e)throw new d.IncompletePageError("Incomplete page.");u.push(y(t,l,e)),l+=e})),!u.length)throw new c.NoSegmentsInPageError("No segments.");if(i.calculateCRC([p,s.version,s.type,s.granulePosition,s.bitstreamSerialNumber,s.pageSequenceNumber,h,n,a].concat(u))!==m(s.checksum.buffer))throw new o.ChecksumFailedError("Checksum failed.");return{header:s,segments:u,entirePage:y(t,0,l)}}t.retrievePages=function(e){for(var t=e.buffer,r=[],n=e.byteOffset,i=!0;n<e.byteOffset+e.byteLength;){var o=new DataView(t,n);try{var a=_(o);r.push(a),n+=a.entirePage.byteLength}catch(e){if(e instanceof d.IncompletePageError){i=!1;break}throw e}}return{pages:r,eos:i}},t.parsePage=_,t.retrievePackets=function(e){if(!e.length)return[];var t=m(e[0].header.bitstreamSerialNumber.buffer),r=-1,n=null,i=[];return e.forEach((function(o,c){if(m(o.header.bitstreamSerialNumber.buffer)!==t)throw new a.PageFromDifferentBitstreamError("Got a page from a different bitstream.");var d=m(o.header.pageSequenceNumber.buffer);if(d<=r)throw new s.PageSequenceNumberDidNotIncrementError("Page sequence number was not greater than the previous one.");var p=d!==r+1;r=d;var h=o.header.type[0],g=!!(1&h),y=!!(2&h);if(y&&c>0)throw new u.UnexpectedBOSError("Got BOS on a page which is not the first.");var _=!!(4&h);if(_&&c!==e.length-1)throw new l.UnexpectedEOSError("Got EOS on a page which is not the last.");var v=0;p&&(n=null);var b=o.segments.length;o.segments.forEach((function(e,t){if(n?n.data=f([n.data,e]):g&&0===t||(n={granulePosition:null,pageSequenceNumber:r,packetOffset:v,discontinuity:p&&0===v,first:y&&0===v,last:!1,data:e},v++),n&&e.byteLength<255){var a=t===b-1;a&&(n.granulePosition=m(o.header.granulePosition.buffer)),n.last=_&&a,i.push(n),n=null}}))})),i}},function(t,r){t.exports=e},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=new Uint32Array([0,79764919,159529838,222504665,319059676,398814059,445009330,507990021,638119352,583659535,797628118,726387553,890018660,835552979,1015980042,944750013,1276238704,1221641927,1167319070,1095957929,1595256236,1540665371,1452775106,1381403509,1780037320,1859660671,1671105958,1733955601,2031960084,2111593891,1889500026,1952343757,2552477408,2632100695,2443283854,2506133561,2334638140,2414271883,2191915858,2254759653,3190512472,3135915759,3081330742,3009969537,2905550212,2850959411,2762807018,2691435357,3560074640,3505614887,3719321342,3648080713,3342211916,3287746299,3467911202,3396681109,4063920168,4143685023,4223187782,4286162673,3779000052,3858754371,3904687514,3967668269,881225847,809987520,1023691545,969234094,662832811,591600412,771767749,717299826,311336399,374308984,453813921,533576470,25881363,88864420,134795389,214552010,2023205639,2086057648,1897238633,1976864222,1804852699,1867694188,1645340341,1724971778,1587496639,1516133128,1461550545,1406951526,1302016099,1230646740,1142491917,1087903418,2896545431,2825181984,2770861561,2716262478,3215044683,3143675388,3055782693,3001194130,2326604591,2389456536,2200899649,2280525302,2578013683,2640855108,2418763421,2498394922,3769900519,3832873040,3912640137,3992402750,4088425275,4151408268,4197601365,4277358050,3334271071,3263032808,3476998961,3422541446,3585640067,3514407732,3694837229,3640369242,1762451694,1842216281,1619975040,1682949687,2047383090,2127137669,1938468188,2001449195,1325665622,1271206113,1183200824,1111960463,1543535498,1489069629,1434599652,1363369299,622672798,568075817,748617968,677256519,907627842,853037301,1067152940,995781531,51762726,131386257,177728840,240578815,269590778,349224269,429104020,491947555,4046411278,4126034873,4172115296,4234965207,3794477266,3874110821,3953728444,4016571915,3609705398,3555108353,3735388376,3664026991,3290680682,3236090077,3449943556,3378572211,3174993278,3120533705,3032266256,2961025959,2923101090,2868635157,2813903052,2742672763,2604032198,2683796849,2461293480,2524268063,2284983834,2364738477,2175806836,2238787779,1569362073,1498123566,1409854455,1355396672,1317987909,1246755826,1192025387,1137557660,2072149281,2135122070,1912620623,1992383480,1753615357,1816598090,1627664531,1707420964,295390185,358241886,404320391,483945776,43990325,106832002,186451547,266083308,932423249,861060070,1041341759,986742920,613929101,542559546,756411363,701822548,3316196985,3244833742,3425377559,3370778784,3601682597,3530312978,3744426955,3689838204,3819031489,3881883254,3928223919,4007849240,4037393693,4100235434,4180117107,4259748804,2310601993,2373574846,2151335527,2231098320,2596047829,2659030626,2470359227,2550115596,2947551409,2876312838,2788305887,2733848168,3165939309,3094707162,3040238851,2985771188]);t.calculateCRC=function(e){var t=0;return e.forEach((function(e){for(var r=0;r<e.length;r++)t=t<<8^n[t>>24&255^e[r]]})),t>>>0}}])},e.exports=n(r(77))},function(e,t,r){var n;window,n=function(e){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=1)}([function(t,r){t.exports=e},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.version="29.5.1",t.buildNumber=1996,function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(2))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),i=r(3),o=n.helpers.arrayBuffer,a=o.combine,s=o.numberToUint8Array,u=[10,20,40,60,10,20,40,60,10,20,40,60,10,20,10,20,2.5,5,10,20,2.5,5,10,20,2.5,5,10,20,2.5,5,10,20];function l(e){if(!e.first)throw new Error("OpusHead is always in the first packet.");var t=e.data,r=new DataView(t.buffer),n=r.getUint8(9),i=r.getUint8(18),o=void 0,a=void 0,s=void 0;if(i>0){o=r.getUint8(18),a=r.getUint8(19),s=[];for(var u=0;u<n;u++)s.push(r.getUint8(20+u))}return{version:r.getUint8(8),channelCount:n,preSkip:r.getUint16(10,!0),inputSampleRate:r.getUint32(12,!0),outputGain:r.getInt16(16,!0)*Math.pow(2,-8),channelMapFamily:i,streamCount:o,twoChannelStreamCount:a,channelMappingTable:s}}t.parseOpusHead=l,t.setOutputGain=function(e,t){if(t>=128||t<-128)throw new Error("outputGainOverride invalid. It must be >= -128 and < 128.");l(e),new DataView(e.data.buffer).setInt16(16,Math.round(t*Math.pow(2,8)),!0)},t.buildWebm=function(e){var t=e[0];if(!t||!t.first)throw new Error("Missing start of stream.");var r,n,o=e.slice(2),c=l(t),d=0,f=o.map((function(e){var t=new Uint8Array(4);t[0]=129,new DataView(t.buffer).setInt16(1,d),t[3]=128;var r,n,o=(r=e.data,0==(n=3&r[0])?1:3!==n?2:63&r[1]);return d+=o*function(e){var t=e[0]>>>3&31;if(t>=u.length)throw new Error("Invalid configuration.");return u[t]}(e.data),i.encodeElement(i.IDS.SimpleBlock,a([t,e.data]))}));return{initData:a([i.encodeElement(i.IDS.EBML,a([i.encodeElement(i.IDS.EBMLVersion,s(1)),i.encodeElement(i.IDS.EBMLReadVersion,s(1)),i.encodeElement(i.IDS.EBMLMaxIDLength,s(4)),i.encodeElement(i.IDS.EBMLMaxSizeLength,s(8)),i.encodeElement(i.IDS.DocType,new Uint8Array([119,101,98,109])),i.encodeElement(i.IDS.DocTypeVersion,s(1)),i.encodeElement(i.IDS.DocTypeReadVersion,s(2))])),i.encodeElement(i.IDS.Segment,i.encodeElement(i.IDS.Info,i.encodeElement(i.IDS.Duration,(r=new Uint8Array(8),new DataView(r.buffer).setFloat64(0,d),r)))),i.encodeElement(i.IDS.Tracks,i.encodeElement(i.IDS.TrackEntry,a([i.encodeElement(i.IDS.TrackNumber,s(1)),i.encodeElement(i.IDS.TrackUID,s(1)),i.encodeElement(i.IDS.FlagLacing,s(0)),i.encodeElement(i.IDS.CodecID,new Uint8Array([65,95,79,80,85,83])),i.encodeElement(i.IDS.CodecDelay,s(c.preSkip/48e3*1e9)),i.encodeElement(i.IDS.SeekPreRoll,new Uint8Array([4,196,180,0])),i.encodeElement(i.IDS.TrackType,s(2)),i.encodeElement(i.IDS.Audio,a([i.encodeElement(i.IDS.Channels,s(c.channelCount)),i.encodeElement(i.IDS.SamplingFrequency,new Uint8Array([64,231,112,0,0,0,0,0]))])),i.encodeElement(i.IDS.CodecPrivate,t.data)])))]),data:i.encodeElement(i.IDS.Cluster,((n=[i.encodeElement(i.IDS.Timecode,s(0))]).push.apply(n,f),a(n)))}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0).helpers.arrayBuffer,i=n.combine,o=n.numberToUint8Array,a=n.createVintBuffer;t.IDS={EBML:440786851,EBMLVersion:17030,EBMLReadVersion:17143,EBMLMaxIDLength:17138,EBMLMaxSizeLength:17139,DocType:17026,DocTypeVersion:17031,DocTypeReadVersion:17029,Segment:408125543,Info:357149030,Duration:17545,Tracks:374648427,TrackEntry:174,TrackNumber:215,TrackUID:29637,FlagLacing:156,CodecID:134,CodecDelay:22186,SeekPreRoll:22203,TrackType:131,Audio:225,Channels:159,SamplingFrequency:181,CodecPrivate:25506,Cluster:524531317,Timecode:231,SimpleBlock:163},t.encodeElement=function(e,t){var r=o(e),n=a(t.byteLength);return i([r,n,t])}}])},e.exports=n(r(77))},function(e,t,r){var n;window,n=function(e,t){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=0)}([function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.version="29.5.1",t.buildNumber=1996;var n=r(1);t.PlaylistHLS=n.PlaylistHLS},function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var o,a=r(2),s=r(3),u=s.retrievalErrors.UnacceptableResponseStatusCodeError,l=s.retrievalErrors.PlaylistParseError,c=s.retrievalErrors.UnsupportedEncryptionError,d=a.helpers.abortableJob.AbortableJob,f=a.helpers.deferred.buildDeferred,p=a.helpers.cache.buildCache,h=a.helpers.retry,g=h.retry,y=h.buildExponentialDelayCalculator,m=a.helpers.Promise,_=a.helpers.find,v=a.helpers.url,b=a.logger.prefixLogger,w=a.logger.noOpLogger,E=/(?:(?:#(EXTM3U))|(?:#EXT-X-(PLAYLIST-TYPE):(.+))|(?:#EXT-X-(MEDIA-SEQUENCE): *(\d+))|(?:#EXT-X-(TARGETDURATION): *(\d+))|(?:#EXT-X-(KEY):(.+))|(?:#EXT-X-(MAP):(.+))|(?:#EXT-X-(START):(.+))|(?:#EXT(INF): *(\d+(?:\.\d+)?)(?:,(.*))?)|(?:(?!#)()(\S.+))|(?:#EXT-X-(BYTERANGE): *(\d+(?:@\d+(?:\.\d+)?)?)|(?:#EXT-X-(ENDLIST))|(?:#EXT-X-(DISCONTINUITY-SEQ)UENCE:(\d+))|(?:#EXT-X-(DIS)CONTINUITY))|(?:#EXT-X-(PROGRAM-DATE-TIME):(.+))|(?:#EXT-X-(VERSION):(\d+))|(?:(#)(.*):(.*))|(?:(#)(.*)))(?:.*)\r?\n?/g,S=/(.+?)=(.+?)(?:,|$)/g,A=/^\d*(\.\d+)?$/;function P(e){0===e.indexOf("0x")&&(e=e.substr(2));var t=new Uint16Array(8);if(e.length%4!=0)throw new l("Failed to parse IV (length is not multiple of 4).");for(var r=0;r<e.length;r+=4){var n=parseInt(e.substr(r,4),16);if(isNaN(n))throw new l("Failed to parse hex number in IV string.");t[r/4]=n}return new Uint8Array(t)}function I(e){for(var t=new Uint8Array(16),r=12;r<16;r++)t[r]=e>>8*(15-r)&255;return t}function M(e){return!(e>=400&&e<500)}function T(e){var t,r,n={};for(S.lastIndex=0;null!==(t=S.exec(e));){var i=t[1].trim().toLowerCase(),o=0===(r=t[2].trim()).indexOf('"')&&r.lastIndexOf('"')===r.length-1?r.slice(1,-1):r;n[i]=o}return n}!function(e){e[e.NONE=0]="NONE",e[e.AES_128=1]="AES_128",e[e.SAMPLE_AES=2]="SAMPLE_AES"}(o||(o={}));var k=function(e){function t(t){var r=t.url,n=t.playlistLoader,i=t.segmentLoader,o=t.keyLoader,l=t.segmentFormat,c=t.logger,h=void 0===c?w:c,_=t.delayCalculator,v=void 0===_?y():_,E=t.keyDelayCalculator,S=void 0===E?y():E,A=t.segmentDelayCalculator,P=t.isPlaylistResponseCodeAcceptable,I=void 0===P?function(e){return 200===e}:P,T=t.isPlaylistResponseCodeRetryable,k=void 0===T?M:T,C=t.isSegmentResponseCodeAcceptable,x=void 0===C?function(e){return 200===e}:C,D=t.isSegmentResponseCodeRetryable,O=void 0===D?M:D,R=t.isKeyResponseCodeAcceptable,L=void 0===R?function(e){return 200===e}:R,N=t.isKeyResponseCodeRetryable,j=void 0===N?M:N,F=e.call(this)||this;return F._keyRetrievalJobsCache=p(),F._initDataRetrievalJobsCache=p(),F._data=null,F._lastUpdateTime=null,F._playlistEventRepresentation=null,F._logger=b(h,"PlaylistHLS"),F._url=r,F._playlistLoader=n,F._segmentLoader=i,F._keyLoader=o||null,F._segmentFormat=l,F._keyDelayCalculator=S,F._isPlaylistResponseCodeAcceptable=I,F._isPlaylistResponseCodeRetryable=k,F._isSegmentResponseCodeAcceptable=x,F._isSegmentResponseCodeRetryable=O,F._isKeyOrInitDataResponseCodeAcceptable=L,F._isKeyOrInitDataResponseCodeRetryable=j,F._segmentDelayCalculator=A,F._downloadAbortableJob=new d((function(){var e=a.helpers.deferred.buildDeferred(),t=g(v,(function(t){var n=t.scheduleRetry,i=new s.events.Playlist(r);F._onPlaylistRequestQueued.dispatch({playlist:i});var o=F._playlistLoader.request({url:r});return o.onRequestStart((function(){F._onPlaylistRequestStart.dispatch({playlist:i})})),F._logger.debug("Requesting playlist.",r),o.onResponseReceived((function(t){if(!t)return F._logger.warn("Playlist request timed out.",r),F._onPlaylistRequestFailed.dispatch({playlist:i,statusCode:null}),void n();var o=t.statusCode;if(F._isPlaylistResponseCodeAcceptable(o)){var a=t.getData();return a?(F._logger.debug("Got playlist response.",r,o),F._onPlaylistRetrieved.dispatch({playlist:i,statusCode:o}),void e.resolve({playlistContent:a,eventRepresentation:i})):(F._logger.warn("Playlist response contained no data.",r,o),F._onPlaylistRequestFailed.dispatch({playlist:i,statusCode:o}),void n())}if(!F._isPlaylistResponseCodeRetryable(o))return F._logger.debug("Playlist response code was not acceptable.",r,o),F._onPlaylistRequestFailed.dispatch({playlist:i,statusCode:o}),void e.reject(new u(o));F._logger.debug("Playlist response code was not acceptable. Will retry.",r,o),F._onPlaylistRequestFailed.dispatch({playlist:i,statusCode:o}),n()})),o.onError((function(t){if(t instanceof a.loaderErrors.LoaderError)return F._logger.warn("Error from loader. Will retry",r,t),void n();e.reject(t)})),{onCancel:function(){F._logger.debug("Aborting playlist request.",r),o.hasCompleted()||o.abort(),F._onPlaylistRequestFailed.dispatch({playlist:i,aborted:!0})}}}),{onNoMoreRetries:function(){return e.reject(new Error("No more retries for requesting playlist."))}}).cancel;return{result:e.promise,abort:function(){return t()}}})),F._updateJob=new d((function(){if(F._data&&F._data.ended)return{result:m.resolve(void 0)};var e=f(),t=F._downloadAbortableJob.run();return t.onCompletion((function(t){var r=t.playlistContent,n=t.eventRepresentation;F._lastUpdateTime=a.helpers.time.now(),F._onPlaylistParseStart.dispatch({playlist:n});try{F._data=F._parsePlaylist(r)}catch(t){return F._logger.error("Error when parsing playlist.",t,r),void e.reject(t)}F._playlistEventRepresentation=n,F._onPlaylistParseEnd.dispatch({playlist:n}),e.resolve(void 0)})),t.onError(e.reject),{result:e.promise,abort:function(){return t.abort()}}})),F}return i(t,e),t.prototype.hasInitialUpdateCompleted=function(){return!!this._data},t.prototype.getType=function(){if(!this._data)throw new Error("Not loaded yet.");return this._data.type},t.prototype.getExpireTime=function(){var e=this._data,t=this._lastUpdateTime;return e&&e.type===s.PlaylistType.LIVE&&null!==t?t+e.segments.reduce((function(e,t){return e+t.timeRange.duration}),0)/2:null},t.prototype.hasEnded=function(){if(!this._data)throw new Error("Not loaded yet.");return this._data.ended},t.prototype.getCompleteDuration=function(){return this._data&&this._data.ended?this._data.totalDuration:null},t.prototype.getDuration=function(){if(!this._data)throw new Error("Not loaded yet.");return this._data.totalDuration},t.prototype.getTargetDuration=function(){if(!this._data)throw new Error("Not loaded yet.");return this._data.targetDuration},t.prototype.getFirstSegmentIndex=function(){if(!this._data)throw new Error("Not loaded yet.");return this._data.mediaSequence},t.prototype.getSegmentCount=function(){if(!this._data)throw new Error("Not loaded yet.");return this._data.segments.length},t.prototype.getSegmentIndexContainingTime=function(e){var t=this._data;if(!t)throw new Error("Not loaded yet.");var r=_(t.segments,(function(t){return t.timeRange.containsTime(e)}));return r?t.mediaSequence+t.segments.indexOf(r):null},t.prototype._update=function(){return this._updateJob.run()},t.prototype._getSegment=function(e){var t=this,r=this._data;if(!r)throw new Error("Not loaded yet.");var n=r.segments[e-r.mediaSequence];return new d((function(){var r=n.encryptionData,i=t._playlistEventRepresentation;if(!i)throw new Error("Playlist event representation should exist.");var o=t._buildEncryptionConfig(r,e),a=n.initDataUrl?t._retrieveInitData(n.initDataUrl):null;return{result:o.whenComplete().then((function(r){var o=function(o){return new s.Segment({url:n.url,sequenceNumber:e,playlist:t,timeRange:n.timeRange,format:t._segmentFormat,loader:t._segmentLoader,playlistEventRepresentation:i,logger:t._logger,delayCalculator:t._segmentDelayCalculator,isResponseCodeAcceptable:t._isSegmentResponseCodeAcceptable,isResponseCodeRetryable:t._isSegmentResponseCodeRetryable,encryptionConfig:r,initData:o})};return a?a.whenComplete().then((function(e){return o(e)})):o(void 0)})),abort:function(){o.abort(),a&&a.abort()}}})).run()},t.prototype._buildEncryptionConfig=function(e,t){var r=this;return new d((function(){if(e.method===o.NONE)return{result:m.resolve(void 0)};if(e.method!==o.AES_128)return r._logger.error("Unsupported encryption method.",e.method),{result:m.reject(new c)};if(!r._keyLoader)return{result:m.reject(new Error("Encryption method not supported as no key loader provided."))};var n=r._retrieveKey(e.keyUrl);return{result:n.whenComplete().then((function(r){return{cipher:"AES-CBC",key:r,iv:e.iv||I(t)}})),abort:function(){return n.abort()}}}),{storeResult:!0}).run()},t.prototype._retrieveKey=function(e){var t=this,r=this._keyLoader;if(!r)throw new Error("No key loader.");var n=this._playlistEventRepresentation;if(!n)throw new Error("Playlist event representation should exist.");var i=new s.events.Key(n,e);return this._retrieveKeyOrInitData({url:e,loader:r,cache:this._keyRetrievalJobsCache,onRequestQueued:function(){return t._onKeyRequestQueued.dispatch({key:i})},onRequestStart:function(){return t._onKeyRequestStart.dispatch({key:i})},onRequestTimedOut:function(){t._onKeyRequestFailed.dispatch({key:i,statusCode:null})},onRequestFailed:function(e){t._onKeyRequestFailed.dispatch({key:i,statusCode:e})},onRequestAborted:function(){t._onKeyRequestFailed.dispatch({key:i,aborted:!0})},onRetrieved:function(e){t._onKeyRetrieved.dispatch({key:i,statusCode:e})},type:"key"})},t.prototype._retrieveInitData=function(e){var t=this,r=this._playlistEventRepresentation;if(!r)throw new Error("Playlist event representation should exist.");var n=new s.events.InitData(r,e);return this._retrieveKeyOrInitData({url:e,loader:this._segmentLoader,cache:this._initDataRetrievalJobsCache,onRequestQueued:function(){return t._onInitDataRequestQueued.dispatch({initData:n})},onRequestStart:function(){return t._onInitDataRequestStart.dispatch({initData:n})},onRequestTimedOut:function(){t._onInitDataRequestFailed.dispatch({initData:n,statusCode:null})},onRequestFailed:function(e){t._onInitDataRequestFailed.dispatch({initData:n,statusCode:e})},onRequestAborted:function(){t._onInitDataRequestFailed.dispatch({initData:n,aborted:!0})},onRetrieved:function(e){t._onInitDataRetrieved.dispatch({initData:n,statusCode:e})},type:"init data"})},t.prototype._retrieveKeyOrInitData=function(e){var t=this,r=e.url,n=e.loader,i=e.cache,o=e.onRequestQueued,s=e.onRequestStart,l=e.onRequestTimedOut,c=e.onRequestFailed,f=e.onRequestAborted,p=e.onRetrieved,h=e.type,y=i.get(r);return y?this._logger.debug(h+" retrieval already in progress.",r):(y=new d((function(){var e=a.helpers.deferred.buildDeferred(),i=g(t._keyDelayCalculator,(function(i){var d=i.scheduleRetry;o();var g=n.request({url:r});return g.onRequestStart(s),t._logger.debug("Retrieving "+h+".",r),g.onResponseReceived((function(n){if(!n)return t._logger.warn(h+" request timed out.",r),l(),void d();var i=n.statusCode;if(t._isKeyOrInitDataResponseCodeAcceptable(i)){var o=n.getData();return o?(t._logger.debug("Got "+h+" response.",r,i),p(i),void e.resolve(new Uint8Array(o))):(t._logger.warn(h+" response contained no data.",r,i),c(i),void d())}if(!t._isKeyOrInitDataResponseCodeRetryable(i))return t._logger.warn(h+" response code was not acceptable.",r,i),c(i),void e.reject(new u(i));t._logger.warn(h+" response code was not acceptable. Will retry.",r,i),c(i),d()})),g.onError((function(n){if(n instanceof a.loaderErrors.LoaderError)return t._logger.warn("Error from loader. Will retry",r,n),void d();e.reject(n)})),{onCancel:function(){t._logger.debug("Aborting "+h+" request.",r),g.hasCompleted()||g.abort(),f()}}}),{onNoMoreRetries:function(){return e.reject(new Error("No more retries for requesting "+h+"."))}}).cancel;return{result:e.promise,abort:function(){return i()}}}),{storeResult:!0}),i.set(r,y)),y.run()},t.prototype._parsePlaylist=function(e){var t,r=this._data,n={version:null,type:s.PlaylistType.LIVE,mediaSequence:null,targetDuration:null,totalDuration:0,ended:!1},i=[],u={method:o.NONE},c=null,d=null;E.lastIndex=0;for(var f=0,p=!1;null!==(t=E.exec(e));){var h=t.filter((function(e,t){return 0!==t&&void 0!==e})).map((function(e,t){return 0===t?e.toLowerCase():e})),g=h[0],y=h.slice(1);if(0===f){if("extm3u"!==g)throw new l("First line did not contain EXTM3U tag.")}else{if(!p)switch(g){case"playlist-type":if(n.type!==s.PlaylistType.LIVE)throw new l("Already have playlist type.");switch(y[0].toLowerCase()){case"vod":n.type=s.PlaylistType.VOD;break;case"event":n.type=s.PlaylistType.EVENT;break;default:throw new l("Invalid playlist type.")}break;case"media-sequence":if(null!==n.mediaSequence)throw new l("Already have media sequence number.");var m=parseInt(y[0],10);if(m+""!==y[0])throw new l("Invalid media sequence number.");n.mediaSequence=m;break;case"targetduration":if(null!==n.targetDuration)throw new l("Already have target duration.");var _=parseInt(y[0],10);if(_+""!==y[0]||_<0)throw new l("Invalid target duration.");n.targetDuration=1e3*_;break;case"version":if(null!==n.version)throw new l("Already have version.");var b=parseInt(y[0],10);if(b+""!==y[0])throw new l("Invalid version.");if(b<3)throw new l("HLS version must be 3 or above.");n.version=b;break;default:p=!0}if(p)switch(g){case"key":var w="method"in(M=T(y[0]))?M.method.toLowerCase():null,S="uri"in M?v.buildAbsoluteUrl(this._url,M.uri):null,I="iv"in M?P(M.iv):null;if(!w)throw new l("Missing encryption method.");if(!S&&"none"!==w)throw new l("Missing key url.");switch(w){case"none":if(null!==S)throw new l("Key url not allowed.");if(null!==I)throw new l("IV not allowed.");u={method:o.NONE};break;case"aes-128":if(!S)throw new l("Key url required.");u={method:o.AES_128,keyUrl:S,iv:I};break;case"sample-aes":if(!S)throw new l("Key url required.");u={method:o.SAMPLE_AES,keyUrl:S,iv:I};break;default:throw new l("Unknown encryption method.")}break;case"map":var M;if(!("uri"in(M=T(y[0]))))throw new l("URI missing from EXT-X-MAP tag.");if("byterange"in M)throw new l("BYTERANGE in EXT-X-MAP tag is currently unsupported.");c=M.uri?v.buildAbsoluteUrl(this._url,M.uri):null;break;case"inf":if(!y[0].match(A))throw new l("Invalid segment duration.");d=1e3*parseFloat(y[0]);break;case"":if(n.ended)throw new l("Already received ENDLIST tag.");if(null===d)throw new l("Not received segment duration.");var k=v.buildAbsoluteUrl(this._url,y[0]);i.push({url:k,timeRange:new a.TimeRange(n.totalDuration,d),initDataUrl:c,encryptionData:u}),n.totalDuration+=d,d=null;break;case"endlist":if(n.ended)throw new l("Already had ENDLIST tag.");n.ended=!0;break;default:this._logger.warn("Unable to parse playlist line.",g)}}f++}var C=n.version,x=n.type,D=n.mediaSequence,O=n.targetDuration,R=n.ended,L=n.totalDuration;if(null===C)throw new l("Missing version.");if(null===O)throw new l("Missing target duration.");if(R&&x===s.PlaylistType.LIVE)throw new l("Cannot be ended if type is LIVE.");if(!R&&x===s.PlaylistType.VOD)throw new l("Must be ended if type is VOD.");if(null===D&&(D=0),r){if(r.type!==x)throw new l("Playlist type has changed since last update.");if(r.type===s.PlaylistType.EVENT&&D!==r.mediaSequence)throw new l("Media sequence number has changed. Not valid for EVENT playlist.");var N=r.segments[D-r.mediaSequence];if(!N)throw new l("Tracking lost. The last segment of the previous playlist is no longer in the new one.");var j=N.timeRange.start;i.forEach((function(e){var t=e.timeRange;e.timeRange=new a.TimeRange(t.start+j,t.duration)})),L+=j}return{version:C,type:x,mediaSequence:D,targetDuration:O,totalDuration:L,ended:R,segments:i}},t}(s.Playlist);t.PlaylistHLS=k},function(t,r){t.exports=e},function(e,r){e.exports=t}])},e.exports=n(r(77),r(541))},function(e,t,r){var n;window,n=function(e){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=3)}([function(t,r){t.exports=e},function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(){return e.call(this,"Chromecast sdk missing.")||this}return i(t,e),t.prototype.getCode=function(){return"CHROMECAST.SDK_MISSING"},t}(r(0).errors.NotSupportedError);t.SDKMissingError=o},function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(){return e.call(this,"Cast context was not provided.")||this}return i(t,e),t.prototype.getCode=function(){return"CHROMECAST.NO_CAST_CONTEXT"},t}(r(0).errors.NotSupportedError);t.NoCastContextError=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.version="29.5.1",t.buildNumber=1996;var n=r(4);t.ChromecastPlayer=n.ChromecastPlayer;var i=r(6);t.errors=i.errors},function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var o=r(0),a=r(5),s=r(2),u=function(e){function t(t,r){var n=e.call(this,r)||this;if(n._descriptor=t,n._playerDependencies=r,n._logger=o.logger.prefixLogger(n._logger,"ChromecastPlayer"),"function"==typeof r.castContext.then){var i=r.castContext;n._logger.debug("Waiting for cast context promise to resolve with context."),i.then((function(e){n._whenCastContextReceived(e)})),"function"==typeof i.catch&&i.catch((function(e){n._logger.error("Cast context promise rejected.",e),n._triggerError(new s.NoCastContextError)}))}else n._whenCastContextReceived(r.castContext);return n}return i(t,e),t.prototype._handleFatalError=function(e){this._triggerError(e)},t.prototype._whenCastContextReceived=function(e){this.isDead()?this._logger.debug("Got cast context but ignoring because player is dead."):(this._logger.debug("Got cast context."),this._providePlayer(new a.ChromecastPlayerImpl(this._descriptor,this._playerDependencies,e),{syncPosition:!1,syncVolume:!1}))},t}(o.ProxyPlayerBase);t.ChromecastPlayer=u},function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var o=r(0),a=r(1),s=function(e){function t(t,r,n){var i=e.call(this,r)||this;return i._playingCheckDisabled=!1,i._playingCheckDisabledTimer=null,i._lastKnownPosition=0,i._changeTimeout=null,i._playPauseWaiting=!1,i._seekWaiting=!1,i._seekHandle=null,i._anyChangeHandler=i._anyChangeHandler.bind(i),"chrome"in window&&"cast"in window.chrome&&"cast"in window?(i._chromeCastLib=window.chrome.cast,i._castLib=window.cast,i._logger=o.logger.prefixLogger(i._logger,"ChromecastPlayerImpl"),i._castContext=n,i._contentId=t.contentId,i._remotePlayer=new i._castLib.framework.RemotePlayer,i._remotePlayerController=new i._castLib.framework.RemotePlayerController(i._remotePlayer),i._refresh(),i._addListeners(!0),i):(i._logger.error("Chromecast SDK missing."),i._triggerError(new a.SDKMissingError),i)}return i(t,e),t.prototype.getBufferedTimeRanges=function(){return null},t.prototype.getMaxBufferLength=function(){return null},t.prototype._handleVolumeChange=function(e,t){var r=this,n=this._getCastSession();n&&(n.setVolume(e).catch((function(e){r._logger.warn("Error setting volume.",e),r._notifyVolumeChange(r._remotePlayer.volumeLevel,r.getMuted())})),n.setMute(t).catch((function(e){r._logger.warn("Error setting mute.",e),r._notifyVolumeChange(r.getVolume(),r._remotePlayer.isMuted)})),this._notifyVolumeChange(e,t))},t.prototype._handlePlayPauseChange=function(e){var t=this;this._disablePlayCheck();var r=this._getMediaSession();r&&this.isReady()?e?(this._logger.debug("Requesting play on chromecast."),r.play(null,(function(){t._enablePlayCheck(),t._logger.debug("Play request completed on chromecast.")}),(function(e){t._enablePlayCheck(),t._logger.warn("Play request failed.",e),t.isDead()||t.isActuallyPlaying()||t._notifyPlayRejection(new Error("Error from chromecast: "+e.code))}))):(this._logger.debug("Requesting pause on chromecast."),r.pause(null,(function(){t._enablePlayCheck(),t._logger.debug("Pause request completed on chromecast.")}),(function(e){t._enablePlayCheck(),t._logger.warn("Pause request on chromecast failed.",e),!t.isDead()&&t.isActuallyPlaying()&&t._notifyPauseRejection(new Error("Error from chromecast: "+e.code))}))):this._playPauseWaiting=!0},t.prototype._handleSeekChange=function(e){var t=this._getMediaSession();t&&this.isReady()?this._performSeek(t,e):this._seekWaiting=!0},t.prototype._getPosition=function(){var e=this._getActualPosition(),t=this.getDuration()||0;return e>t-200&&(e=t),e},t.prototype._kill=function(){this._changeTimeout&&window.clearTimeout(this._changeTimeout),this._playingCheckDisabledTimer&&window.clearTimeout(this._playingCheckDisabledTimer),this._addListeners(!1)},t.prototype._disablePlayCheck=function(){this._playingCheckDisabled=!0,this._playingCheckDisabledTimer&&(window.clearTimeout(this._playingCheckDisabledTimer),this._playingCheckDisabledTimer=null)},t.prototype._enablePlayCheck=function(){var e=this;this._playingCheckDisabled&&(this._disablePlayCheck(),this._playingCheckDisabledTimer=window.setTimeout((function(){e._playingCheckDisabled=!1,e._refresh()}),500))},t.prototype._refresh=function(){var e=this;this._update((function(){if(e._logger.debug("Updating...",e._remotePlayer),e._chromecastRepresenting()){var t=e._remotePlayer.playerState,r=1e3*e._remotePlayer.duration,n=1e3*e._remotePlayer.currentTime;if(e._logger.debug("Chromecast is representing this player.",t,r,n),e._lastKnownPosition=n,e._provideDuration(r),e._notifyVolumeChange(e._remotePlayer.volumeLevel,e._remotePlayer.isMuted),t&&t!==e._chromeCastLib.media.PlayerState.IDLE&&!e.isReady()&&e._signalReady(),e.isReady()){if(!e._playingCheckDisabled){var i=t===e._chromeCastLib.media.PlayerState.PLAYING||t===e._chromeCastLib.media.PlayerState.BUFFERING;e._notifyPlaying(i)}if(e._notifyStalled(!t||t===e._chromeCastLib.media.PlayerState.BUFFERING||t===e._chromeCastLib.media.PlayerState.IDLE),e._playPauseWaiting&&(e._playPauseWaiting=!1,e.isPlaying()!==e.isActuallyPlaying()&&e._handlePlayPauseChange(e.isPlaying())),e._seekWaiting){e._seekWaiting=!1;var o=e._getQueuedSeekPosition();null!==o&&e._handleSeekChange(o)}}}else e.isReady()&&(e._notifyStalled(!0),e._notifyPlaying(!1))}))},t.prototype._chromecastRepresenting=function(){return!!this._remotePlayer.mediaInfo&&this._remotePlayer.mediaInfo.contentId===this._contentId&&this._remotePlayer.isConnected},t.prototype._getCastSession=function(){return this._chromecastRepresenting()?this._castContext.getCurrentSession():null},t.prototype._getMediaSession=function(){var e=this._getCastSession();return e&&e.getMediaSession()||null},t.prototype._getActualPosition=function(){var e=this._getMediaSession();return e&&this.isActuallyPlaying()?this._lastKnownPosition=1e3*e.getEstimatedTime():this._lastKnownPosition},t.prototype._performSeek=function(e,t){var r=this,n=new this._chromeCastLib.media.SeekRequest;n.currentTime=t/1e3,this._logger.debug("Requesting seek.",t);var i=this._seekHandle=Object.create(null);e.seek(n,(function(){i===r._seekHandle&&(r._logger.debug("Seek completed.",t),r.isDead()||null===r._getQueuedSeekPosition()||r._signalSeekComplete())}),(function(e){i===r._seekHandle&&(r._logger.warn("Error performing seek.",e),r.isDead()||null===r._getQueuedSeekPosition()||r._notifySeekRejection(new Error("Error from chromecast when seeking: "+e.code)))}))},t.prototype._addListeners=function(e){this._logger.debug((e?"Adding":"Removing")+" chromecast listeners."),e?this._remotePlayerController.addEventListener(this._castLib.framework.RemotePlayerEventType.ANY_CHANGE,this._anyChangeHandler):this._remotePlayerController.removeEventListener(this._castLib.framework.RemotePlayerEventType.ANY_CHANGE,this._anyChangeHandler)},t.prototype._anyChangeHandler=function(e){var t=this;this._logger.debug("Received chromecast event.",e),null===this._changeTimeout&&(this._changeTimeout=window.setTimeout((function(){t._changeTimeout=null,t._refresh()}),0))},t}(o.BasePlayer);t.ChromecastPlayerImpl=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(1),i=r(2);!function(e){e.SDKMissingError=n.SDKMissingError,e.NoCastContextError=i.NoCastContextError}(t.errors||(t.errors={}))}])},e.exports=n(r(77))},,,,function(e,t,r){var n;window,n=function(e,t){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=0)}([function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.version="23.7.2",t.buildNumber=928;var n=r(1);t.StreamUrlRetriever=n.StreamUrlRetriever},function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var a=r(2),s=r(3),u=r(4),l=/^([^;]+)(?:; codecs="([^,]+)(?:,(.+))?")?$/,c=new u.Limiter,d=[u.renditions.encryptedHlsMp3,u.renditions.hlsMp3,u.renditions.encryptedHlsOpus,u.renditions.hlsOpus,u.renditions.hlsAACHQ,u.renditions.encryptedHlsAACHQ,u.renditions.httpMp3,u.renditions.httpAACHQ],f=function(e){function t(t){var r=t.loader,n=t.trackId,i=t.secretToken,o=void 0===i?null:i,a=t.mediaPayload,s=t.clientId,u=t.requestAuthorization,l=void 0===u?null:u,c=t.excludedRenditions,d=void 0===c?[]:c,f=e.call(this)||this;if(f.name="MediaPayload",!r)throw new Error("loader required.");if(!a)throw new Error("mediaPayload required.");if("string"!=typeof s)throw new Error("clientId invalid.");if("number"!=typeof n)throw new Error("trackId invalid.");if(null!==o&&"string"!=typeof o)throw new Error("secretToken invalid.");if(null!==l&&"string"!=typeof l)throw new Error("requestAuthorizaton invalid.");return f._loader=r,f._clientId=s,f._requestAuthorization=l,f._trackId=n,f._secretToken=o,f._mediaPayload=a,f._excludedRenditions=d,f}return i(t,e),t.prototype.getTrackId=function(){return this._trackId},t.prototype.excludeRendition=function(e){this._excludedRenditions.indexOf(e)<0&&this._excludedRenditions.push(e)},t.prototype.getUrl=function(e){var t=this,r=e.snippet,n=e.qualities,i=void 0===n?[u.Quality.SQ]:n;return new s.helpers.abortableJob.AbortableJob((function(){var e=t._mediaPayload.transcodings.map((function(e){var n=e.format,o=n.protocol,a=n.mime_type,s=t._lookupRendition(o,a),l=u.resolveQuality(e.quality);return l&&s&&-1===t._excludedRenditions.indexOf(s)&&e.snipped===r&&i.indexOf(l)>=0?{rendition:s,transcoding:e,quality:l,preset:e.preset}:null})).filter(Boolean);if(!e.length)return{result:s.helpers.Promise.resolve(null)};var n=s.helpers.deferred.buildDeferred(),o=e[0],a=o.transcoding,l=o.rendition,c=o.quality,d=o.preset,f=t._retrieveStreamUrl(a.url);return f.onCompletion((function(e){n.resolve({success:!0,url:e,rendition:l,quality:c,preset:d,timeRetrieved:s.helpers.time.now()})})),f.onError((function(e){e instanceof u.UrlRetrieverError?n.resolve({success:!1,error:e,rendition:l,quality:c,preset:d,timeRetrieved:s.helpers.time.now()}):n.reject(e)})),{result:n.promise,abort:function(){return f.abort()}}})).run()},t.prototype.updateRequestAuthorization=function(e){if(null!==e&&"string"!=typeof e)throw new Error("requestAuthorizaton invalid.");this._requestAuthorization=e},t.prototype.updateMediaPayload=function(e){if(!e||"object"!=typeof e)throw new Error("mediaPayload invalid.");this._mediaPayload=e},t.prototype._lookupRendition=function(e,t){var r=function(e){switch(e){case"encrypted-hls":return"encrypted-hls";case"hls":return"hls";case"progressive":return"http"}return null}(e);if(!r)return null;var n,i,o=(n=t,(i=l.exec(n))?{mimeType:i[1],audioCodec:i[2]?{id:i[2]}:void 0,videoCodec:i[3]?{id:i[3]}:void 0}:null);return o&&s.helpers.find(d,(function(e){var t,n,i=e.maestroSegmentFormat||e.maestroFormat;return e.scProtocol===r&&(n=o,!((t=i).mimeType!==n.mimeType||!t.audioCodec!=!n.audioCodec||t.audioCodec&&n.audioCodec&&t.audioCodec.id!==n.audioCodec.id||!t.videoCodec!=!n.videoCodec||t.videoCodec&&n.videoCodec&&t.videoCodec.id!==n.videoCodec.id))}))||null},t.prototype._retrieveStreamUrl=function(e){var t=this;return new s.helpers.abortableJob.AbortableJob((function(){var r=s.helpers.deferred.buildDeferred(),n=c.execute((function(){var n=t._requestAuthorization?{Authorization:t._requestAuthorization}:{},i={client_id:t._clientId};t._secretToken&&(i.secret_token=t._secretToken);var s=function(e,t){var r=a.parseURL(e);if(!r)throw new Error("Unable to parse url.");var n=r.query.slice(1).split("&").filter(Boolean),i=Object.create(null);n.forEach((function(e){var t=e.split("=",2);i[encodeURIComponent(t[0])]=t.length>1?decodeURIComponent(e.slice(e.indexOf("=")+1)):void 0}));var s=o({},i,t);return r.query="?"+Object.keys(s).map((function(e){var t=encodeURIComponent(e),r=s[e];return r&&(t+="="+encodeURIComponent(r)),t})).join("&"),a.buildURLFromParts(r)}(e,i),l=t._loader.request({url:s,headers:n}).getResponse().then((function(e){if(!e)throw new u.UrlRetrieverError("TIMED_OUT",!0);if(200!==e.statusCode)throw new u.UrlRetrieverError("INVALID_STATUS_"+e.statusCode,function(e){return 429===e.statusCode}(e));var t=e.getData();if(!t)throw new u.UrlRetrieverError("NO_DATA");var r=JSON.parse(t).url;if("string"!=typeof r||!r)throw new u.UrlRetrieverError("NO_STREAM_URL");return r})).catch((function(e){if(e instanceof u.UrlRetrieverError)throw e;throw new u.UrlRetrieverError("UNEXPECTED_ERROR",!1,e)}));return r.resolve(l),l}));return{result:r.promise,abort:function(){return n.abort()}}})).run()},t}(u.BaseStreamUrlRetriever);t.StreamUrlRetriever=f},function(e,t,r){var n,i,o,a,s;n=/^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/?#]*)?((?:[^\/\?#]*\/)*.*?)??(;.*?)?(\?.*?)?(#.*?)?$/,i=/^([^\/?#]*)(.*)$/,o=/(?:\/|^)\.(?=\/)/g,a=/(?:\/|^)\.\.\/(?!\.\.\/).*?(?=\/)/g,s={buildAbsoluteURL:function(e,t,r){if(r=r||{},e=e.trim(),!(t=t.trim())){if(!r.alwaysNormalize)return e;var n=s.parseURL(e);if(!n)throw new Error("Error trying to parse base URL.");return n.path=s.normalizePath(n.path),s.buildURLFromParts(n)}var o=s.parseURL(t);if(!o)throw new Error("Error trying to parse relative URL.");if(o.scheme)return r.alwaysNormalize?(o.path=s.normalizePath(o.path),s.buildURLFromParts(o)):t;var a=s.parseURL(e);if(!a)throw new Error("Error trying to parse base URL.");if(!a.netLoc&&a.path&&"/"!==a.path[0]){var u=i.exec(a.path);a.netLoc=u[1],a.path=u[2]}a.netLoc&&!a.path&&(a.path="/");var l={scheme:a.scheme,netLoc:o.netLoc,path:null,params:o.params,query:o.query,fragment:o.fragment};if(!o.netLoc&&(l.netLoc=a.netLoc,"/"!==o.path[0]))if(o.path){var c=a.path,d=c.substring(0,c.lastIndexOf("/")+1)+o.path;l.path=s.normalizePath(d)}else l.path=a.path,o.params||(l.params=a.params,o.query||(l.query=a.query));return null===l.path&&(l.path=r.alwaysNormalize?s.normalizePath(o.path):o.path),s.buildURLFromParts(l)},parseURL:function(e){var t=n.exec(e);return t?{scheme:t[1]||"",netLoc:t[2]||"",path:t[3]||"",params:t[4]||"",query:t[5]||"",fragment:t[6]||""}:null},normalizePath:function(e){for(e=e.split("").reverse().join("").replace(o,"");e.length!==(e=e.replace(a,"")).length;);return e.split("").reverse().join("")},buildURLFromParts:function(e){return e.scheme+e.netLoc+e.path+e.params+e.query+e.fragment}},e.exports=s},function(t,r){t.exports=e},function(e,r){e.exports=t}])},e.exports=n(r(77),r(67))},,,function(e,t,r){e.exports=r(18).extend({resource_type:"soundVisual",hasDataForView:function(){return!0},baseUrl:r(0).noop},{hashFn:function(e){return e.urn}})},,,,,,,,,,,,,,,,,,,,,,,function(e,t,r){"use strict";t.sourceKey="function"==typeof Symbol?Symbol("source"):"routeabout.source",t.create=function(e){var r=void 0===e?{}:e,i=r.definitions,a=void 0===i?{}:i,u=r.includeQueryParams,l=void 0!==u&&u,c=r.caseInsensitive,d=void 0!==c&&c,f=function(e){return Object.keys(e).reduce((function(t,r){var n=e[r];return t[r]=o(n),t}),{})}(a),p=s(function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return t.reduce((function(e,t){for(var r in t)e[r]=t[r];return e}),e)}({},n,f),!0),h=l?"(?:\\?([\\s\\S]*))?":"",g=d?"i":"";return function(e){var r=new RegExp("^"+p(e)+h+"$",g);return r[t.sourceKey]=e,r}};var n={alpha:"[a-zA-Z_-]",alphanum:"[a-zA-Z0-9_-]",num:"[0-9]"},i="(\\+|\\*|\\?|\\{\\d+,?\\d*\\})?",o=s(n,!1);function a(e,t){return t.length-e.length}function s(e,t){var r=Object.keys(e).sort(a).join("|"),n=new RegExp("(?:\\(\\?)?:("+r+")"+i,"g"),o=/^\(\?:/,s=t?"":"?:",u=function(t,r,n){if(void 0===n&&(n=""),o.test(t))return t;var i=n?"(?:"+e[r]+")":e[r];return"("+s+i+n+")"};return function(e){return n.lastIndex=0,e.replace(n,u)}}},,,,,,,,,,,,,function(e,t,r){e.exports=r(30).extend({model:r(18).extend(),baseUrl:function(){return this.getEndpointUrl("meRightsholders")},parse:function(e){var t=r(3).get("me"),n=t.getUrn();return r(0).uniq(e||[],(function(e){return e.rightsholder_urn})).map((function(e){var r=e.name,i=e.rightsholder_urn;return r||i!==n?{name:r,rightsholder_urn:i}:{name:t.get("username"),rightsholder_urn:i}}))},availableTerritories:function(){var e=this.models.reduce((function(e,t){return e[t.get("rightsholder_urn")]=t.get("name"),e}),{});return r(0).object(r(0).map(r(38).monetizableCountryCodes(),(function(t){return[t,e]})))}},{hashFn:function(){return 1}})},,,,,,,,,,,,,,,,,,function(e,t,r){e.exports=r.p+"assets/images/station-overlay-3eaed411.svg"},function(e,t,r){e.exports=r.p+"assets/images/station-overlay-small-a969a059.svg"},,,,,,,,,function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAICAYAAADA+m62AAAAL0lEQVQY02NgIBf8D2Kw+x/CcPp/KMMpEBu3Qoii/2AMZBOnEGgqYatBGJ/V9AMAio8geR9OCzIAAAAASUVORK5CYII="},,,,function(e,t,r){e.exports=r(18).extend({},{neverRelease:!0,hashFn:function(){return 1}})},,,function(e,t,r){var n={"./activate":[720,4],"./activate.js":[720,4],"./activity":[721,0,1,2,5],"./activity.js":[721,0,1,2,5],"./charts":[722,0,1,6],"./charts.js":[722,0,1,6],"./checkout-redirect":[726,7],"./checkout-redirect.js":[726,7],"./collection":[727,0,1,8],"./collection.js":[727,0,1,8],"./copyright-form":[731,1,9],"./copyright-form.js":[731,1,9],"./developer-apps":[732,0,1,10],"./developer-apps.js":[732,0,1,10],"./discover":[733,0,1,11],"./discover.js":[733,0,1,11],"./error":[735,12],"./error.js":[735,12],"./front":[736,0,1,13],"./front.js":[736,0,1,13],"./inbox":[737,14],"./inbox.js":[737,14],"./listen":[739,0,1,2,15],"./listen-network":[738,0,1,16],"./listen-network.js":[738,0,1,16],"./listen.js":[739,0,1,2,15],"./logout":[740,17],"./logout.js":[740,17],"./mastering":[741,0,2,18],"./mastering.js":[741,0,2,18],"./mobile":[743,19],"./mobile-pulse":[742,0,20],"./mobile-pulse.js":[742,0,20],"./mobile.js":[743,19],"./off-platform-product":[744,0,2,21],"./off-platform-product.js":[744,0,2,21],"./oscp":[745,0,2,22],"./oscp.js":[745,0,2,22],"./password-reset-success":[746,23],"./password-reset-success.js":[746,23],"./people":[748,1,24],"./people-directory":[747,25],"./people-directory.js":[747,25],"./people.js":[748,1,24],"./popular-searches":[749,26],"./popular-searches.js":[749,26],"./product-manager":[750,0,27],"./product-manager.js":[750,0,27],"./reports":[751,0,28],"./reports.js":[751,0,28],"./search":[752,29],"./search.js":[752,29],"./settings":[753,30],"./settings.js":[753,30],"./signin":[754,31],"./signin.js":[754,31],"./static-page":[755,1,32],"./static-page.js":[755,1,32],"./station":[756,0,1,33],"./station.js":[756,0,1,33],"./stats":[757,0,2,3,34],"./stats.js":[757,0,2,3,34],"./stream":[758,0,1,35],"./stream.js":[758,0,1,35],"./subscriptions":[759,1,2,36],"./subscriptions.js":[759,1,2,36],"./system-playlist":[760,0,1,2,37],"./system-playlist.js":[760,0,1,2,37],"./tags":[761,0,1,38],"./tags.js":[761,0,1,38],"./track-manager":[762,0,1,39],"./track-manager.js":[762,0,1,39],"./track-monetization":[763,0,2,40],"./track-monetization.js":[763,0,2,40],"./track-stats":[764,0,2,3,41],"./track-stats.js":[764,0,2,3,41],"./unsubscribed":[765,42],"./unsubscribed.js":[765,42],"./upload":[766,0,1,43],"./upload.js":[766,0,1,43],"./user":[768,0,1,3,44],"./user-network":[767,0,1,45],"./user-network.js":[767,0,1,45],"./user.js":[768,0,1,3,44],"./widgets":[769,2,46],"./widgets.js":[769,2,46],"./xbox":[770,47],"./xbox.js":[770,47]};function i(e){if(!r.o(n,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=n[e],i=t[0];return Promise.all(t.slice(1).map(r.e)).then((function(){return r.t(i,7)}))}i.keys=function(){return Object.keys(n)},i.id=1091,e.exports=i},,,,,,function(e,t,r){},,,,,,,,,,,,,,,,,,,,,,function(e,t,r){e.exports=r(30).extend(r(156),{model:r(1120),next_href:!1,audibleAt:function(e){var t=this.at(e);return t&&t.getAudible()},getSourceInfo:function(){return{type:"conversation",resourceType:"user",resourceId:r(160).getInstance({id:this.options.conversationId}).getRecipient().id}},comparator:function(e){return e.get("timestamp")}},{hashFn:function(e,t){return t&&t.conversationId}})},function(e,t,r){e.exports=r(18).extend({_audible:null,setup:function(){var e,t=this.get("urn");t&&(e=r(53).getAsAttributes(t),this._audible=new(r(45))({resource_type:e.resource_type,id:e.id}),this.addSubmodel(this._audible))},getAudible:function(){return this._audible}})},,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAAAAACoWZBhAAAAAnRSTlMAAHaTzTgAAAAbSURBVHgBY0AGwUhUMKpAMFwNkIXBDMarFwEAHc0FMQseZ1QAAAAASUVORK5CYII="},,,,,,,,function(e,t,r){e.exports=r(51).extend({fields:{comment:{defaultValue:""}},addMention:function(e,t){if(e){var n=e.get("permalink"),i=r(0).initial(t.trim().split(" ")).concat(["@"+n]).join(" ")+" ";this.set("comment",i)}}},{hashFn:function(e,t){return e.type||t.resource_id||null}})},,,,function(e,t,r){e.exports=r.p+"assets/images/pulse-upsell-phones-c9c5eab0.png"},function(e,t,r){e.exports=r.p+"assets/images/pulse-upsell-phones@2x-0a7a02aa.png"},,,,,,,,,,,function(e,t,r){e.exports=r.p+"assets/images/at-icon-d02289ec.svg"},,,,,,,,,,,,,,,,,,function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+Cjxzdmcgd2lkdGg9IjE4cHgiIGhlaWdodD0iMjlweCIgdmlld0JveD0iMCAwIDE4IDI5IiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHhtbG5zOnNrZXRjaD0iaHR0cDovL3d3dy5ib2hlbWlhbmNvZGluZy5jb20vc2tldGNoL25zIj4KICAgIDwhLS0gR2VuZXJhdG9yOiBTa2V0Y2ggMy4yLjIgKDk5ODMpIC0gaHR0cDovL3d3dy5ib2hlbWlhbmNvZGluZy5jb20vc2tldGNoIC0tPgogICAgPHRpdGxlPlBsYXkgNjA8L3RpdGxlPgogICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+CiAgICA8ZGVmcz48L2RlZnM+CiAgICA8ZyBpZD0iUGFnZS0xIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIiBza2V0Y2g6dHlwZT0iTVNQYWdlIj4KICAgICAgICA8ZyBpZD0iYnV0dG9ucyIgc2tldGNoOnR5cGU9Ik1TQXJ0Ym9hcmRHcm91cCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTE2NjUuMDAwMDAwLCAtODE4LjAwMDAwMCkiIGZpbGw9IiNGRkZGRkYiPgogICAgICAgICAgICA8cGF0aCBkPSJNMTY2NSw4NDcgTDE2NjkuMTUzODUsODMyLjUgTDE2NjUsODE4IEwxNjgzLDgzMi41IEwxNjY1LDg0NyBaIiBpZD0iUGxheS02MCIgc2tldGNoOnR5cGU9Ik1TU2hhcGVHcm91cCI+PC9wYXRoPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+"},function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+Cjxzdmcgd2lkdGg9IjE4cHgiIGhlaWdodD0iMjdweCIgdmlld0JveD0iMCAwIDE4IDI3IiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHhtbG5zOnNrZXRjaD0iaHR0cDovL3d3dy5ib2hlbWlhbmNvZGluZy5jb20vc2tldGNoL25zIj4KICAgIDwhLS0gR2VuZXJhdG9yOiBTa2V0Y2ggMy4yLjIgKDk5ODMpIC0gaHR0cDovL3d3dy5ib2hlbWlhbmNvZGluZy5jb20vc2tldGNoIC0tPgogICAgPHRpdGxlPlBhdXNlIDYwPC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGRlZnM+PC9kZWZzPgogICAgPGcgaWQ9IlBhZ2UtMSIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCIgc2tldGNoOnR5cGU9Ik1TUGFnZSI+CiAgICAgICAgPGcgaWQ9ImJ1dHRvbnMiIHNrZXRjaDp0eXBlPSJNU0FydGJvYXJkR3JvdXAiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xNzQxLjAwMDAwMCwgLTgxOC4wMDAwMDApIiBmaWxsPSIjRkZGRkZGIj4KICAgICAgICAgICAgPHBhdGggZD0iTTE3NTIsODE4IEwxNzUyLDg0NSBMMTc1OSw4NDUgTDE3NTksODE4IEwxNzUyLDgxOCBaIE0xNzQxLDgxOCBMMTc0MSw4NDUgTDE3NDgsODQ1IEwxNzQ4LDgxOCBMMTc0MSw4MTggWiIgaWQ9IlBhdXNlLTYwIiBza2V0Y2g6dHlwZT0iTVNTaGFwZUdyb3VwIj48L3BhdGg+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4="},function(e,t,r){e.exports=r.p+"assets/images/buffering-d977ce5c.gif"},function(e,t,r){e.exports=r.p+"assets/images/buffering@2x-44e63555.gif"},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiI+CiAgPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjNjY2NjY2IiBzdHJva2Utd2lkdGg9IjEuNSIgZD0iTTExIDJMNSA4bDYgNiIvPgo8L3N2Zz4K"},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiI+CiAgPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjZTVlNWU1IiBzdHJva2Utd2lkdGg9IjEuNSIgZD0iTTExIDJMNSA4bDYgNiIvPgo8L3N2Zz4K"},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiI+CiAgPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjNjY2NjY2IiBzdHJva2Utd2lkdGg9IjEuNSIgZD0iTTUgMmw2IDYtNiA2Ii8+Cjwvc3ZnPgo="},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiI+CiAgPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjZTVlNWU1IiBzdHJva2Utd2lkdGg9IjEuNSIgZD0iTTUgMmw2IDYtNiA2Ii8+Cjwvc3ZnPgo="},,,,,,,,,,,,,,,,,,function(e,t,r){e.exports=r(696).extend({defaults:{prefix:"",context:null,urn:null},baseUrl:function(){var e=this.options,t={q:e.prefix.toLowerCase(),highlight_mode:"offsets",context:e.context&&e.context.map((function(e){return e.toLowerCase()})).join(","),urn:e.urn,user_id:r(3).get("me").id};return this.getEndpointUrl("searchSuggestTags",{},t)},parse:function(e){return r(0).pluck(e.suggestions,"id")}},{hashFn:function(e,t){var r=t.prefix,n=t.context,i=t.urn;return r+";"+JSON.stringify(n)+";"+i}})},,,,,,,,,,,,,,,,,,,,,,,,function(e,t,r){e.exports=r.p+"assets/images/big-checkbox@2x-a39eff53.png"},,,,,,,,,,,,,,,,,,,,,function(e,t){var r,n=e.exports={init:function(e){if(!e||!e.selector||!e.host)throw new Error("i18n locale iframe: Missing parameter(s)");(r=window.document.createElement("iframe")).src=e.host+"/i18n-locale-switcher.html",r.frameBorder=0,r.style.border="none",r.style.backgroundColor="transparent",window.addEventListener("message",i),window.document.querySelector(e.selector).appendChild(r)},onLocaleChange:function(){window.location.reload()}};function i(e){var t,i=e.data[0],o=e.data[1];if(!/https?:\/\/(.+\.|)soundcloud\.(com|dev\:[0-9]{4})/.test(e.origin))return!1;switch(i){case"i18n-locale:rendered":return t=o,r.style.width=t.width,void(r.style.height=t.height);case"i18n-locale:set-locale-always":return n.onLocaleChange()}}},,,,,,,,,,,,function(e,t,r){(function(t){var r;e.exports=function e(t,n,i){function o(s,u){if(!n[s]){if(!t[s]){if(!u&&"function"==typeof r&&r)return r(s,!0);if(a)return a(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[s]={exports:{}};t[s][0].call(c.exports,(function(e){var r=t[s][1][e];return o(r||e)}),c,c.exports,e,t,n,i)}return n[s].exports}for(var a="function"==typeof r&&r,s=0;s<i.length;s++)o(i[s]);return o}({1:[function(e,t,r){},{}],2:[function(e,t,r){t.exports=XMLHttpRequest},{}],3:[function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function a(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var l=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=function(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?a(e):t}(this,o(t).call(this)),u(a(r),"_array",void 0),u(a(r),"_size",void 0),r._array=e,r._size=e.length,r._isInitialized=!0,r}var r,l,c;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(t,e),r=t,c=[{key:"canReadFile",value:function(e){return Array.isArray(e)||"function"==typeof Buffer&&Buffer.isBuffer(e)}}],(l=[{key:"init",value:function(e){setTimeout(e.onSuccess,0)}},{key:"loadRange",value:function(e,t){setTimeout(t.onSuccess,0)}},{key:"getByteAt",value:function(e){if(e>=this._array.length)throw new Error("Offset "+e+" hasn't been loaded yet.");return this._array[e]}}])&&i(r.prototype,l),c&&i(r,c),t}(e("./MediaFileReader"));t.exports=l},{"./MediaFileReader":11}],4:[function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function a(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var l=e("./ChunkedFileData"),c=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=function(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?a(e):t}(this,o(t).call(this)),u(a(r),"_blob",void 0),u(a(r),"_fileData",void 0),r._blob=e,r._fileData=new l,r}var r,c,d;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(t,e),r=t,d=[{key:"canReadFile",value:function(e){return"undefined"!=typeof Blob&&e instanceof Blob||"undefined"!=typeof File&&e instanceof File}}],(c=[{key:"_init",value:function(e){this._size=this._blob.size,setTimeout(e.onSuccess,1)}},{key:"loadRange",value:function(e,t){var r=this,n=(this._blob.slice||this._blob.mozSlice||this._blob.webkitSlice).call(this._blob,e[0],e[1]+1),i=new FileReader;i.onloadend=function(n){var o=new Uint8Array(i.result);r._fileData.addData(e[0],o),t.onSuccess()},i.onerror=i.onabort=function(e){t.onError&&t.onError({type:"blob",info:i.error})},i.readAsArrayBuffer(n)}},{key:"getByteAt",value:function(e){return this._fileData.getByteAt(e)}}])&&i(r.prototype,c),d&&i(r,d),t}(e("./MediaFileReader"));t.exports=c},{"./ChunkedFileData":5,"./MediaFileReader":11}],5:[function(e,t,r){"use strict";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}var o=function(){function e(){var t,r,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),n=void 0,(r="_fileData")in(t=this)?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,this._fileData=[]}return i(e,null,[{key:"NOT_FOUND",get:function(){return-1}}]),i(e,[{key:"addData",value:function(e,t){var r=e+t.length-1,n=this._getChunkRange(e,r);if(-1===n.startIx)this._fileData.splice(n.insertIx||0,0,{offset:e,data:t});else{var i=this._fileData[n.startIx],o=this._fileData[n.endIx],a=e>i.offset,s=r<o.offset+o.data.length-1,u={offset:Math.min(e,i.offset),data:t};if(a){var l=this._sliceData(i.data,0,e-i.offset);u.data=this._concatData(l,t)}s&&(l=this._sliceData(u.data,0,o.offset-u.offset),u.data=this._concatData(l,o.data)),this._fileData.splice(n.startIx,n.endIx-n.startIx+1,u)}}},{key:"_concatData",value:function(e,t){if("undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView&&ArrayBuffer.isView(e)){var r=new e.constructor(e.length+t.length);return r.set(e,0),r.set(t,e.length),r}return e.concat(t)}},{key:"_sliceData",value:function(e,t,r){return e.slice?e.slice(t,r):e.subarray(t,r)}},{key:"_getChunkRange",value:function(e,t){for(var r=-1,n=-1,i=0,o=0;o<this._fileData.length;i=++o){var a=(s=this._fileData[o].offset)+this._fileData[o].data.length;if(t<s-1)break;if(e<=a+1&&t>=s-1){r=o;break}}if(-1===r)return{startIx:-1,endIx:-1,insertIx:i};for(o=r;o<this._fileData.length;o++){var s;if(t>=(s=this._fileData[o].offset)-1&&(n=o),t<=(a=s+this._fileData[o].data.length)+1)break}return-1===n&&(n=r),{startIx:r,endIx:n}}},{key:"hasDataRange",value:function(e,t){for(var r=0;r<this._fileData.length;r++){var n=this._fileData[r];if(t<n.offset)return!1;if(e>=n.offset&&t<n.offset+n.data.length)return!0}return!1}},{key:"getByteAt",value:function(e){for(var t,r=0;r<this._fileData.length;r++){var n=this._fileData[r].offset,i=n+this._fileData[r].data.length-1;if(e>=n&&e<=i){t=this._fileData[r];break}}if(t)return t.data[e-t.offset];throw new Error("Offset "+e+" hasn't been loaded yet.")}}]),e}();t.exports=o},{}],6:[function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function a(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var l=e("./MediaTagReader"),c=[4,132],d=[6,134],f=["Other","32x32 pixels 'file icon' (PNG only)","Other file icon","Cover (front)","Cover (back)","Leaflet page","Media (e.g. label side of CD)","Lead artist/lead performer/soloist","Artist/performer","Conductor","Band/Orchestra","Composer","Lyricist/text writer","Recording Location","During recording","During performance","Movie/video screen capture","A bright coloured fish","Illustration","Band/artist logotype","Publisher/Studio logotype"],p=function(e){function t(){var e,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,s=new Array(i),l=0;l<i;l++)s[l]=arguments[l];return r=function(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?a(e):t}(this,(e=o(t)).call.apply(e,[this].concat(s))),u(a(r),"_commentOffset",void 0),u(a(r),"_pictureOffset",void 0),r}var r,l,p;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(t,e),r=t,p=[{key:"getTagIdentifierByteRange",value:function(){return{offset:0,length:4}}},{key:"canReadTagFormat",value:function(e){return"fLaC"===String.fromCharCode.apply(String,e.slice(0,4))}}],(l=[{key:"_loadData",value:function(e,t){var r=this;e.loadRange([4,7],{onSuccess:function(){r._loadBlock(e,4,t)}})}},{key:"_loadBlock",value:function(e,t,r){var n=this,i=e.getByteAt(t),o=e.getInteger24At(t+1,!0);if(-1!==c.indexOf(i)){var a=t+4;e.loadRange([a,a+o],{onSuccess:function(){n._commentOffset=a,n._nextBlock(e,t,i,o,r)}})}else-1!==d.indexOf(i)?(a=t+4,e.loadRange([a,a+o],{onSuccess:function(){n._pictureOffset=a,n._nextBlock(e,t,i,o,r)}})):n._nextBlock(e,t,i,o,r)}},{key:"_nextBlock",value:function(e,t,r,n,i){var o=this;r>127?o._commentOffset?i.onSuccess():i.onError({type:"loadData",info:"Comment block could not be found."}):e.loadRange([t+4+n,t+4+4+n],{onSuccess:function(){o._loadBlock(e,t+4+n,i)}})}},{key:"_parseData",value:function(e,t){for(var r,n,i,o,a,s,u=e.getLongAt(this._commentOffset,!1)+(this._commentOffset+4),l=e.getLongAt(u,!1),c=u+4,d=0;d<l;d++){var p=e.getLongAt(c,!1),h=e.getStringWithCharsetAt(c+4,p,"utf-8").toString(),g=h.indexOf("="),y=[h.slice(0,g),h.slice(g+1)];switch(y[0]){case"TITLE":r=y[1];break;case"ARTIST":n=y[1];break;case"ALBUM":i=y[1];break;case"TRACKNUMBER":o=y[1];break;case"GENRE":a=y[1]}c+=4+p}if(this._pictureOffset){var m=e.getLongAt(this._pictureOffset,!0),_=this._pictureOffset+4,v=e.getLongAt(_,!0),b=_+4,w=e.getStringAt(b,v),E=b+v,S=e.getLongAt(E,!0),A=E+4,P=e.getStringWithCharsetAt(A,S,"utf-8").toString(),I=A+S+16,M=e.getLongAt(I,!0),T=I+4,k=e.getBytesAt(T,M,!0);s={format:w,type:f[m],description:P,data:k}}return{type:"FLAC",version:"1",tags:{title:r,artist:n,album:i,track:o,genre:a,picture:s}}}}])&&i(r.prototype,l),p&&i(r,p),t}(l);t.exports=p},{"./MediaTagReader":12}],7:[function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var u=e("./MediaTagReader"),l=(e("./MediaFileReader"),function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o(this,a(t).apply(this,arguments))}var r,n,u;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(t,e),r=t,u=[{key:"getTagIdentifierByteRange",value:function(){return{offset:-128,length:128}}},{key:"canReadTagFormat",value:function(e){return"TAG"===String.fromCharCode.apply(String,e.slice(0,3))}}],(n=[{key:"_loadData",value:function(e,t){var r=e.getSize();e.loadRange([r-128,r-1],t)}},{key:"_parseData",value:function(e,t){var r=e.getSize()-128,n=e.getStringWithCharsetAt(r+3,30).toString(),i=e.getStringWithCharsetAt(r+33,30).toString(),o=e.getStringWithCharsetAt(r+63,30).toString(),a=e.getStringWithCharsetAt(r+93,4).toString(),s=e.getByteAt(r+97+28),u=e.getByteAt(r+97+29);if(0==s&&0!=u)var l="1.1",d=e.getStringWithCharsetAt(r+97,28).toString();else l="1.0",d=e.getStringWithCharsetAt(r+97,30).toString(),u=0;var f=e.getByteAt(r+97+30);if(f<255)var p=c[f];else p="";var h={type:"ID3",version:l,tags:{title:n,artist:i,album:o,year:a,comment:d,genre:p}};return u&&(h.tags.track=u),h}}])&&i(r.prototype,n),u&&i(r,u),t}(u)),c=["Blues","Classic Rock","Country","Dance","Disco","Funk","Grunge","Hip-Hop","Jazz","Metal","New Age","Oldies","Other","Pop","R&B","Rap","Reggae","Rock","Techno","Industrial","Alternative","Ska","Death Metal","Pranks","Soundtrack","Euro-Techno","Ambient","Trip-Hop","Vocal","Jazz+Funk","Fusion","Trance","Classical","Instrumental","Acid","House","Game","Sound Clip","Gospel","Noise","AlternRock","Bass","Soul","Punk","Space","Meditative","Instrumental Pop","Instrumental Rock","Ethnic","Gothic","Darkwave","Techno-Industrial","Electronic","Pop-Folk","Eurodance","Dream","Southern Rock","Comedy","Cult","Gangsta","Top 40","Christian Rap","Pop/Funk","Jungle","Native American","Cabaret","New Wave","Psychadelic","Rave","Showtunes","Trailer","Lo-Fi","Tribal","Acid Punk","Acid Jazz","Polka","Retro","Musical","Rock & Roll","Hard Rock","Folk","Folk-Rock","National Folk","Swing","Fast Fusion","Bebob","Latin","Revival","Celtic","Bluegrass","Avantgarde","Gothic Rock","Progressive Rock","Psychedelic Rock","Symphonic Rock","Slow Rock","Big Band","Chorus","Easy Listening","Acoustic","Humour","Speech","Chanson","Opera","Chamber Music","Sonata","Symphony","Booty Bass","Primus","Porn Groove","Satire","Slow Jam","Club","Tango","Samba","Folklore","Ballad","Power Ballad","Rhythmic Soul","Freestyle","Duet","Punk Rock","Drum Solo","Acapella","Euro-House","Dance Hall"];t.exports=l},{"./MediaFileReader":11,"./MediaTagReader":12}],8:[function(e,t,r){"use strict";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}e("./MediaFileReader");var i=e("./StringUtils"),o=e("./ArrayFileReader"),a={BUF:"Recommended buffer size",CNT:"Play counter",COM:"Comments",CRA:"Audio encryption",CRM:"Encrypted meta frame",ETC:"Event timing codes",EQU:"Equalization",GEO:"General encapsulated object",IPL:"Involved people list",LNK:"Linked information",MCI:"Music CD Identifier",MLL:"MPEG location lookup table",PIC:"Attached picture",POP:"Popularimeter",REV:"Reverb",RVA:"Relative volume adjustment",SLT:"Synchronized lyric/text",STC:"Synced tempo codes",TAL:"Album/Movie/Show title",TBP:"BPM (Beats Per Minute)",TCM:"Composer",TCO:"Content type",TCR:"Copyright message",TDA:"Date",TDY:"Playlist delay",TEN:"Encoded by",TFT:"File type",TIM:"Time",TKE:"Initial key",TLA:"Language(s)",TLE:"Length",TMT:"Media type",TOA:"Original artist(s)/performer(s)",TOF:"Original filename",TOL:"Original Lyricist(s)/text writer(s)",TOR:"Original release year",TOT:"Original album/Movie/Show title",TP1:"Lead artist(s)/Lead performer(s)/Soloist(s)/Performing group",TP2:"Band/Orchestra/Accompaniment",TP3:"Conductor/Performer refinement",TP4:"Interpreted, remixed, or otherwise modified by",TPA:"Part of a set",TPB:"Publisher",TRC:"ISRC (International Standard Recording Code)",TRD:"Recording dates",TRK:"Track number/Position in set",TSI:"Size",TSS:"Software/hardware and settings used for encoding",TT1:"Content group description",TT2:"Title/Songname/Content description",TT3:"Subtitle/Description refinement",TXT:"Lyricist/text writer",TXX:"User defined text information frame",TYE:"Year",UFI:"Unique file identifier",ULT:"Unsychronized lyric/text transcription",WAF:"Official audio file webpage",WAR:"Official artist/performer webpage",WAS:"Official audio source webpage",WCM:"Commercial information",WCP:"Copyright/Legal information",WPB:"Publishers official webpage",WXX:"User defined URL link frame",AENC:"Audio encryption",APIC:"Attached picture",ASPI:"Audio seek point index",CHAP:"Chapter",CTOC:"Table of contents",COMM:"Comments",COMR:"Commercial frame",ENCR:"Encryption method registration",EQU2:"Equalisation (2)",EQUA:"Equalization",ETCO:"Event timing codes",GEOB:"General encapsulated object",GRID:"Group identification registration",IPLS:"Involved people list",LINK:"Linked information",MCDI:"Music CD identifier",MLLT:"MPEG location lookup table",OWNE:"Ownership frame",PRIV:"Private frame",PCNT:"Play counter",POPM:"Popularimeter",POSS:"Position synchronisation frame",RBUF:"Recommended buffer size",RVA2:"Relative volume adjustment (2)",RVAD:"Relative volume adjustment",RVRB:"Reverb",SEEK:"Seek frame",SYLT:"Synchronized lyric/text",SYTC:"Synchronized tempo codes",TALB:"Album/Movie/Show title",TBPM:"BPM (beats per minute)",TCOM:"Composer",TCON:"Content type",TCOP:"Copyright message",TDAT:"Date",TDLY:"Playlist delay",TDRC:"Recording time",TDRL:"Release time",TDTG:"Tagging time",TENC:"Encoded by",TEXT:"Lyricist/Text writer",TFLT:"File type",TIME:"Time",TIPL:"Involved people list",TIT1:"Content group description",TIT2:"Title/songname/content description",TIT3:"Subtitle/Description refinement",TKEY:"Initial key",TLAN:"Language(s)",TLEN:"Length",TMCL:"Musician credits list",TMED:"Media type",TMOO:"Mood",TOAL:"Original album/movie/show title",TOFN:"Original filename",TOLY:"Original lyricist(s)/text writer(s)",TOPE:"Original artist(s)/performer(s)",TORY:"Original release year",TOWN:"File owner/licensee",TPE1:"Lead performer(s)/Soloist(s)",TPE2:"Band/orchestra/accompaniment",TPE3:"Conductor/performer refinement",TPE4:"Interpreted, remixed, or otherwise modified by",TPOS:"Part of a set",TPRO:"Produced notice",TPUB:"Publisher",TRCK:"Track number/Position in set",TRDA:"Recording dates",TRSN:"Internet radio station name",TRSO:"Internet radio station owner",TSOA:"Album sort order",TSOP:"Performer sort order",TSOT:"Title sort order",TSIZ:"Size",TSRC:"ISRC (international standard recording code)",TSSE:"Software/Hardware and settings used for encoding",TSST:"Set subtitle",TYER:"Year",TXXX:"User defined text information frame",UFID:"Unique file identifier",USER:"Terms of use",USLT:"Unsychronized lyric/text transcription",WCOM:"Commercial information",WCOP:"Copyright/Legal information",WOAF:"Official audio file webpage",WOAR:"Official artist/performer webpage",WOAS:"Official audio source webpage",WORS:"Official internet radio station homepage",WPAY:"Payment",WPUB:"Publishers official webpage",WXXX:"User defined URL link frame"},s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r,i;return t=e,i=[{key:"getFrameReaderFunction",value:function(e){return e in u?u[e]:"T"===e[0]?u["T*"]:"W"===e[0]?u["W*"]:null}},{key:"readFrames",value:function(t,r,n,i,o){for(var a={},s=this._getFrameHeaderSize(i);t<r-s;){var u=this._readFrameHeader(n,t,i),l=u.id;if(!l)break;var c=u.flags,d=u.size,f=t+u.headerSize,p=n;if(t+=u.headerSize+u.size,!o||-1!==o.indexOf(l)){if("MP3e"===l||"\0MP3"===l||"\0\0MP"===l||" MP3"===l)break;c&&c.format.unsynchronisation&&(p=this.getUnsyncFileReader(p,f,d),f=0,d=p.getSize()),c&&c.format.data_length_indicator&&(f+=4,d-=4);var h=e.getFrameReaderFunction(l),g=h?h.apply(this,[f,d,p,c,i]):null,y={id:l,size:d,description:this._getFrameDescription(l),data:g};l in a?(a[l].id&&(a[l]=[a[l]]),a[l].push(y)):a[l]=y}}return a}},{key:"_getFrameHeaderSize",value:function(e){var t=e.major;return 2==t?6:3==t||4==t?10:0}},{key:"_readFrameHeader",value:function(e,t,r){var n=r.major,i=null,o=this._getFrameHeaderSize(r);switch(n){case 2:var a=e.getStringAt(t,3),s=e.getInteger24At(t+3,!0);break;case 3:a=e.getStringAt(t,4),s=e.getLongAt(t+4,!0);break;case 4:a=e.getStringAt(t,4),s=e.getSynchsafeInteger32At(t+4)}return a!=String.fromCharCode(0,0,0)&&a!=String.fromCharCode(0,0,0,0)||(a=""),a&&n>2&&(i=this._readFrameFlags(e,t+8)),{id:a||"",size:s||0,headerSize:o||0,flags:i}}},{key:"_readFrameFlags",value:function(e,t){return{message:{tag_alter_preservation:e.isBitSetAt(t,6),file_alter_preservation:e.isBitSetAt(t,5),read_only:e.isBitSetAt(t,4)},format:{grouping_identity:e.isBitSetAt(t+1,7),compression:e.isBitSetAt(t+1,3),encryption:e.isBitSetAt(t+1,2),unsynchronisation:e.isBitSetAt(t+1,1),data_length_indicator:e.isBitSetAt(t+1,0)}}}},{key:"_getFrameDescription",value:function(e){return e in a?a[e]:"Unknown"}},{key:"getUnsyncFileReader",value:function(e,t,r){for(var n=e.getBytesAt(t,r),i=0;i<n.length-1;i++)255===n[i]&&0===n[i+1]&&n.splice(i+1,1);return new o(n)}}],(r=null)&&n(t.prototype,r),i&&n(t,i),e}(),u={};function l(e){var t;switch(e){case 0:t="iso-8859-1";break;case 1:t="utf-16";break;case 2:t="utf-16be";break;case 3:t="utf-8";break;default:t="iso-8859-1"}return t}function c(e,t,r,n){var i=r.getStringWithCharsetAt(e+1,t-1,n),o=r.getStringWithCharsetAt(e+1+i.bytesReadCount,t-1-i.bytesReadCount,n);return{user_description:i.toString(),data:o.toString()}}u.APIC=function(e,t,r,n,i){var o=e,a=l(r.getByteAt(e));switch(i&&i.major){case 2:var s=r.getStringAt(e+1,3);e+=4;break;case 3:case 4:e+=1+(s=r.getStringWithCharsetAt(e+1,t-1)).bytesReadCount;break;default:throw new Error("Couldn't read ID3v2 major version.")}var u=r.getByteAt(e),c=d[u],f=r.getStringWithCharsetAt(e+1,t-(e-o)-1,a);return e+=1+f.bytesReadCount,{format:s.toString(),type:c,description:f.toString(),data:r.getBytesAt(e,o+t-e)}},u.CHAP=function(e,t,r,n,o){var a=e,s={},u=i.readNullTerminatedString(r.getBytesAt(e,t));s.id=u.toString(),e+=u.bytesReadCount,s.startTime=r.getLongAt(e,!0),e+=4,s.endTime=r.getLongAt(e,!0),e+=4,s.startOffset=r.getLongAt(e,!0),e+=4,s.endOffset=r.getLongAt(e,!0);var l=t-((e+=4)-a);return s.subFrames=this.readFrames(e,e+l,r,o),s},u.CTOC=function(e,t,r,n,o){var a=e,s={childElementIds:[],id:void 0,topLevel:void 0,ordered:void 0,entryCount:void 0,subFrames:void 0},u=i.readNullTerminatedString(r.getBytesAt(e,t));s.id=u.toString(),e+=u.bytesReadCount,s.topLevel=r.isBitSetAt(e,1),s.ordered=r.isBitSetAt(e,0),e++,s.entryCount=r.getByteAt(e),e++;for(var l=0;l<s.entryCount;l++){var c=i.readNullTerminatedString(r.getBytesAt(e,t-(e-a)));s.childElementIds.push(c.toString()),e+=c.bytesReadCount}var d=t-(e-a);return s.subFrames=this.readFrames(e,e+d,r,o),s},u.COMM=function(e,t,r,n,i){var o=e,a=l(r.getByteAt(e)),s=r.getStringAt(e+1,3),u=r.getStringWithCharsetAt(e+4,t-4,a);e+=4+u.bytesReadCount;var c=r.getStringWithCharsetAt(e,o+t-e,a);return{language:s,short_description:u.toString(),text:c.toString()}},u.COM=u.COMM,u.PIC=function(e,t,r,n,i){return u.APIC(e,t,r,n,i)},u.PCNT=function(e,t,r,n,i){return r.getLongAt(e,!1)},u.CNT=u.PCNT,u["T*"]=function(e,t,r,n,i){var o=l(r.getByteAt(e));return r.getStringWithCharsetAt(e+1,t-1,o).toString()},u.TXXX=function(e,t,r,n,i){var o=l(r.getByteAt(e));return c(e,t,r,o)},u.WXXX=function(e,t,r,n,i){if(0===t)return null;var o=l(r.getByteAt(e));return c(e,t,r,o)},u["W*"]=function(e,t,r,n,i){return 0===t?null:r.getStringWithCharsetAt(e,t,"iso-8859-1").toString()},u.TCON=function(e,t,r,n){var i=u["T*"].apply(this,arguments);return i.replace(/^\(\d+\)/,"")},u.TCO=u.TCON,u.USLT=function(e,t,r,n,i){var o=e,a=l(r.getByteAt(e)),s=r.getStringAt(e+1,3),u=r.getStringWithCharsetAt(e+4,t-4,a);e+=4+u.bytesReadCount;var c=r.getStringWithCharsetAt(e,o+t-e,a);return{language:s,descriptor:u.toString(),lyrics:c.toString()}},u.ULT=u.USLT,u.UFID=function(e,t,r,n,o){var a=i.readNullTerminatedString(r.getBytesAt(e,t));e+=a.bytesReadCount;var s=r.getBytesAt(e,t-a.bytesReadCount);return{ownerIdentifier:a.toString(),identifier:s}};var d=["Other","32x32 pixels 'file icon' (PNG only)","Other file icon","Cover (front)","Cover (back)","Leaflet page","Media (e.g. label side of CD)","Lead artist/lead performer/soloist","Artist/performer","Conductor","Band/Orchestra","Composer","Lyricist/text writer","Recording Location","During recording","During performance","Movie/video screen capture","A bright coloured fish","Illustration","Band/artist logotype","Publisher/Studio logotype"];t.exports=s},{"./ArrayFileReader":3,"./MediaFileReader":11,"./StringUtils":13}],9:[function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var u=e("./MediaTagReader"),l=(e("./MediaFileReader"),e("./ID3v2FrameReader")),c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o(this,a(t).apply(this,arguments))}var r,n,u;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(t,e),r=t,u=[{key:"getTagIdentifierByteRange",value:function(){return{offset:0,length:10}}},{key:"canReadTagFormat",value:function(e){return"ID3"===String.fromCharCode.apply(String,e.slice(0,3))}}],(n=[{key:"_loadData",value:function(e,t){e.loadRange([6,9],{onSuccess:function(){e.loadRange([0,10+e.getSynchsafeInteger32At(6)-1],t)},onError:t.onError})}},{key:"_parseData",value:function(e,t){var r=0,n=e.getByteAt(r+3);if(n>4)return{type:"ID3",version:">2.4",tags:{}};var i=e.getByteAt(r+4),o=e.isBitSetAt(r+5,7),a=e.isBitSetAt(r+5,6),s=e.isBitSetAt(r+5,5),u=e.getSynchsafeInteger32At(r+6);r+=10,a&&(r+=4===n?e.getSynchsafeInteger32At(r):e.getLongAt(r,!0)+4);var c={type:"ID3",version:"2."+n+"."+i,major:n,revision:i,flags:{unsynchronisation:o,extended_header:a,experimental_indicator:s,footer_present:!1},size:u,tags:{}};if(t)var f=this._expandShortcutTags(t);var p=u+10;c.flags.unsynchronisation&&(e=l.getUnsyncFileReader(e,r,u),r=0,p=e.getSize());var h=l.readFrames(r,p,e,c,f);for(var g in d)if(d.hasOwnProperty(g)){var y=this._getFrameData(h,d[g]);y&&(c.tags[g]=y)}for(var m in h)h.hasOwnProperty(m)&&(c.tags[m]=h[m]);return c}},{key:"_getFrameData",value:function(e,t){for(var r,n=0;r=t[n];n++)if(r in e)return(e[r]instanceof Array?e[r][0]:e[r]).data}},{key:"getShortcuts",value:function(){return d}}])&&i(r.prototype,n),u&&i(r,u),t}(u),d={title:["TIT2","TT2"],artist:["TPE1","TP1"],album:["TALB","TAL"],year:["TYER","TYE"],comment:["COMM","COM"],track:["TRCK","TRK"],genre:["TCON","TCO"],picture:["APIC","PIC"],lyrics:["USLT","ULT"]};t.exports=c},{"./ID3v2FrameReader":8,"./MediaFileReader":11,"./MediaTagReader":12}],10:[function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var u=e("./MediaTagReader"),l=(e("./MediaFileReader"),function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o(this,a(t).apply(this,arguments))}var r,n,u;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(t,e),r=t,u=[{key:"getTagIdentifierByteRange",value:function(){return{offset:0,length:16}}},{key:"canReadTagFormat",value:function(e){return"ftyp"===String.fromCharCode.apply(String,e.slice(4,8))}}],(n=[{key:"_loadData",value:function(e,t){var r=this;e.loadRange([0,16],{onSuccess:function(){r._loadAtom(e,0,"",t)},onError:t.onError})}},{key:"_loadAtom",value:function(e,t,r,n){if(t>=e.getSize())n.onSuccess();else{var i=this,o=e.getLongAt(t,!0);if(0==o||isNaN(o))n.onSuccess();else{var a=e.getStringAt(t+4,4);if(this._isContainerAtom(a)){"meta"==a&&(t+=4);var s=(r?r+".":"")+a;"moov.udta.meta.ilst"===s?e.loadRange([t,t+o],n):e.loadRange([t+8,t+8+8],{onSuccess:function(){i._loadAtom(e,t+8,s,n)},onError:n.onError})}else e.loadRange([t+o,t+o+8],{onSuccess:function(){i._loadAtom(e,t+o,r,n)},onError:n.onError})}}}},{key:"_isContainerAtom",value:function(e){return["moov","udta","meta","ilst"].indexOf(e)>=0}},{key:"_canReadAtom",value:function(e){return"----"!==e}},{key:"_parseData",value:function(e,t){var r={};for(var n in t=this._expandShortcutTags(t),this._readAtom(r,e,0,e.getSize(),t),f)if(f.hasOwnProperty(n)){var i=r[f[n]];i&&(r[n]="track"===n?i.data.track:i.data)}return{type:"MP4",ftyp:e.getStringAt(8,4),version:e.getLongAt(12,!0),tags:r}}},{key:"_readAtom",value:function(e,t,r,n,i,o,a){a=void 0===a?"":a+"  ";for(var s=r;s<r+n;){var u=t.getLongAt(s,!0);if(0==u)return;var l=t.getStringAt(s+4,4);if(this._isContainerAtom(l)){"meta"==l&&(s+=4);var c=(o?o+".":"")+l;return void this._readAtom(e,t,s+8,u-8,i,c,a)}(!i||i.indexOf(l)>=0)&&"moov.udta.meta.ilst"===o&&this._canReadAtom(l)&&(e[l]=this._readMetadataAtom(t,s)),s+=u}}},{key:"_readMetadataAtom",value:function(e,t){var r=e.getLongAt(t,!0),n=e.getStringAt(t+4,4),i=e.getInteger24At(t+16+1,!0),o=c[i];if("trkn"==n)a={track:e.getByteAt(t+16+11),total:e.getByteAt(t+16+13)};else if("disk"==n)a={disk:e.getByteAt(t+16+11),total:e.getByteAt(t+16+13)};else{var a,s=t+24,u=r-24;switch("covr"===n&&"uint8"===o&&(o="jpeg"),o){case"text":a=e.getStringWithCharsetAt(s,u,"utf-8").toString();break;case"uint8":a=e.getShortAt(s,!1);break;case"int":case"uint":a=("int"==o?1==u?e.getSByteAt:2==u?e.getSShortAt:4==u?e.getSLongAt:e.getLongAt:1==u?e.getByteAt:2==u?e.getShortAt:e.getLongAt).call(e,s+(8==u?4:0),!0);break;case"jpeg":case"png":a={format:"image/"+o,data:e.getBytesAt(s,u)}}}return{id:n,size:r,description:d[n]||"Unknown",data:a}}},{key:"getShortcuts",value:function(){return f}}])&&i(r.prototype,n),u&&i(r,u),t}(u)),c={0:"uint8",1:"text",13:"jpeg",14:"png",21:"int",22:"uint"},d={"alb":"Album","ART":"Artist",aART:"Album Artist","day":"Release Date","nam":"Title","gen":"Genre",gnre:"Genre",trkn:"Track Number","wrt":"Composer","too":"Encoding Tool","enc":"Encoded By",cprt:"Copyright",covr:"Cover Art","grp":"Grouping",keyw:"Keywords","lyr":"Lyrics","cmt":"Comment",tmpo:"Tempo",cpil:"Compilation",disk:"Disc Number",tvsh:"TV Show Name",tven:"TV Episode ID",tvsn:"TV Season",tves:"TV Episode",tvnn:"TV Network",desc:"Description",ldes:"Long Description",sonm:"Sort Name",soar:"Sort Artist",soaa:"Sort Album",soco:"Sort Composer",sosn:"Sort Show",purd:"Purchase Date",pcst:"Podcast",purl:"Podcast URL",catg:"Category",hdvd:"HD Video",stik:"Media Type",rtng:"Content Rating",pgap:"Gapless Playback",apID:"Purchase Account",sfID:"Country Code",atID:"Artist ID",cnID:"Catalog ID",plID:"Collection ID",geID:"Genre ID","xid ":"Vendor Information",flvr:"Codec Flavor"},f={title:"nam",artist:"ART",album:"alb",year:"day",comment:"cmt",track:"trkn",genre:"gen",picture:"covr",lyrics:"lyr"};t.exports=l},{"./MediaFileReader":11,"./MediaTagReader":12}],11:[function(e,t,r){"use strict";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var o=e("./StringUtils"),a=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),i(this,"_isInitialized",void 0),i(this,"_size",void 0),this._isInitialized=!1,this._size=0}var t,r,a;return t=e,a=[{key:"canReadFile",value:function(e){throw new Error("Must implement canReadFile function")}}],(r=[{key:"init",value:function(e){var t=this;if(!this._isInitialized)return this._init({onSuccess:function(){t._isInitialized=!0,e.onSuccess()},onError:e.onError});setTimeout(e.onSuccess,1)}},{key:"_init",value:function(e){throw new Error("Must implement init function")}},{key:"loadRange",value:function(e,t){throw new Error("Must implement loadRange function")}},{key:"getSize",value:function(){if(!this._isInitialized)throw new Error("init() must be called first.");return this._size}},{key:"getByteAt",value:function(e){throw new Error("Must implement getByteAt function")}},{key:"getBytesAt",value:function(e,t){for(var r=new Array(t),n=0;n<t;n++)r[n]=this.getByteAt(e+n);return r}},{key:"isBitSetAt",value:function(e,t){return 0!=(this.getByteAt(e)&1<<t)}},{key:"getSByteAt",value:function(e){var t=this.getByteAt(e);return t>127?t-256:t}},{key:"getShortAt",value:function(e,t){var r=t?(this.getByteAt(e)<<8)+this.getByteAt(e+1):(this.getByteAt(e+1)<<8)+this.getByteAt(e);return r<0&&(r+=65536),r}},{key:"getSShortAt",value:function(e,t){var r=this.getShortAt(e,t);return r>32767?r-65536:r}},{key:"getLongAt",value:function(e,t){var r=this.getByteAt(e),n=this.getByteAt(e+1),i=this.getByteAt(e+2),o=this.getByteAt(e+3),a=t?(((r<<8)+n<<8)+i<<8)+o:(((o<<8)+i<<8)+n<<8)+r;return a<0&&(a+=4294967296),a}},{key:"getSLongAt",value:function(e,t){var r=this.getLongAt(e,t);return r>2147483647?r-4294967296:r}},{key:"getInteger24At",value:function(e,t){var r=this.getByteAt(e),n=this.getByteAt(e+1),i=this.getByteAt(e+2),o=t?((r<<8)+n<<8)+i:((i<<8)+n<<8)+r;return o<0&&(o+=16777216),o}},{key:"getStringAt",value:function(e,t){for(var r=[],n=e,i=0;n<e+t;n++,i++)r[i]=String.fromCharCode(this.getByteAt(n));return r.join("")}},{key:"getStringWithCharsetAt",value:function(e,t,r){var n,i=this.getBytesAt(e,t);switch((r||"").toLowerCase()){case"utf-16":case"utf-16le":case"utf-16be":n=o.readUTF16String(i,"utf-16be"===r);break;case"utf-8":n=o.readUTF8String(i);break;default:n=o.readNullTerminatedString(i)}return n}},{key:"getCharAt",value:function(e){return String.fromCharCode(this.getByteAt(e))}},{key:"getSynchsafeInteger32At",value:function(e){var t=this.getByteAt(e),r=this.getByteAt(e+1),n=this.getByteAt(e+2);return 127&this.getByteAt(e+3)|(127&n)<<7|(127&r)<<14|(127&t)<<21}}])&&n(t.prototype,r),a&&n(t,a),e}();t.exports=a},{"./StringUtils":13}],12:[function(e,t,r){"use strict";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}e("./MediaFileReader");var o=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),i(this,"_mediaFileReader",void 0),i(this,"_tags",void 0),this._mediaFileReader=t,this._tags=null}var t,r,o;return t=e,o=[{key:"getTagIdentifierByteRange",value:function(){throw new Error("Must implement")}},{key:"canReadTagFormat",value:function(e){throw new Error("Must implement")}}],(r=[{key:"setTagsToRead",value:function(e){return this._tags=e,this}},{key:"read",value:function(e){var t=this;this._mediaFileReader.init({onSuccess:function(){t._loadData(t._mediaFileReader,{onSuccess:function(){try{var r=t._parseData(t._mediaFileReader,t._tags)}catch(t){if(e.onError)return void e.onError({type:"parseData",info:t.message})}e.onSuccess(r)},onError:e.onError})},onError:e.onError})}},{key:"getShortcuts",value:function(){return{}}},{key:"_loadData",value:function(e,t){throw new Error("Must implement _loadData function")}},{key:"_parseData",value:function(e,t){throw new Error("Must implement _parseData function")}},{key:"_expandShortcutTags",value:function(e){if(!e)return null;for(var t,r=[],n=this.getShortcuts(),i=0;t=e[i];i++)r=r.concat(n[t]||[t]);return r}}])&&n(t.prototype,r),o&&n(t,o),e}();t.exports=o},{"./MediaFileReader":11}],13:[function(e,t,r){"use strict";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var o=function(){function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),i(this,"_value",void 0),i(this,"bytesReadCount",void 0),i(this,"length",void 0),this._value=t,this.bytesReadCount=r,this.length=t.length}var t,r,o;return t=e,(r=[{key:"toString",value:function(){return this._value}}])&&n(t.prototype,r),o&&n(t,o),e}(),a={readUTF16String:function(e,t,r){var n=0,i=1,a=0;r=Math.min(r||e.length,e.length),254==e[0]&&255==e[1]?(t=!0,n=2):255==e[0]&&254==e[1]&&(t=!1,n=2),t&&(i=0,a=1);for(var s=[],u=0;n<r;u++){var l=e[n+i],c=(l<<8)+e[n+a];if(n+=2,0==c)break;if(l<216||l>=224)s[u]=String.fromCharCode(c);else{var d=(e[n+i]<<8)+e[n+a];n+=2,s[u]=String.fromCharCode(c,d)}}return new o(s.join(""),n)},readUTF8String:function(e,t){var r=0;t=Math.min(t||e.length,e.length),239==e[0]&&187==e[1]&&191==e[2]&&(r=3);for(var n=[],i=0;r<t;i++){var a=e[r++];if(0==a)break;if(a<128)n[i]=String.fromCharCode(a);else if(a>=194&&a<224){var s=e[r++];n[i]=String.fromCharCode(((31&a)<<6)+(63&s))}else if(a>=224&&a<240){s=e[r++];var u=e[r++];n[i]=String.fromCharCode(((255&a)<<12)+((63&s)<<6)+(63&u))}else if(a>=240&&a<245){var l=((7&a)<<18)+((63&(s=e[r++]))<<12)+((63&(u=e[r++]))<<6)+(63&e[r++])-65536;n[i]=String.fromCharCode(55296+(l>>10),56320+(1023&l))}}return new o(n.join(""),r)},readNullTerminatedString:function(e,t){var r=[];t=t||e.length;for(var n=0;n<t;){var i=e[n++];if(0==i)break;r[n-1]=String.fromCharCode(i)}return new o(r.join(""),n)}};t.exports=a},{}],14:[function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function a(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var l=e("./ChunkedFileData"),c=e("./MediaFileReader"),d=function(t){function r(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),t=function(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?a(e):t}(this,o(r).call(this)),u(a(t),"_url",void 0),u(a(t),"_fileData",void 0),t._url=e,t._fileData=new l,t}var c,d,f;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(r,t),c=r,f=[{key:"canReadFile",value:function(e){return"string"==typeof e&&/^[a-z]+:\/\//i.test(e)}},{key:"setConfig",value:function(e){for(var t in e)e.hasOwnProperty(t)&&(this._config[t]=e[t]);for(var r=this._config.disallowedXhrHeaders,n=0;n<r.length;n++)r[n]=r[n].toLowerCase()}}],(d=[{key:"_init",value:function(e){r._config.avoidHeadRequests?this._fetchSizeWithGetRequest(e):this._fetchSizeWithHeadRequest(e)}},{key:"_fetchSizeWithHeadRequest",value:function(e){var t=this;this._makeXHRRequest("HEAD",null,{onSuccess:function(r){var n=t._parseContentLength(r);n?(t._size=n,e.onSuccess()):t._fetchSizeWithGetRequest(e)},onError:e.onError})}},{key:"_fetchSizeWithGetRequest",value:function(e){var t=this,r=this._roundRangeToChunkMultiple([0,0]);this._makeXHRRequest("GET",r,{onSuccess:function(r){var n=t._parseContentRange(r),i=t._getXhrResponseContent(r);if(n){if(null==n.instanceLength)return void t._fetchEntireFile(e);t._size=n.instanceLength}else t._size=i.length;t._fileData.addData(0,i),e.onSuccess()},onError:e.onError})}},{key:"_fetchEntireFile",value:function(e){var t=this;this._makeXHRRequest("GET",null,{onSuccess:function(r){var n=t._getXhrResponseContent(r);t._size=n.length,t._fileData.addData(0,n),e.onSuccess()},onError:e.onError})}},{key:"_getXhrResponseContent",value:function(e){return e.responseBody||e.responseText||""}},{key:"_parseContentLength",value:function(e){var t=this._getResponseHeader(e,"Content-Length");return null==t?t:parseInt(t,10)}},{key:"_parseContentRange",value:function(e){var t=this._getResponseHeader(e,"Content-Range");if(t){var r=t.match(/bytes (\d+)-(\d+)\/(?:(\d+)|\*)/i);if(!r)throw new Error("FIXME: Unknown Content-Range syntax: "+t);return{firstBytePosition:parseInt(r[1],10),lastBytePosition:parseInt(r[2],10),instanceLength:r[3]?parseInt(r[3],10):null}}return null}},{key:"loadRange",value:function(e,t){var r=this;r._fileData.hasDataRange(e[0],Math.min(r._size,e[1]))?setTimeout(t.onSuccess,1):((e=this._roundRangeToChunkMultiple(e))[1]=Math.min(r._size,e[1]),this._makeXHRRequest("GET",e,{onSuccess:function(n){var i=r._getXhrResponseContent(n);r._fileData.addData(e[0],i),t.onSuccess()},onError:t.onError}))}},{key:"_roundRangeToChunkMultiple",value:function(e){var t=e[1]-e[0]+1,r=1024*Math.ceil(t/1024);return[e[0],e[0]+r-1]}},{key:"_makeXHRRequest",value:function(e,t,n){var i=this._createXHRObject();i.open(e,this._url);var o=function(){200===i.status||206===i.status?n.onSuccess(i):n.onError&&n.onError({type:"xhr",info:"Unexpected HTTP status "+i.status+".",xhr:i}),i=null};void 0!==i.onload?(i.onload=o,i.onerror=function(){n.onError&&n.onError({type:"xhr",info:"Generic XHR error, check xhr object.",xhr:i})}):i.onreadystatechange=function(){4===i.readyState&&o()},r._config.timeoutInSec&&(i.timeout=1e3*r._config.timeoutInSec,i.ontimeout=function(){n.onError&&n.onError({type:"xhr",info:"Timeout after "+i.timeout/1e3+"s. Use jsmediatags.Config.setXhrTimeout to override.",xhr:i})}),i.overrideMimeType("text/plain; charset=x-user-defined"),t&&this._setRequestHeader(i,"Range","bytes="+t[0]+"-"+t[1]),this._setRequestHeader(i,"If-Modified-Since","Sat, 01 Jan 1970 00:00:00 GMT"),i.send(null)}},{key:"_setRequestHeader",value:function(e,t,n){r._config.disallowedXhrHeaders.indexOf(t.toLowerCase())<0&&e.setRequestHeader(t,n)}},{key:"_hasResponseHeader",value:function(e,t){var r=e.getAllResponseHeaders();if(!r)return!1;for(var n=r.split("\r\n"),i=[],o=0;o<n.length;o++)i[o]=n[o].split(":")[0].toLowerCase();return i.indexOf(t.toLowerCase())>=0}},{key:"_getResponseHeader",value:function(e,t){return this._hasResponseHeader(e,t)?e.getResponseHeader(t):null}},{key:"getByteAt",value:function(e){return 255&this._fileData.getByteAt(e).charCodeAt(0)}},{key:"_isWebWorker",value:function(){return"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope}},{key:"_createXHRObject",value:function(){if("undefined"==typeof window&&!this._isWebWorker())return new(e("xhr2").XMLHttpRequest);if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;throw new Error("XMLHttpRequest is not supported")}}])&&i(c.prototype,d),f&&i(c,f),r}(c);u(d,"_config",void 0),d._config={avoidHeadRequests:!1,disallowedXhrHeaders:[],timeoutInSec:30},t.exports=d},{"./ChunkedFileData":5,"./MediaFileReader":11,xhr2:2}],15:[function(e,r,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),e}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}e("./MediaFileReader");var u=e("./XhrFileReader"),l=e("./BlobFileReader"),c=e("./ArrayFileReader"),d=(e("./MediaTagReader"),e("./ID3v1TagReader")),f=e("./ID3v2TagReader"),p=e("./MP4TagReader"),h=e("./FLACTagReader"),g=[],y=[];function m(e,t){var r=e.offset>=0&&e.offset+e.length>=t,n=e.offset<0&&(-e.offset>t||e.offset+e.length>0);return!(r||n)}var _=function(){function e(t){i(this,e),s(this,"_file",void 0),s(this,"_tagsToRead",void 0),s(this,"_fileReader",void 0),s(this,"_tagReader",void 0),this._file=t}return a(e,[{key:"setTagsToRead",value:function(e){return this._tagsToRead=e,this}},{key:"setFileReader",value:function(e){return this._fileReader=e,this}},{key:"setTagReader",value:function(e){return this._tagReader=e,this}},{key:"read",value:function(e){var t=new(this._getFileReader())(this._file),r=this;t.init({onSuccess:function(){r._getTagReader(t,{onSuccess:function(n){new n(t).setTagsToRead(r._tagsToRead).read(e)},onError:e.onError})},onError:e.onError})}},{key:"_getFileReader",value:function(){return this._fileReader?this._fileReader:this._findFileReader()}},{key:"_findFileReader",value:function(){for(var e=0;e<g.length;e++)if(g[e].canReadFile(this._file))return g[e];throw new Error("No suitable file reader found for "+this._file)}},{key:"_getTagReader",value:function(e,t){if(this._tagReader){var r=this._tagReader;setTimeout((function(){t.onSuccess(r)}),1)}else this._findTagReader(e,t)}},{key:"_findTagReader",value:function(e,t){for(var r=[],n=[],i=e.getSize(),o=0;o<y.length;o++){var a=y[o].getTagIdentifierByteRange();m(a,i)&&(a.offset>=0&&a.offset<i/2||a.offset<0&&a.offset<-i/2?r.push(y[o]):n.push(y[o]))}var s=!1,u={onSuccess:function(){if(s){for(var r=0;r<y.length;r++){var n=y[r].getTagIdentifierByteRange();if(m(n,i)){try{var o=e.getBytesAt(n.offset>=0?n.offset:n.offset+i,n.length)}catch(e){return void(t.onError&&t.onError({type:"fileReader",info:e.message}))}if(y[r].canReadTagFormat(o))return void t.onSuccess(y[r])}}t.onError&&t.onError({type:"tagFormat",info:"No suitable tag reader found"})}else s=!0},onError:t.onError};this._loadTagIdentifierRanges(e,r,u),this._loadTagIdentifierRanges(e,n,u)}},{key:"_loadTagIdentifierRanges",value:function(e,t,r){if(0!==t.length){for(var n=[Number.MAX_VALUE,0],i=e.getSize(),o=0;o<t.length;o++){var a=t[o].getTagIdentifierByteRange(),s=a.offset>=0?a.offset:a.offset+i,u=s+a.length-1;n[0]=Math.min(s,n[0]),n[1]=Math.max(u,n[1])}e.loadRange(n,r)}else setTimeout(r.onSuccess,1)}}]),e}(),v=function(){function e(){i(this,e)}return a(e,null,[{key:"addFileReader",value:function(t){return g.push(t),e}},{key:"addTagReader",value:function(t){return y.push(t),e}},{key:"removeTagReader",value:function(t){var r=y.indexOf(t);return r>=0&&y.splice(r,1),e}},{key:"EXPERIMENTAL_avoidHeadRequests",value:function(){u.setConfig({avoidHeadRequests:!0})}},{key:"setDisallowedXhrHeaders",value:function(e){u.setConfig({disallowedXhrHeaders:e})}},{key:"setXhrTimeoutInSec",value:function(e){u.setConfig({timeoutInSec:e})}}]),e}();if(v.addFileReader(u).addFileReader(l).addFileReader(c).addTagReader(f).addTagReader(d).addTagReader(p).addTagReader(h),void 0!==t&&!t.browser)if("undefined"!=typeof navigator&&"ReactNative"===navigator.product){var b=e("./ReactNativeFileReader");v.addFileReader(b)}else{var w=e("./NodeFileReader");v.addFileReader(w)}r.exports={read:function(e,t){new _(e).read(t)},Reader:_,Config:v}},{"./ArrayFileReader":3,"./BlobFileReader":4,"./FLACTagReader":6,"./ID3v1TagReader":7,"./ID3v2TagReader":9,"./MP4TagReader":10,"./MediaFileReader":11,"./MediaTagReader":12,"./NodeFileReader":1,"./ReactNativeFileReader":1,"./XhrFileReader":14}]},{},[15])(15)}).call(this,r(500))},,,,,,function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAQAAAC1+jfqAAAAMklEQVR4AWP838CAAHA2gs+EXxqoAJ80WAFuaagCXNJwBTikEQrwSCOswOcTiILRcAAAsB4Rn0zqTUIAAAAASUVORK5CYII="},,,,,,,,,,,,,,,,,,,,,,function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMiAyMiI+CiAgICA8ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxwYXRoIGQ9Ik0tMS0xaDI0djI0SC0xeiIvPgogICAgICAgIDxwYXRoIGZpbGw9IiMxNTgwMTMiIGZpbGwtcnVsZT0ibm9uemVybyIgZD0iTTExIDJjLTQuOTY3IDAtOSA0LjAzMy05IDlzNC4wMzMgOSA5IDkgOS00LjAzMyA5LTktNC4wMzMtOS05LTl6bTAtMmM2LjA3MiAwIDExIDQuOTI4IDExIDExcy00LjkyOCAxMS0xMSAxMVMwIDE3LjA3MiAwIDExIDQuOTI4IDAgMTEgMHoiLz4KICAgICAgICA8ZyBmaWxsPSIjMTU4MDEzIj4KICAgICAgICAgICAgPHBhdGggZD0iTTguNjcyIDE0LjAzNmw1LjY1OC01LjY2YS45OTYuOTk2IDAgMCAxIDEuNDEzLjAwMy45OTkuOTk5IDAgMCAxIC4wMDEgMS40MTJsLTQuOTUzIDQuOTUzYS45OTYuOTk2IDAgMCAxLTEuNDEyLS4wMDFsLS43MDctLjcwN3oiLz4KICAgICAgICAgICAgPHBhdGggZD0iTTcuMjU3IDExLjIwN2EuOTk3Ljk5NyAwIDAgMCAwIDEuNDE0bDIuMTIyIDIuMTIyYS45OTcuOTk3IDAgMCAwIDEuNDE0IDBsLjcwNy0uNzA3LTIuODI5LTIuODI5YS45OTcuOTk3IDAgMCAwLTEuNDE0IDB6Ii8+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4K"},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMiAyMiI+CiAgICA8ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIHRyYW5zZm9ybT0ibWF0cml4KDEgMCAwIC0xIC0xIDIzKSI+CiAgICAgICAgPHBhdGggZD0iTTAgMGgyMy42MDh2MjRIMHoiLz4KICAgICAgICA8cGF0aCBmaWxsPSIjMTk5MUZCIiBmaWxsLXJ1bGU9Im5vbnplcm8iIGQ9Ik0xMS44MDQgM2MtNC44ODYgMC04Ljg1MyA0LjAzMy04Ljg1MyA5czMuOTY3IDkgOC44NTMgOWM0Ljg4NiAwIDguODUzLTQuMDMzIDguODUzLTlzLTMuOTY3LTktOC44NTMtOXptMC0yYzUuOTczIDAgMTAuODIgNC45MjggMTAuODIgMTFzLTQuODQ3IDExLTEwLjgyIDExUy45ODQgMTguMDcyLjk4NCAxMiA1LjgzIDEgMTEuODA0IDF6Ii8+CiAgICAgICAgPHBhdGggZmlsbD0iIzE5OTFGQiIgZmlsbC1ydWxlPSJub256ZXJvIiBkPSJNMTIuMjg4IDEzaC0uOTY4YS41LjUgMCAwIDEtLjUtLjVWNy43YS41LjUgMCAwIDEgLjUtLjVoLjk2OGEuNS41IDAgMCAxIC41LjV2NC44YS41LjUgMCAwIDEtLjUuNXoiLz4KICAgICAgICA8ZWxsaXBzZSBjeD0iMTEuODA0IiBjeT0iMTUuNSIgZmlsbD0iIzE5OTFGQiIgZmlsbC1ydWxlPSJub256ZXJvIiByeD0iMS40NzYiIHJ5PSIxLjUiLz4KICAgIDwvZz4KPC9zdmc+Cg=="},function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+Cjxzdmcgd2lkdGg9IjEycHgiIGhlaWdodD0iMTJweCIgdmlld0JveD0iMCAwIDEyIDEyIiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgICA8dGl0bGU+UHJvIFN0YXI8L3RpdGxlPgogICAgPGcgaWQ9IlBhZ2UtMSIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICAgICAgPGcgaWQ9ImJ1dHRvbnMiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0yMjQ2LjAwMDAwMCwgLTgxNS4wMDAwMDApIj4KICAgICAgICAgICAgPGcgaWQ9IlByby1TdGFyIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyMjQ2LjAwMDAwMCwgODE1LjAwMDAwMCkiPgogICAgICAgICAgICAgICAgPHBhdGggZD0iTTYsMTIgQzkuMzEzNzA4NSwxMiAxMiw5LjMxMzcwODUgMTIsNiBDMTIsMi42ODYyOTE1IDkuMzEzNzA4NSwwIDYsMCBDMi42ODYyOTE1LDAgMCwyLjY4NjI5MTUgMCw2IEMwLDkuMzEzNzA4NSAyLjY4NjI5MTUsMTIgNiwxMiBaIiBpZD0iT3ZhbC0xOCIgZmlsbD0iI0ZGNTUwMCI+PC9wYXRoPgogICAgICAgICAgICAgICAgPHBvbHlnb24gaWQ9IlN0YXItMSIgZmlsbD0iI0ZGRkZGRiIgcG9pbnRzPSI2IDguMDcwMzY2MDEgMy4zNTQ5NjYzNiA5LjY0MDU3NjQ3IDQuMDMwOTY0OTEgNi42Mzk3NzgyOCAxLjcyMDI0NTY4IDQuNjA5NDIzNTMgNC43ODMwNjkzOSA0LjMyNTAzODcxIDYgMS41IDcuMjE2OTMwNjEgNC4zMjUwMzg3MSAxMC4yNzk3NTQzIDQuNjA5NDIzNTMgNy45NjkwMzUwOSA2LjYzOTc3ODI4IDguNjQ1MDMzNjQgOS42NDA1NzY0NyAiPjwvcG9seWdvbj4KICAgICAgICAgICAgPC9nPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+Cg=="},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAOCAAAAAB4YAGaAAAAtElEQVR4AY3RT+uCMADG8d7/O3gKifLQQTpoHbp0+RlFET+LKDP6R5Ag08ogvKhrRIlbq/w+bKfPaSvRgklg4rQURV+mP6GGR3r0HZoUeMr0M0zaMSK8WkthnBj0dC2HOGSwaVrRGySdEOeqix1myKWGIlyoHmxM2QbI1xXhCFsM0WPnj4MNEU5wxD/GsNDnoCFCp0Zgs60w5+BehDfnAhceAvj1TFW0jewdfRpQwu7Cfy3vDqsH6oJzha+DAAAAAElFTkSuQmCC"},,,,,,,,,,,,,,,,,,,,,,function(e,t,r){e.exports=r(125).extend({model:r(17),defaults:{sourceType:"likes"},filters:{onlySounds:function(e){return"sound"===e.resource_type&&!e.isBlacklisted()}},setupSources:function(){var e=r(3).get("me").id;return"likes"===this.options.sourceType?[new(r(411))(null,{userId:e})]:[new(r(419))(null,{userId:e})]},extractModel:function(e){return e.getAudible()}},{hashFn:function(e,t){return t&&t.resource_id}})},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAoElEQVR4Ae3RIQ7CQBCF4TfbEDwg0GDAkDSkFZuuRSMoV+hVegUO0JNguBNhBgs8tWIM2ZeM+c2IT8YDDN+TuOCWuAkUt582ADh+hgCH/dcD2Nn3BNsL4y0bbqvITZWRNRTk3J3uridIHePVNbe25WbGyKEqyLmbJteT+XXPeM2amnbcoMLI1bMgZ2726F1Pxh6EFzfc0o4bDIz8QkHO2xtMXJjhEqBsXQAAAABJRU5ErkJggg=="},,,,,,,,,,function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHgAAAB4CAMAAAAOusbgAAAACVBMVEX///////////+OSuX+AAAAAnRSTlMAfVgnwLkAAABqSURBVHja7c1BCsAgDADB6v8f3UMPoQmFooggMwQJObgXAAAAAAAAAAAALNF7LDNfxB6XOD5TL7Ph+sakTFxiRmK1MTi/fAdODfe+YoS3h6MqLHxauLVFI1ytq+5oj2gt7emv+nuuAgC83NnFB4elk7KRAAAAAElFTkSuQmCC"},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHgAAAB4BAMAAADLSivhAAAAGFBMVEX///8wMDDIyMhjY2NWVlYzMzMyMjIyMjLkgu7IAAAACHRSTlMAQDPZizw9OKAkkh0AAACCSURBVFjD7dTdCYAgFIZhV5B+BmiDOBMErhDtv0mICIEI6TGLeF9EunkIvguNIXqxPdNxB9tMswZPYDBYjyXeUoelAnswrP6EjzIc5OX0wYn8PxZwR+zGLT3fx1aF059XPEMu3o5HHwxWYHqgpbhWmLVZm7VZm7VZm7VZm7VZm6hNJ46B6c1QN9+ZAAAAAElFTkSuQmCC"},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHgAAAB4BAMAAADLSivhAAAAElBMVEUAAACAgICAgICAgIDMzMzMzMzakuyjAAAABnRSTlMA/wCZMwCiayZSAAAAlUlEQVR4Ae3QwQ0CIRBG4aGCnb8Fe7L/EgYqwKgjkXjZFS9r3mRCOPA4fMUWhpiYWDLrzc1CI75ML0Kv9da9eX+eecn9iPP1zvUpzo93r34Vh58yVt3KoY13sLIQj1HkqbrV/HRcpjLj47MUEx//QY/4ej9jJf5yTh0H2mijjTbaaKONNtpoo4022mijjTbaaBP/aXwDqbNCrLs5U4gAAAAASUVORK5CYII="},,,,,,,,,,,,,,,,,,,,function(e,t,r){e.exports=r.p+"assets/images/header-icons-1afa0525.png"},,,,,,,,function(e,t,r){e.exports=r(125).extend(r(295).withOptions({fields:["title"]}),{model:r(45),defaults:{limit:25,publicOnly:!0,includePlaylists:!0},setup:function(){for(var e,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];(e=r(125).prototype.setup).call.apply(e,[this].concat(n)),this.options.publicOnly&&this.setFilter("publicOnly",(function(e){return e.isPublic()}))},setupSources:function(){return[].concat(this.options.includePlaylists?[n.call(this)]:[],[new(r(400))])},extractModel:function(e){return e}},{hashFn:function(e,t){var r=t.userId,n=t.includePlaylists,i=void 0===n||n,o=t.publicOnly;return["user_audibles",r,(void 0===o||o)&&"public_only",i&&"includes_playlists"].filter(Boolean).join("_")}});function n(){return new(r(659))(null,{resource_id:this.options.userId,playlists_for:"user",limit:this.options.limit})}},,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,r){e.exports=r(251).extend({defaults:{limit:r(3).get("maxComments")},initialize:function(){r(251).prototype.initialize.apply(this,arguments),this.threads=[],this.listenTo(this,"remove",this._removeComment)},threads:null,_addComment:function(e){var t,n,i,o,a=e.get("timestamp");i=this.getTimestampIndex(a),n=this.threads[i],e.created_timestamp=Date.parse(e.get("created_at")),n&&n[0]===a?(o=r(0).sortedIndex(n[1],e,(function(e){return e.created_timestamp})),n[1].splice(o,0,e)):(t=[a,[e]],this.threads.splice(i,0,t))},_removeComment:function(e){var t,r=this.getThreadAtTimestamp(e.get("timestamp"));r&&(t=r[1].indexOf(e))>-1&&r[1].splice(t,1)},_prepareModel:function(){var e=r(251).prototype._prepareModel.apply(this,arguments);return e.created_timestamp=Date.parse(e.created_at),e.get("timestamp")>this.soundDuration&&e.set({timestamp:r(83).EMPTY_TIMESTAMP},{silent:!0}),this._addComment(e),e},comparator:function(e,t){return(e.attributes.timestamp===r(83).EMPTY_TIMESTAMP?1/0:e.attributes.timestamp)-(t.attributes.timestamp===r(83).EMPTY_TIMESTAMP?1/0:t.attributes.timestamp)||e.created_timestamp-t.created_timestamp},getThreadComments:function(e){var t,n=arguments[1],i=r(0).isNumber(n)?n:0,o=!!r(0).isBoolean(n)&&n;return((t=0===i?this.getThreadAtTimestamp(e):r(0).find(this.threads,(function(t){return Math.abs(e-t[0])<=i&&t[0]!==r(83).EMPTY_TIMESTAMP})))?t[1]:[]).filter(o?function(e){return e.id}:r(0).identity)},getTimestamps:function(){return r(0).pluck(this.threads,0)},getTimestampIndex:function(e){return r(0).sortedIndex(this.threads,[e],(function(e){return e[0]===r(83).EMPTY_TIMESTAMP?1/0:e[0]}))},getThreadAtTimestamp:function(e){var t=this.getTimestampIndex(e),r=this.threads[t];return r&&r[0]===e?r:null}})},,,,,function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTgiIGhlaWdodD0iMTgiIHZpZXdCb3g9IjAgMCAxOCAxOCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxwYXRoIGZpbGw9IiNmZmYiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTEyLjEgMTEuODZjLS44MjUtLjQxOC0xLjI0My0xLjUzNi0xLjI0My0yLjMyIDAtLjQuMjY4LS43MzUuNTA3LTEuMDA3LjY0OC0uNzQzIDEuMTU0LTEuNjI0IDEuMTU0LTMuNTA3QzEyLjUxOCAyLjI1IDEwLjg1OCAxIDguOTg4IDFjLTEuODcgMC0zLjUzIDEuMjUtMy41MyA0LjAyNiAwIDEuODgzLjUwNSAyLjc2NCAxLjE1MyAzLjUwNy4yNC4yNzIuNTEuNjA3LjUxIDEuMDA2IDAgLjc4NC0uNDIgMS45MDItMS4yNDYgMi4zMi0xLjI0NC42My0zLjQyMyAxLjE2Ny00LjM2NSAxLjg4Qy4yNSAxNC42OTUgMCAxNyAwIDE3aDE4cy0uMjc3LTIuMzA2LTEuNTM0LTMuMjZjLS45NDItLjcxMy0zLjEyLTEuMjUtNC4zNjUtMS44OHoiLz4KPC9zdmc+Cg=="},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTgiIGhlaWdodD0iMTgiIHZpZXdCb3g9IjAgMCAxOCAxOCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxnIGZpbGw9IiNmZmYiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICAgICAgPHBhdGggZD0iTTIgNmgxMHYxMEgyeiIvPgogICAgICAgIDxwYXRoIGZpbGwtb3BhY2l0eT0iLjciIGQ9Ik01IDJoMTF2MTBoLTJWNEg1eiIvPgogICAgPC9nPgo8L3N2Zz4K"},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAAOCAYAAAAi2ky3AAAAAXNSR0IArs4c6QAAAaFJREFUKBWNk71OAlEUhHfXkGCDlTYSC40VBhXotCHGjt5YqImFNjyJiZWV8gS8gUZbfyLLwhYUmpg1ktBR2BDM8uN85EIoIHCSw5k7Z2Y2d8Nalinf91eGeN457nEwVavV1U6nU3Fdd2PeELR48OIZBHW73UK/37/JZDJfQRBEZ4WhQYsH7yCoUqnsCWyqr7Vwms3mk562Py2MHRq0ePCS4fR6vWMd7vSEsFwun9u2/ZdOp58JkmlJ3AUNhmOHBi0eUQUySM2qH9TUmfpKwr4xenryLS3eg2OHxmg1rHt11pEoHovFvmFUSeFXgAxHGutgU+uGs+R5E5eEx0uGo+VCq9XqQo5jztMqEol00LLHC+ZqDXUcUskfuu+OwUXNAGwq0B7OQoPW8HgbXO0lDMMDSCUXJcqD9SJ/NXbFXdJgwxGUR4sOLxmW3n5OXdLBrtfri8KfpVKJv8TEYocGLR686txALPDued4JB83liQlj5FCjeYqXlc2PiG2lP0aj0UwikfiBm1W1Wm2t3W67uuJhKpXyR3p9gFujw5xA1xx5/gGZ5hEckB5UKgAAAABJRU5ErkJggg=="},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxwYXRoIGZpbGw9IiNmZmYiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTEwLjgwNSAzQzguNzg1IDMgOCA1LjM0NSA4IDUuMzQ1UzcuMjE0IDMgNS4xOTcgM0MzLjQ5NCAzIDEuNzQ4IDQuMDk2IDIuMDMgNi41MTRjLjM0NCAyLjk1MyA1LjcyNSA2LjQ4IDUuOTYzIDYuNDg3LjIzOC4wMSA1LjczOC0zLjcyIDUuOTg4LTYuNS4yMDgtMi4zLTEuNDczLTMuNS0zLjE3NS0zLjV6Ii8+Cjwvc3ZnPgo="},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyOCIgaGVpZ2h0PSIyOCIgdmlld0JveD0iMCAwIDI4IDI4Ij4KICAgIDxwYXRoIGZpbGw9IiNmZmYiIGQ9Ik0xOC40IDE4LjVsMi41IDUgLjIuNUgyOGwtMi4xLTQuMy00LjEtMS41di0yLjVjMS4yLTEuMSAxLjgtMy4yIDEuOC01LjEgMC0yLjEtMi0zLjYtMy41LTMuNnMtMy41IDEuNi0zLjUgMy42YzAgMS45LjUgNCAxLjggNS4xdjIuNWgtLjFsLjEuM3oiLz4KICAgIDxwYXRoIGZpbGw9InJnYmEoMjU1LDI1NSwyNTUsLjcpIiBkPSJNMTcuNSAxOWwtNS0xLjh2LTNjMS40LTEuMiAyLTMuOCAyLTUuOSAwLTIuNC0yLjMtNC4zLTQtNC4zLTEuNyAwLTQgMS44LTQgNC4zIDAgMi4yLjYgNC43IDIgNS45djNsLTUgMS44TDEgMjRoMTlsLTIuNS01eiIvPgo8L3N2Zz4K"},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyOCIgaGVpZ2h0PSIyOCIgdmlld0JveD0iMCAwIDI4IDI4Ij4KICAgIDxwYXRoIGZpbGw9InJnYmEoMjU1LDI1NSwyNTUsLjcpIiBkPSJNMTguNCAxOC41bDIuNSA1IC4yLjVIMjhsLTIuMS00LjMtNC4xLTEuNXYtMi41YzEuMi0xLjEgMS44LTMuMiAxLjgtNS4xIDAtMi4xLTItMy42LTMuNS0zLjZzLTMuNSAxLjYtMy41IDMuNmMwIDEuOS41IDQgMS44IDUuMXYyLjVoLS4xbC4xLjN6Ii8+CiAgICA8cGF0aCBmaWxsPSIjZmZmIiBkPSJNMTcuNSAxOWwtNS0xLjh2LTNjMS40LTEuMiAyLTMuOCAyLTUuOSAwLTIuNC0yLjMtNC4zLTQtNC4zLTEuNyAwLTQgMS44LTQgNC4zIDAgMi4yLjYgNC43IDIgNS45djNsLTUgMS44TDEgMjRoMTlsLTIuNS01eiIvPgo8L3N2Zz4K"},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTgiIGhlaWdodD0iMTgiIHZpZXdCb3g9IjAgMCAxOCAxOCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxnIGZpbGw9IiNmZmYiPgogICAgICAgIDxwYXRoIGQ9Ik0wIDdoM3YxMEgwek0xMCA0aDN2MTNoLTN6TTE1IDFoM3YxNmgtM3pNNSAyaDN2MTVINXoiLz4KICAgIDwvZz4KPC9zdmc+Cg=="},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxwYXRoIGZpbGw9IiNGRkYiIGZpbGwtcnVsZT0ibm9uemVybyIgZD0iTTggMTEuNzEzTDEyLjMyOCAxNWwtMS42NTYtNS4zMDhMMTUgNi40NzhIOS42OTJMOCAxIDYuMzA4IDYuNDc4SDFsNC4zMjggMy4yMTRMMy42NzIgMTV6IiAvPgo8L3N2Zz4K"},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAQAAAAngNWGAAAAIklEQVQoz2NgGI7gPxDAaGRAvkKGzUAIo5HhqBsH2I30BwBbFYyDgm0lKwAAAABJRU5ErkJggg=="},function(e,t,r){e.exports=r.p+"assets/images/paid-icon-126b5b5f.svg"},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzQiIGhlaWdodD0iMjAiIAogICAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICAgICAgPHJlY3Qgc3Ryb2tlLW9wYWNpdHk9Ii43IiBzdHJva2U9IiNGRkYiIHg9IjkuNSIgeT0iMy41IiB3aWR0aD0iMTUiIGhlaWdodD0iMTMiIHJ4PSIyIi8+CiAgICAgICAgPHBhdGggZD0iTTE1LjIwNyAxMy4yMDdsMy41ODYtMy41ODZhMSAxIDAgMDAtMS40MTQtMS40MTRsLTMuNTg2IDMuNTg2YTEgMSAwIDAwMS40MTQgMS40MTR6IiBmaWxsPSIjRkZGIiBmaWxsLXJ1bGU9Im5vbnplcm8iLz4KICAgICAgICA8cGF0aCBkPSJNMTUgOWg0YTEgMSAwIDAwMC0yaC00YTEgMSAwIDAwMCAyeiIgZmlsbD0iI0ZGRiIgZmlsbC1ydWxlPSJub256ZXJvIi8+CiAgICAgICAgPHBhdGggZD0iTTIwIDEyVjhhMSAxIDAgMDAtMiAwdjRhMSAxIDAgMDAyIDB6IiBmaWxsPSIjRkZGIiBmaWxsLXJ1bGU9Im5vbnplcm8iLz4KICAgIDwvZz4KPC9zdmc+"},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxMiIgdmlld0JveD0iMCAwIDE2IDEyIj4KICAgIDxwYXRoIGZpbGw9IiNDM0MzQzMiIGQ9Ik0xLjYyIDEwaDEydjJoLTEydi0yem02LjUyNi03djZINy4wOTRWM2gtMS41OEw3LjYyIDBsMi4xMDUgM0g4LjE0NnptLTUuOTkgMS4yNTdsMi44NjcgNC4wOTYtLjg2Mi42MDMtMi44NjgtNC4wOTVMMCA1Ljc2NmwuMDAzLTMuNjY1IDMuNDQ2IDEuMjUtMS4yOTQuOTA2aC4wMDF6bTEyLjA1LjU4MmwtMi44NjggNC4wOTYtLjg2My0uNjA0IDIuODY4LTQuMDk2LTEuMjkzLS45MDUgMy40NDUtMS4yNS4wMDQgMy42NjUtMS4yOTMtLjkwNnoiLz4KPC9zdmc+Cg=="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAQAAAAm93DmAAAANklEQVRIx2NgGAWjYBSQAf5DATofFxg1EAvYDIXofFyQ/gaOpsPRdDiaDkfT4Wg6HAWjYKAAAF6sMieKSC7aAAAAAElFTkSuQmCC"},function(e,t,r){e.exports=r.p+"assets/images/stations_light@2x-474487cd.png"},,,,,,,,function(e,t,r){e.exports=r.p+"assets/images/more-0e9e752c.svg"},function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+Cjxzdmcgd2lkdGg9IjhweCIgaGVpZ2h0PSI1cHgiIHZpZXdCb3g9IjAgMCA4IDUiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeG1sbnM6c2tldGNoPSJodHRwOi8vd3d3LmJvaGVtaWFuY29kaW5nLmNvbS9za2V0Y2gvbnMiPgogICAgPCEtLSBHZW5lcmF0b3I6IFNrZXRjaCAzLjIuMiAoOTk4MykgLSBodHRwOi8vd3d3LmJvaGVtaWFuY29kaW5nLmNvbS9za2V0Y2ggLS0+CiAgICA8dGl0bGU+RHJvcGRvd248L3RpdGxlPgogICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+CiAgICA8ZGVmcz48L2RlZnM+CiAgICA8ZyBpZD0iUGFnZS0xIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIiBza2V0Y2g6dHlwZT0iTVNQYWdlIj4KICAgICAgICA8ZyBpZD0iVG9wLUJhciIgc2tldGNoOnR5cGU9Ik1TQXJ0Ym9hcmRHcm91cCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTIwNjYuMDAwMDAwLCAtNTQ1LjAwMDAwMCkiIGZpbGw9IiNGRkZGRkYiPgogICAgICAgICAgICA8cGF0aCBkPSJNMjA2Nyw1NDUuMDIyNzQ2IEwyMDY2LDU0Ni4wMjI3NDYgTDIwNjkuOTU0NzYsNTQ5Ljk3NzUxMSBMMjA3My45Nzc1MSw1NDUuOTU0NzY1IEwyMDcyLjk3NzUxLDU0NC45NTQ3NjUgTDIwNjkuOTU0NzYsNTQ3Ljk3NzUxMSBMMjA2Nyw1NDUuMDIyNzQ2IFoiIGlkPSJEcm9wZG93biIgc2tldGNoOnR5cGU9Ik1TU2hhcGVHcm91cCI+PC9wYXRoPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+"},,,,,,,,,,,function(e,t,r){e.exports=r.p+"assets/images/messages-f517d0eb.svg"},function(e,t,r){e.exports=r.p+"assets/images/activities-66caaa5e.svg"},,,function(e,t,r){e.exports=r.p+"assets/images/search-dbfe5cbb.svg"},,,,,,,,,,,function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTciIGhlaWdodD0iMTciIHZpZXdCb3g9IjAgMCAxNyAxNyIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48dGl0bGU+c2VhcmNoIGljb248L3RpdGxlPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDIgMikiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+PGNpcmNsZSBzdHJva2U9IiM5Nzk3OTciIHN0cm9rZS13aWR0aD0iMiIgY3g9IjUiIGN5PSI1IiByPSI1Ii8+PHBhdGggZmlsbD0iIzk5OSIgZD0iTTkuNTg2IDguMTcybDQuMjQyIDQuMjQyLTEuNDE0IDEuNDE0LTQuMjQyLTQuMjQyeiIvPjwvZz48L3N2Zz4="},function(e,t,r){var n=r(376).makeFilterGenerator(["output"]);e.exports=r(125).extend({model:r(182),defaults:{query:null},setupSources:function(){var e=this.options.query;return this.remoteCollection=new(r(1615))(null,{query:e,limit:10}),[[new(r(282)),{maxModels:2}],[new(r(606)),{maxModels:2}],[new(r(400)),{maxModels:2}],[new(r(412)),{maxModels:2}],this.remoteCollection]},updateFilter:function(e){var t=n(e);this.setFilter("term",(function(e){return"query"===e.get("kind")||t(e)})),this.remoteCollection.updateQuery(e)},getQueryUrn:function(){return this.remoteCollection.queryUrn},extractModel:function(e){switch(e.get("kind")||e.get("type")){case"user":return new(r(182))({entity:r(0).clone(e.attributes),output:e.get("username"),highlights:[],kind:"following"});case"track":return new(r(182))({entity:r(0).clone(e.attributes),output:e.get("title"),highlights:[],kind:"like"});case"playlist":case"playlist-like":return new(r(182))({entity:r(0).clone(e.get("playlist")),output:e.get("playlist").title,highlights:[],kind:"playlist"});default:return!1}}},{hashFn:function(){return 1}})},function(e,t,r){e.exports=r(30).extend({model:r(182),defaults:{query:null},queryUrn:null,_currentlyFetching:!1,baseUrl:function(){var e=this.options.query,t=r(3).get("experiments").get("v2_listening","search_localized_autocomplete_web")||null;return this.getEndpointUrl("searchQueries",{},{q:e,variant:t})},fetch:function(e){return r(30).prototype.fetch.call(this,r(0).defaults({omitAuthorization:!0},e))},parse:function(e){return this.queryUrn=e.query_urn,n=(t=e).collection,i=t.query_urn,n.map((function(e){var t=e.output,n=e.query;return{output:t,highlights:e.highlights,kind:"query",link:r(21).getRoute("search",null,n,{query_urn:i}),artwork_url:null}}));var t,n,i},updateQuery:function(e){var t=this;this.options.query=e,this._currentlyFetching||(this._currentlyFetching=!0,this.queryUrn=null,this.next_href=null,this.fetch({reset:!0}).always((function(){t._currentlyFetching=!1,e!==t.options.query&&t.updateQuery(t.options.query)})))}})},,,,,,,,,function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAAAXNSR0IArs4c6QAAAOdJREFUOBGtlEEOgyAQRYXoAWrShRfoppdoe/H2Ej2DCxJ7AE3sPKOGUgY0cVbA/P8YBrQoJJxzl7Ztz4z3BB68eAyDvu9fMu6MMfemaRyJXAAZx/EpurqqqpsdhuEjk04WryS2VLZA8OCFYdjZT0hV71RlmnYCbYVpEPwrKAdLQf5AGox1+kdPtKP/VISBCHdnLQUhHwWR8GGTMHMJFtEREa3Ir4aesNHuo4UQ3tQM2t7sGGT5ZFI5NlqPlhMiTmkmUEoAwA9Na7SEbw7HMY8ty/Ikwlp7sSGEOX2z1j7mG61nxjE/ti9bnUOcIiJWhgAAAABJRU5ErkJggg=="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAAAXNSR0IArs4c6QAAAbBJREFUWAnNmM1xgzAQhYGkCMpxFzn46pqSg885pIs0w08RDkRP1jLCltDuCjPSAWnk3fc+ZNBqqKpS2zzPdd/3X+M4fhzFCC94wnvl6WCuXdfNJuB2BJSDuTnPK0E1IBuG4dNMXDA2/ds0Td+vhII2PODlPC9gwNgCNU3zW9f1HybQXgn1CAM/eIPBjnFB2wg8t237c4/Ku3I8Vg8TJ0GLxNVeAcGMmygBk2g+Ae0NJYGBdxBoLygpzCZQLpQGJgmkhdLCsICkUDkwbCAuVC6MCCgFhd/9cmDF7zuwaGONvmUQDLXYKiCWahPGrhyIYGweLtIWgvI1tDDQEK8QGcegcmCgbas9mZTQq1Yotjp0QzmrJAYKwQAAMIc/1DEYc7g6A2iP1/4dQpy2BUMHOBOzgvJOnhXFpLxYfxkHhowksZTj90kgjYEmh6A2gXKEtblRIK0g3Sl6jUYQSCPkg/hjqdYTkFTAN4+NJZorIElizDw2z9VegLgJMUPOPMfDAnECOYacmJSXrfZmyz/tUYc4QNixUWqo/iHH7einJd9M4NtQEZ9jHqHK+GC1UBUw+Afwn+zH8JXUWQAAAABJRU5ErkJggg=="},,,function(e,t,r){var n=0,i={"cookies-notification-15-05-2018":{message:r(1).t("We use cookies for various purposes including analytics and personalized marketing. By continuing to use the service, you agree to our use of cookies as described in the [[[linkStart]]]Cookie Policy[[[linkEnd]]].",{linkStart:'<a href="'+r(21).getRoute("pagesPages","cookies")+'" class="sc-link-dark">',linkEnd:"</a>"}),viewOptions:r(70).requiresUserConsent()?{ackText:r(1).t("Allow cookies"),onAck:function(){r(70).enable(),l()},requiresAck:!0,ackOnDocClick:!0}:{ackText:r(1).t("OK",null,{context:"cookies-banner"}),requiresAck:!0,onAck:l}},"email-confirmation-announcement":{message:r(1).t('Please confirm your email address to make the most of your SoundCloud experience. Check your <a href="[[href]]" class="sc-link-dark">settings</a> to resend the confirmation email.',{href:r(21).getRoute("settings")}),shouldAddAnnouncement:function(){return r(16).isLoggedIn()&&!r(3).get("me").get("primary_email_confirmed")}},"email-missing-announcement":{message:r(1).t('Dont lose access to your account. <a href="[[href]]" class="sc-link-dark">Add an email address</a>.',{href:r(21).getRoute("settings")}),shouldAddAnnouncement:function(){return r(16).isLoggedIn()&&/nosend\.soundcloudmail\.com$/.test(r(3).get("me").get("primary_email"))}}},o={message:r(1).t('Were currently experiencing issues, but we are working to get them resolved as soon as possible. Please check our <a href="http://status.soundcloud.com/" target="_blank">Status blog</a> for more information.'),dismissable:!1},a=["old search system","We will no longer be showing Favorites","making some changes to the Classic Dashboard"];e.exports=r(1629).extend({model:r(289),baseUrl:function(){return this.getEndpointUrl("announcements")},setup:function(){var e=this;this.on("error",u,this),Object.keys(i).filter((function(e){var t=i[e].shouldAddAnnouncement;return!t||t()})).forEach((function(t){var r=i[t],n=r.message,o=r.viewOptions,a=void 0===o?{}:o;e.add({key:t,message:n}).viewOptions=a,e.lastFetchTime=Date.now()}))},parse:function(e){return e.filter((function(e){return!a.some(s,e)}))}},{neverRelease:!0,hashFn:function(){return 1}});function s(e){return this.message.indexOf(e)>-1}function u(e,t,i){t.status>=500&&(n>0?(e.lastFetchTime=Date.now(),e.reset([o])):(n++,r(0).delay((function(){e.fetch().done((function(){n=0}))}),5e3)))}function l(){r(11).trackV1Click({click_name:"cookie-banner-05-18"})}},,,,,,,,,,,,,,,,,,,,,,function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCI+CiAgPGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgIDxnIGZpbGw9IiNGRkYiIGZpbGwtcnVsZT0ibm9uemVybyI+CiAgICAgIDxwYXRoCiAgICAgICAgZD0iTTguOTk0IDNBNS45OTcgNS45OTcgMCAwIDAgMyA5YzAgMy4zMTIgMi42ODIgNiA1Ljk5NCA2QTYuMDAzIDYuMDAzIDAgMCAwIDE1IDljMC0zLjMxMi0yLjY4OC02LTYuMDA2LTZ6TTkgMTRjLTIuNzYzIDAtNS0yLjIzOC01LTUgMC0yLjc2MyAyLjIzNy01IDUtNSAyLjc2MiAwIDUgMi4yMzcgNSA1IDAgMi43NjItMi4yMzggNS01IDV6Ii8+CiAgICAgIDxwYXRoCiAgICAgICAgZD0iTTguOTM4IDZhLjQzNy40MzcgMCAwIDAtLjQzOC40Mzh2My4wN2wyLjcwMiAxLjYyNWMuMi4xMi40NTguMDU2LjU4LS4xNDNhLjQxNy40MTcgMCAwIDAtLjE0NC0uNTc0TDkuMzc1IDkuMDdWNi40MzhBLjQzNy40MzcgMCAwIDAgOC45MzcgNnoiLz4KICAgIDwvZz4KICA8L2c+Cjwvc3ZnPgo="},,,,,,,,,,function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAB4CAMAAACtkqAmAAAAYFBMVEUAAACzLQCzLQCzLQD8/PzVjnf8/PzWknv8/PyzLQDfqZfJa0v8/Pz8/PyzLQDpxbmzLQDmvrH37+zMdFazLQDqyr/v19D8/Pz69vX8/Pzx3NTv18/05uH26+f59PL8/Px1cMInAAAAH3RSTlMAChQfIiQzRmZwcXJ3gIWLj5GRlZmdurvS3d7k5PH4/AKt7QAAAHlJREFUeF7t00kOggAAQ9GKA4KCE+AI//639AImXchG079u8laVGpkazdefceHChQsXLtwW2DvuAPQfODeSGf0QVwMnmUqgdlwBlI7TCGu5HkwLx6nqjvMcYXXlvnHcGbg5bgBeMu2ejBfHFVXXLnPzcOHChQsX7pveYwMMTlNRecEAAAAASUVORK5CYII="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAYAAACpSkzOAAABh0lEQVRIx2NgGAWjgFbgjDan3AkdbnGaWnJcly/6cqzbgQuBFrvO6PAr08SSY9p8kS9Xz7/1HwT+/v37aHJLBtUtOaHHH/Jy5Zwb/5HArw8f0qjrE13egGeLpl5HtgToo7tAkp96lujw+jydN/EqmiUPgaQsXo37FRg4gBHae0KXf9kxXR57AnHi8WRm1yU0S54ASQWCLrwYbm3x7d6td3++fv75oKvyzAltAUfsqYvf5dGUlotAQ/8hWfIcSBKX0n48f+IN1/jv378H3dVn0X12XIfH4eGEhnNolrwEkupEhzlQsRBQ0xtkyx52VZ4+osVrC05d2rw2D7urz4DEkSwBqdciOYKBmoz+/f37EW7X37//7reXnjqmw598r63kFIiPJPcOSOmRnZqAms2AhnxGcvXf11tW3AXRSJZ8AFKGFCddoCFWQMO+/scCoI4wpVo+ARpmD4yPb6i2/PsCJC2pXrwADXUGGv4DagnIh7Y0K5WBhnsA8XsgdqJ5PQO0RGC0th3eAACf46PZ48ONQwAAAABJRU5ErkJggg=="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADQAAAA0CAYAAADFeBvrAAADPUlEQVR42u2XW0hTYRzAv26Uue0cK7qQ0NXQds58CHoIfOihByWLhDLKUOl+g0wqKioqMCILCoMsKCGzNFPLh6IImtPtzFaK5uZmkmQmRS/idbfz9f+XIwrdp7LFDpwf/F6+wTd+53++j42oqKioqKioqKhEDFKCLs4icOlmQbveJHIxyo4RdBkWQffMYuCrUUnkSiRDVCxRIhaDNhMj7Hs3mbpLCh1fCq80NyQnvpQEPld5MaJuO8Z8Ky9yUUplOoyvv9fdkp1yX1kxArcFY75XFrfREehrtjUoKIZP+zWZsntOOgry0KBDGTF6bSrGdD+45aDBqVLCmUnGmK9FN1oYMTKYFOFXM7cOr+auO1c/UDY5kR2j59fCdJ523rzURNmcIJGM1aBNwpjP1883Bq7mIJwhoaJe0K4xi3yBWeQeSwYuz2rgloRmT11VR/7pBirLrJgLoTus8fxiCb4YD+wfuSdWfXQimSBmvW61JHKVn/KOvxtDzGUSSuApbmu/eNTm7urokd1D3j5H04+WrBQjHORySYg2kHECIassIleBe1K/38+IuUZCTdupfedkv/+vpyh7PT7XsWyLBK9gXYJGIGMEp4rTbT97sF72+VgxBSQc9H903KYj4Pe4fa7cTDOeqxq9ZiVh8NagEXCqbSf3SLLXy4opBCeRcAAb59NR8LuHfM6cjDp4hUrNojZ+9J8zmgQMx6nidBkxdwMx4QpKoUHAc+U8vLUWo6zx2hXkH3ANP2s9ssMMU2XFFIOTSZjBqDIaBP/ggLf1wGYTnI9HcIMtJ8PYBG4ZrrUeSq/FcEZMKTiFAP8jaDr4ghHlse9PM1kE7mEdhPy+7rkSXMNgRkwFOJX8RzAqCnwdNGqg32PfvbEGQ6wiX2zftaEG1xgx1eA0wiBcUTNBY/CoPrd9Z6qxJSvZiP8uGTHPcfqEQbijNKCZBgFDvL09rJhX4AwSAWCUDqynE+cNTptEEBgVA76n46cWjCYRCEbNBpvo2JFALYlgMGouaKdsbCBPFABGzQedQWIawVlEQWDUQrB9hJhmcA5RIBi1COwAAzjAeUTBYNRSsBN0gQtIAIVHxYGxREVFRUVFRUX5/ATokQaH7bkfugAAAABJRU5ErkJggg=="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAQAAABuvaSwAAAAy0lEQVQoz2NgGJbAnI9opWZOVu+svYgz1c3ym/V/qx/mbgSVWntZ/bD+D4KW30xlkSRkONGVWvhZ/YQoBSrOR5Kw0rF6ZhGEojTI8hdU4T/zbGSXqVo+Bwr/MY+BKw2z+g1TapWG4gDLB1CJvxAJi2jrPzAR80R0P8fCJIHSBRbxln+hvD/msVj8bRUCcyHIYphSs0jcwfQdphwErX5bheCNK8svcKU/zQIIRIKpleUHsNIfZj5ERK+xkfVrq++WHkQmHFNtM6dBng0AjHVxXrfM/OMAAAAASUVORK5CYII="},,,,,,,,function(e,t,r){e.exports=r(18).extend({resource_type:"audio_ad_pod",targetTrackId:null,targetTrackUrn:null,setup:function(e){this.targetTrackId=e.id,this.targetTrackUrn=e.urn},baseUrl:function(){return r(57).getAudioAdsUrl({trackId:this.targetTrackId})},getRequestEquivalencyUrl:function(e){var t=r(19).parse(e);return r(19).stringify(r(0).assign(t,{query:r(0).omit(t.query,["aw_listener_id","bluekai_campaign_ids","rubicon_user_id"])}))},parse:function(e){if(!e||!e.promoted)return{is_malformed:!0};var t=r(57).parseResponse({promoted:[e.promoted]});return t.error_data?{is_malformed:!1,audio_ads:[t.error_data].map(i.bind(this)).filter(Boolean)}:t.data&&t.data.audio_ads?{is_malformed:!1,audio_ads:t.data.audio_ads.map(n.bind(this)).filter(Boolean)}:{is_malformed:!0}},isMalformed:function(){return this.get("is_malformed")},getAudioAds:function(){return this.get("audio_ads")},getSize:function(){return this.get("audio_ads").length}});function n(e){return e&&e.audio?(e.audio.progress_tracking&&(e.audio.progress_tracking=r(0).sortBy(e.audio.progress_tracking,"offset_in_ms")),new(r(611))({monetized_sound_urn:this.targetTrackUrn,audio:e.audio,companion_display:e.companion_display,html_companion_display:e.html_companion_display,leave_behind:e.leave_behind,html_leave_behind:e.html_leave_behind,sound:r(0).extend({is_ad:!0},r(0).pick(e.audio,["url","duration","ad_urn"])),is_error:!1})):null}function i(e){return e&&e.audio?new(r(611))({monetized_sound_urn:this.targetTrackUrn,audio:e.audio,is_error:!0}):null}},function(e,t,r){e.exports=r(18).extend({resource_type:"audio_ad_visual",getUrn:function(){return this.get("ad_urn")},getLandingPage:function(){return this.get("landing_page")},getContent:function(){return this.getFormat()===r(50).AudioAdVisualFormats.image?this.get("ad_visual"):this.get("html_resource")},getContentSize:function(){return{width:this.get("width"),height:this.get("height")}},isResponsive:function(){return this.get("responsive")},getFormat:function(){return this.get("ad_visual_format")},getPlacement:function(){return this.get("ad_visual_placement")},getTracking:function(){return this.get("tracking")},getErrorTrackers:function(){return this.get("error_trackers")||[]},isError:function(){return this.get("is_error")}})},,,,,,,function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCI+PHBhdGggZmlsbD0iIzMzMyIgZD0iTTE4IDEwLjU4NGwtMi4yOTMtMi4yOTEtMS40MTQgMS40MTQgMi4yOTMgMi4yOTEtMi4yOTEgMi4yOTEgMS40MTQgMS40MTUgMi4yOTItMi4yOTIgMi4yOTQgMi4yOTIgMS40MTQtMS40MTUtMi4yOTMtMi4yOTEgMi4yOTEtMi4yOS0xLjQxNC0xLjQxNS0yLjI5MiAyLjI5MXpNNCA5aDQuMDAyTDEyIDV2MTRjLTIuNDQ2LTIuNjY3LTMuNzc4LTQtMy45OTgtNEg0Vjl6Ii8+PC9zdmc+Cg=="},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCI+PHBhdGggZmlsbD0iIzMzMyIgZD0iTTQgOWg0LjAwMkwxMiA1djE0Yy0yLjQ0Ni0yLjY2Ny0zLjc3OC00LTMuOTk4LTRINFY5em0xMCA0YTEgMSAwIDAgMCAwLTJWOWEzIDMgMCAwIDEgMCA2di0yeiIvPjwvc3ZnPgo="},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCI+PHBhdGggZmlsbD0iIzMzMyIgZD0iTTQgOWg0LjAwMkwxMiA1djE0Yy0yLjQ0Ni0yLjY2Ny0zLjc3OC00LTMuOTk4LTRINFY5em0xMCA0YTEgMSAwIDAgMCAwLTJWOWEzIDMgMCAwIDEgMCA2di0yem0wIDRhNSA1IDAgMCAwIDAtMTBWNWE3IDcgMCAwIDEgMCAxNHYtMnoiLz48L3N2Zz4K"},,,,function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAeAAAAAwCAYAAADJnakOAAAAAXNSR0IArs4c6QAAAkhJREFUeAHt3UGKAkEAA8BRvIr/f6b4AX3BnMQYUnv10OnKQBhQ9jj8ESBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECDwbwKXHwS6/+CMsyNeZx/6jAABAgQIJASuiUOdSYAAAQIE1gUM8PoT4P4ECBAgEBEwwBF2hxIgQIDAusBtHeBz/0e5wbM8v/gECBCYFPAGPFm7SxMgQIBAWsAApxtwPgECBAhMChjgydpdmgABAgTSAgY43YDzCRAgQGBSwABP1u7SBAgQIJAWMMDpBpxPgAABApMCBniydpcmQIAAgbSA3wEfh9/Rpp9C5xMgQGBQwBvwYOmuTIAAAQJ5AQOc70ACAgQIEBgUMMCDpbsyAQIECOQFDHC+AwkIECBAYFDAAA+W7soECBAgkBfwLej+/4aUf4q6E/gWfHd/0hOoFfAGXFud4AQIECDQLGCAm9uTnQABAgRqBQxwbXWCEyBAgECzgAFubk92AgQIEKgVMMC11QlOgAABAs0CBri5PdkJECBAoFbAANdWJzgBAgQINAv4HbD/htT8/MpOgACBWgFvwLXVCU6AAAECzQIGuLk92QkQIECgVsAA11YnOAECBAg0Cxjg5vZkJ0CAAIFaAQNcW53gBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAEC3xR4A/y+BSraKNVzAAAAAElFTkSuQmCC"},,,,,,function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICAgIDxwYXRoIGZpbGw9IiMwMDAiIGZpbGwtcnVsZT0ibm9uemVybyIgZD0iTTE1LjUgOS4yMDVsLS43MDUtLjcwNUwxMiAxMS4yOTUgOS4yMDUgOC41bC0uNzA1LjcwNUwxMS4yOTUgMTIgOC41IDE0Ljc5NWwuNzA1LjcwNUwxMiAxMi43MDVsMi43OTUgMi43OTUuNzA1LS43MDVMMTIuNzA1IDEyeiIvPgo8L3N2Zz4K"},,,function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICAgIDxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICAgICAgPHBhdGggZmlsbD0iI0NDQyIgZD0iTTkgNWgydjJIOVY1em00IDBoMnYyaC0yVjV6bTAgOGgydjJoLTJ2LTJ6bTAtNGgydjJoLTJWOXptMCA4aDJ2MmgtMnYtMnpNOSA5aDJ2Mkg5Vjl6bTAgNGgydjJIOXYtMnptMCA0aDJ2Mkg5di0yeiIvPgogICAgPC9nPgo8L3N2Zz4K"},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICAgIDxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICAgICAgPHBhdGggZmlsbD0iIzAwMCIgZD0iTTcgMTFoMnYySDd2LTJ6bTQgMGgydjJoLTJ2LTJ6bTQgMGgydjJoLTJ2LTJ6Ii8+CiAgICA8L2c+Cjwvc3ZnPgo="},,,,,,,function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICA8ZyBmaWxsPSIjZTVlNWU1Ij4KICAgIDxwYXRoIGQ9Ik0xLDE4IEwxLDIxIEw0LDIxIEM0LDE5LjM0IDIuNjYsMTggMSwxOCBMMSwxOCBaIj48L3BhdGg+CiAgICA8cGF0aCBkPSJNMSwxNCBMMSwxNiBDMy43NiwxNiA2LDE4LjI0IDYsMjEgTDgsMjEgQzgsMTcuMTMgNC44NywxNCAxLDE0IEwxLDE0IFoiPjwvcGF0aD4KICAgIDxwYXRoIGQ9Ik0xLDEwIEwxLDEyIEM1Ljk3LDEyIDEwLDE2LjAzIDEwLDIxIEwxMiwyMSBDMTIsMTQuOTIgNy4wNywxMCAxLDEwIEwxLDEwIFoiPjwvcGF0aD4KICAgIDxwYXRoIGQ9Ik0yMSwzIEwzLDMgQzEuOSwzIDEsMy45IDEsNSBMMSw4IEwzLDggTDMsNSBMMjEsNSBMMjEsMTkgTDE0LDE5IEwxNCwyMSBMMjEsMjEgQzIyLjEsMjEgMjMsMjAuMSAyMywxOSBMMjMsNSBDMjMsMy45IDIyLjEsMyAyMSwzIEwyMSwzIFoiPjwvcGF0aD4KICAgIDxwYXRoIGQ9Ik01LDcgTDUsOC42MyBDOCw4LjYzIDEzLjM3LDE0IDEzLjM3LDE3IEwxOSwxNyBMMTksNyBaIj48L3BhdGg+CiAgPC9nPgo8L3N2Zz4K"},,,function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCI+PHBhdGggZmlsbD0iIzMzMyIgZD0iTTcgNmgydjEySDdWNnptMiA2bDggNlY2bC04IDZ6Ii8+PC9zdmc+Cg=="},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCI+PHBhdGggZmlsbD0iIzMzMyIgZD0iTTcgMThsOC02LTgtNnYxMnptOC0xMnYxMmgyVjZoLTJ6Ii8+PC9zdmc+Cg=="},,,,function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCI+PHBhdGggZmlsbD0iIzMzMyIgZD0iTTggNXYxNGwxMS03eiIvPjwvc3ZnPgo="},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCI+PHBhdGggZmlsbD0iIzMzMyIgZD0iTTYgMTloNFY1SDZ2MTR6bTgtMTR2MTRoNFY1aC00eiIvPjwvc3ZnPgo="},,,,function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCI+PHBhdGggZmlsbD0iI2Y1MCIgZD0iTTEzLjU4NiAxN2wtOC04SDNWN2gzLjQxNGw4IDhIMTd2MmgtMy40MTR6TTMgMTVoMi41ODZsMi4yMDctMi4yMDcgMS40MTQgMS40MTQtMi41MDEgMi41MDEtLjI5My4yOTJIM3YtMnptMTQtNmgtMi41ODZsLTIuMjA3IDIuMjA3LTEuNDE0LTEuNDE0TDEzLjU4NiA3SDE3djJ6bTQgN2wtNCAzdi02bDQgM3ptMC04bC00IDNWNWw0IDN6Ii8+PC9zdmc+Cg=="},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCI+PHBhdGggZmlsbD0iIzMzMyIgZD0iTTEzLjU4NiAxN2wtOC04SDNWN2gzLjQxNGw4IDhIMTd2MmgtMy40MTR6TTMgMTVoMi41ODZsMi4yMDctMi4yMDcgMS40MTQgMS40MTQtMi41MDEgMi41MDEtLjI5My4yOTJIM3YtMnptMTQtNmgtMi41ODZsLTIuMjA3IDIuMjA3LTEuNDE0LTEuNDE0TDEzLjU4NiA3SDE3djJ6bTQgN2wtNCAzdi02bDQgM3ptMC04bC00IDNWNWw0IDN6Ii8+PC9zdmc+Cg=="},,,,function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCI+PHBhdGggZmlsbD0iI2Y1MCIgZD0iTTExLjAyNyAxNmE0LjU1IDQuNTUgMCAwIDAgLjIzIDJIOUE2IDYgMCAxIDEgOSA2aDNWNGw0IDMtNCAzVjhIOWE0IDQgMCAxIDAgMCA4aDIuMDI3em03LjcyNS0yLjYxYTMuOTk3IDMuOTk3IDAgMCAwLTEuNjQ4LTQuNzkybDEuNzctMS4xOC4wMi4wMTdBNS45ODcgNS45ODcgMCAwIDEgMjEgMTJjMCAxLjMtLjQxMyAyLjUwMy0xLjExNiAzLjQ4NmE0LjQ5NiA0LjQ5NiAwIDAgMC0xLjEzMi0yLjA5NnoiLz48cGF0aCBmaWxsPSIjZjUwIiBkPSJNMTUuNSAyMGEzLjUgMy41IDAgMSAxIDAtNyAzLjUgMy41IDAgMCAxIDAgN3ptLS41LTV2NGgxdi00aC0xem0tMSAwdjFoMXYtMWgtMXoiLz48L3N2Zz4K"},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCI+PHBhdGggZmlsbD0iI2Y1MCIgZD0iTTEyIDhIOWE0IDQgMCAxIDAgMCA4aDZhNCA0IDAgMCAwIDIuMTA0LTcuNDAzbDEuNzctMS4xOC4wMi4wMThBNiA2IDAgMCAxIDE1IDE4SDlBNiA2IDAgMSAxIDkgNmgzVjRsNCAzLTQgM1Y4eiIvPjwvc3ZnPgo="},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCI+PHBhdGggZmlsbD0iIzMzMyIgZD0iTTEyIDhIOWE0IDQgMCAxIDAgMCA4aDZhNCA0IDAgMCAwIDIuMTA0LTcuNDAzbDEuNzctMS4xOC4wMi4wMThBNiA2IDAgMCAxIDE1IDE4SDlBNiA2IDAgMSAxIDkgNmgzVjRsNCAzLTQgM1Y4eiIvPjwvc3ZnPgo="},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,r){e.exports={userBadge:{Subview:r(1754),minHeight:199,width:"150",offset:"0 10"},genericProUpsell:{Subview:r(718),width:"200",offset:"0 10"},genericGoUpsell:{Subview:r(1761),width:"200",offset:"0 10"},confirmation:{Subview:r(1766),width:"200",offset:"0 10"},audibleAttribute:{Subview:r(640),relativeElementAnchor:"center bottom",width:"200",anchor:"right top",offset:"18 10",smallText:!0},genericDialog:{relativeElementAnchor:"center bottom",anchor:"right top",offset:"18 10",smallText:!1,text:""}}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){
/** @license
 * eventsource.js
 * Available under MIT License (MIT)
 * https://github.com/Yaffle/EventSource/
 */
!function(e){"use strict";var t=e.setTimeout,r=e.clearTimeout;function n(){this.data={}}function i(){this.listeners=new n}function o(e){t((function(){throw e}),0)}function a(e){this.type=e,this.target=void 0}function s(e,t){a.call(this,e),this.data=t.data,this.lastEventId=t.lastEventId}n.prototype.get=function(e){return this.data[e+"~"]},n.prototype.set=function(e,t){this.data[e+"~"]=t},n.prototype.delete=function(e){delete this.data[e+"~"]},i.prototype.dispatchEvent=function(e){e.target=this;var t=e.type.toString(),r=this.listeners.get(t);if(null!=r)for(var n=r.length,i=-1,a=void 0;++i<n;){a=r[i];try{a.call(this,e)}catch(e){o(e)}}},i.prototype.addEventListener=function(e,t){e=e.toString();var r=this.listeners,n=r.get(e);null==n&&(n=[],r.set(e,n));for(var i=n.length;--i>=0;)if(n[i]===t)return;n.push(t)},i.prototype.removeEventListener=function(e,t){e=e.toString();var r=this.listeners,n=r.get(e);if(null!=n){for(var i=n.length,o=[],a=-1;++a<i;)n[a]!==t&&o.push(n[a]);0===o.length?r.delete(e):r.set(e,o)}},s.prototype=a.prototype;var u=e.XMLHttpRequest,l=e.XDomainRequest,c=null!=u&&null!=(new u).withCredentials,d=c||null!=u&&null==l?u:l,f=-1,p=0,h=1,g=2,y=3,m=4,_=5,v=6,b=7,w=/^text\/event\-stream;?(\s*charset\=utf\-8)?$/i,E=1e3,S=18e6;function A(e,t){var r=e;return r!=r&&(r=t),r<E?E:r>S?S:r}function P(e,t,r){try{"function"==typeof t&&t.call(e,r)}catch(e){o(e)}}function I(n,o){n=n.toString();var u=c&&null!=o&&Boolean(o.withCredentials),l=A(1e3,0),E=A(45e3,0),I="",M=this,T=l,k=!1,C=new(null!=o&&null!=o.Transport?o.Transport:d),x=0,D=0,O=0,R=f,L=[],N="",j="",F=void 0,U=m,B="",z="";function H(){R=g,null!=C&&(C.abort(),C=void 0),0!==x&&(r(x),x=0),0!==D&&(r(D),D=0),M.readyState=g}function G(e){var i="";if(R===h||R===p)try{i=C.responseText}catch(e){}var o=void 0,u=!1;if(R===p){var c=0,d="",D=void 0;if("contentType"in C)""!==e&&"error"!==e&&(c=200,d="OK",D=C.contentType);else try{c=C.status,d=C.statusText,D=C.getResponseHeader("Content-Type")}catch(e){c=0,d="",D=void 0}if(null==D&&(D=""),0===c&&""===d&&"load"===e&&""!==i&&(c=200,d="OK",""===D)){var G=/^data\:([^,]*?)(?:;base64)?,[\S]*$/.exec(n);null!=G&&(D=G[1])}if(200===c&&w.test(D)){if(R=h,k=!0,T=l,M.readyState=h,o=new a("open"),M.dispatchEvent(o),P(M,M.onopen,o),R===g)return}else if(0!==c&&(200!==c||""!==D)){var V="";V=200!==c?"EventSource's response has a status "+c+" "+d.replace(/\s+/g," ")+" that is not 200. Aborting the connection.":"EventSource's response has a Content-Type specifying an unsupported type: "+D.replace(/\s+/g," ")+". Aborting the connection.",t((function(){throw new Error(V)}),0),u=!0}}if(R===h){i.length>O&&(k=!0);for(var q=O-1,W=i.length,Y="\n";++q<W;)if(Y=i.charAt(q),U===y&&"\n"===Y)U=m;else if(U===y&&(U=m),"\r"===Y||"\n"===Y){if("data"===B?L.push(z):"id"===B?N=z:"event"===B?j=z:"retry"===B?(l=A(Number(z),l),T=l):"heartbeatTimeout"===B&&(E=A(Number(z),E),0!==x&&(r(x),x=t(F,E))),z="",B="",U===m){if(0!==L.length&&(I=N,""===j&&(j="message"),o=new s(j,{data:L.join("\n"),lastEventId:N}),M.dispatchEvent(o),"message"===j&&P(M,M.onmessage,o),R===g))return;L.length=0,j=""}U="\r"===Y?y:m}else U===m&&(U=_),U===_?":"===Y?U=v:B+=Y:U===v?(" "!==Y&&(z+=Y),U=b):U===b&&(z+=Y);O=W}R!==h&&R!==p||!("load"===e||"error"===e||u||O>1048576||0===x&&!k)?0===x&&(k=!1,x=t(F,E)):(u?H():(""!==e||0!==x||k||t((function(){throw new Error("No activity within "+E+" milliseconds. Reconnecting.")}),0),R=f,C.abort(),0!==x&&(r(x),x=0),T>16*l&&(T=16*l),T>S&&(T=S),x=t(F,T),T=2*T+1,M.readyState=p),o=new a("error"),M.dispatchEvent(o),P(M,M.onerror,o))}function V(){G("progress")}function q(){G("load")}function W(){G("error")}function Y(){4===C.readyState?0===C.status?G("error"):G("load"):G("progress")}"readyState"in C&&null!=e.opera&&(D=t((function e(){3===C.readyState&&G("progress"),D=t(e,500)}),0)),F=function(){if(x=0,R===f)if((!("ontimeout"in C)||"sendAsBinary"in C||"mozAnon"in C)&&null!=e.document&&null!=e.document.readyState&&"complete"!==e.document.readyState)x=t(F,4);else{C.onload=q,C.onerror=W,"onabort"in C&&(C.onabort=W),"onprogress"in C&&(C.onprogress=V),"onreadystatechange"in C&&(C.onreadystatechange=Y),k=!1,x=t(F,E),O=0,R=p,L.length=0,j="",N=I,z="",B="",U=m;var r=n.slice(0,5);r="data:"!==r&&"blob:"!==r?n+(-1===n.indexOf("?",0)?"?":"&")+"lastEventId="+encodeURIComponent(I)+"&r="+(Math.random()+1).toString().slice(2):n,C.open("GET",r,!0),"withCredentials"in C&&(C.withCredentials=u),"responseType"in C&&(C.responseType="text"),"setRequestHeader"in C&&C.setRequestHeader("Accept","text/event-stream"),C.send(void 0)}else G("")},i.call(this),this.close=H,this.url=n,this.readyState=p,this.withCredentials=u,this.onopen=void 0,this.onmessage=void 0,this.onerror=void 0,F()}function M(){this.CONNECTING=p,this.OPEN=h,this.CLOSED=g}M.prototype=i.prototype,I.prototype=new M,M.call(I),c&&(I.prototype.withCredentials=void 0);null==d||null!=e.EventSource&&(!c||null!=e.EventSource&&"withCredentials"in e.EventSource.prototype)||(e.NativeEventSource=e.EventSource,e.EventSource=I)}("undefined"!=typeof window?window:this)},function(e,t,r){var n=r(1788).Deferred;e.exports=function(e){var t,r,i,o,a,s,u,l;e&&(i=e.data||null,r=e.url||"",t=e.type||"GET",o=e.dataType||"text",a=e.async,s=e.timeout,u=e.beforeSend||null);var c=n();a=!1!==a;var d=new XMLHttpRequest;return d.open(t,r,a),a&&(d.responseType="text"),u&&u(d),d.onreadystatechange=function(){if(4===d.readyState)if(clearTimeout(l),0!==d.status&&d.status<400){var e=d.responseText;if("json"===o)try{e=JSON.parse(e)}catch(e){return void c.reject(d)}c.resolve(e)}else c.reject(d)},null!=s&&(l=setTimeout((function(){4!==d.readyState&&(d.abort(),c.reject(d))}),s)),d.send(i),c.promise()}},,,,,function(e,t,r){var n=r(1793),i=r(621);e.exports=function(e,t){return null==t?e:n(t,i(t),e)}},function(e,t){e.exports=function(e,t,r){r||(r={});for(var n=-1,i=t.length;++n<i;){var o=t[n];r[o]=e[o]}return r}},function(e,t){var r="[object Function]",n=/^\[object .+?Constructor\]$/;var i=Object.prototype,o=Function.prototype.toString,a=i.hasOwnProperty,s=i.toString,u=RegExp("^"+o.call(a).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e,t){var i=null==e?void 0:e[t];return function(e){if(null==e)return!1;if(function(e){return function(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}(e)&&s.call(e)==r}(e))return u.test(o.call(e));return function(e){return!!e&&"object"==typeof e}(e)&&n.test(e)}(i)?i:void 0}},function(e,t){var r=9007199254740991,n="[object Arguments]",i="[object Function]",o="[object GeneratorFunction]",a=Object.prototype,s=a.hasOwnProperty,u=a.toString,l=a.propertyIsEnumerable;e.exports=function(e){return function(e){return function(e){return!!e&&"object"==typeof e}(e)&&function(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=r}(e.length)&&!function(e){var t=function(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}(e)?u.call(e):"";return t==i||t==o}(e)}(e)}(e)&&s.call(e,"callee")&&(!l.call(e,"callee")||u.call(e)==n)}},function(e,t){var r="[object Function]",n=/^\[object .+?Constructor\]$/;function i(e){return!!e&&"object"==typeof e}var o,a,s,u=Object.prototype,l=Function.prototype.toString,c=u.hasOwnProperty,d=u.toString,f=RegExp("^"+l.call(c).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),p=(o=Array,a="isArray",function(e){return null!=e&&(function(e){return function(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}(e)&&d.call(e)==r}(e)?f.test(l.call(e)):i(e)&&n.test(e))}(s=null==o?void 0:o[a])?s:void 0),h=9007199254740991;var g=p||function(e){return i(e)&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=h}(e.length)&&"[object Array]"==d.call(e)};e.exports=g},function(e,t,r){var n=r(1798),i=r(1799),o=r(1800);e.exports=function(e){return o((function(t,r){var o=-1,a=null==t?0:r.length,s=a>2?r[a-2]:void 0,u=a>2?r[2]:void 0,l=a>1?r[a-1]:void 0;for("function"==typeof s?(s=n(s,l,5),a-=2):a-=(s="function"==typeof l?l:void 0)?1:0,u&&i(r[0],r[1],u)&&(s=a<3?void 0:s,a=1);++o<a;){var c=r[o];c&&e(t,c,s)}return t}))}},function(e,t){function r(e){return e}e.exports=function(e,t,n){if("function"!=typeof e)return r;if(void 0===t)return e;switch(n){case 1:return function(r){return e.call(t,r)};case 3:return function(r,n,i){return e.call(t,r,n,i)};case 4:return function(r,n,i,o){return e.call(t,r,n,i,o)};case 5:return function(r,n,i,o,a){return e.call(t,r,n,i,o,a)}}return function(){return e.apply(t,arguments)}}},function(e,t){var r=/^\d+$/,n=9007199254740991;var i,o=(i="length",function(e){return null==e?void 0:e[i]});function a(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=n}(o(e))}e.exports=function(e,t,i){if(!function(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}(i))return!1;var o=typeof t;if("number"==o?a(i)&&function(e,t){return e="number"==typeof e||r.test(e)?+e:-1,t=null==t?n:t,e>-1&&e%1==0&&e<t}(t,i.length):"string"==o&&t in i){var s=i[t];return e==e?e===s:s!=s}return!1}},function(e,t){var r="Expected a function",n=Math.max;e.exports=function(e,t){if("function"!=typeof e)throw new TypeError(r);return t=n(void 0===t?e.length-1:+t||0,0),function(){for(var r=arguments,i=-1,o=n(r.length-t,0),a=Array(o);++i<o;)a[i]=r[t+i];switch(t){case 0:return e.call(this,a);case 1:return e.call(this,r[0],a);case 2:return e.call(this,r[0],r[1],a)}var s=Array(t+1);for(i=-1;++i<t;)s[i]=r[i];return s[t]=a,e.apply(this,s)}}},,,,function(e,t,r){"use strict";var n={};e.exports={getItem:function(e){return e in n?n[e]:null},setItem:function(e,t){return n[e]=t,!0},removeItem:function(e){return!!(e in n)&&delete n[e]},clear:function(){return n={},!0}}},function(e,t,r){"use strict";(function(t){var r={},n=!1;function i(e){e||(e=t.event);var n=r[e.key];n&&n.forEach((function(t){t(JSON.parse(e.newValue),JSON.parse(e.oldValue),e.url||e.uri)}))}e.exports={on:function(e,o){r[e]?r[e].push(o):r[e]=[o],!1===n&&(t.addEventListener?t.addEventListener("storage",i,!1):t.attachEvent?t.attachEvent("onstorage",i):t.onstorage=i)},off:function(e,t){var n=r[e];n.length>1?n.splice(n.indexOf(t),1):r[e]=[]}}}).call(this,r(149))},,function(e,t,r){var n={"./favicon_development.ico":1808,"./favicon_staging.ico":1809};function i(e){var t=o(e);return r(t)}function o(e){if(!r.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}i.keys=function(){return Object.keys(n)},i.resolve=o,e.exports=i,i.id=1807},function(e,t,r){e.exports=r.p+"assets/images/favicon_development-c0f256b5.ico"},function(e,t,r){e.exports=r.p+"assets/images/favicon_staging-bdd2170f.ico"}],[[771,50,0,1,2,49]]]);
//# sourceMappingURL=http://ent/web-sourcemaps/48-921b285e-3.js.map